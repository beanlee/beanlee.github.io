<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BeanLee Blog</title>
  
  <subtitle>è±†å­å…ˆæ£®çš„éƒ¨è½æ ¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://beanlee.github.io/"/>
  <updated>2018-06-14T10:29:08.989Z</updated>
  <id>https://beanlee.github.io/</id>
  
  <author>
    <name>Bean Lee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VSCode æ’ä»¶å¼€å‘æ€¥é€Ÿå…¥é—¨</title>
    <link href="https://beanlee.github.io/2018/06/13/vscode-extands-step-0/"/>
    <id>https://beanlee.github.io/2018/06/13/vscode-extands-step-0/</id>
    <published>2018-06-13T07:41:48.000Z</published>
    <updated>2018-06-14T10:29:08.989Z</updated>
    
    <content type="html"><![CDATA[<p>VSCode (å…¨ç§°ï¼šVistual Studio Code) ç”± Microsoft å‡ºå“ï¼Œå…¶å¯åŠ¨å¿«é€Ÿã€ç¨³å®šæ€§å¥½ã€å ç”¨å†…å­˜è¾ƒå°ã€æ’ä»¶è¶Šæ¥è¶Šä¸°å¯Œã€ç¤¾åŒºæ´»è·ƒç­‰ç‰¹ç‚¹ï¼Œç›®å‰æ˜¯ä¸ªäººå’Œå›¢é˜Ÿä¸­å¾ˆå¤šå°ä¼™ä¼´çš„ä¸»åŠ›ä»£ç ç¼–è¾‘å™¨ã€‚</p><p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ï¼Œæœ¬æ–‡ä½ å°†äº†è§£ç®€å•çš„ vscode çš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç»§ç»­é˜…è¯»ã€‚</p><a id="more"></a><blockquote><p>ä»¥ä¸‹æ–‡ä¸­æåˆ°çš„â€œæ’ä»¶â€å‡ä¸º Vistual Studio Code çš„æ’ä»¶ï¼ŒVistual Studio Code ä¹Ÿç®€ç§° VSCode</p></blockquote><h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><ul><li>nodejs <a href="https://nodejs.org/en/" target="_blank" rel="noopener">link</a> å»ºè®®ä½¿ç”¨ LTS ç‰ˆæœ¬ï¼Œæˆªæ­¢å‘æ–‡ v8.11.3</li><li>npm <a href="https://www.npmjs.com/package/npm" target="_blank" rel="noopener">link</a> å»ºè®®æœ€æ–°ç‰ˆæœ¬ï¼Œæˆªæ­¢å‘æ–‡ v6.1.0</li><li>yeoman <a href="http://yeoman.io/" target="_blank" rel="noopener">link</a> <code>npm install -g yo</code></li><li>generator-code <a href="https://github.com/Microsoft/vscode-generator-code" target="_blank" rel="noopener">link</a> <code>npm install -g generator-code</code></li></ul><p>åšå¥½ä¸Šé¢çš„ç¯å¢ƒå‡†å¤‡ï¼Œæ­£å¼è¿›å…¥å¼€å‘ï¼Œä¸‹é¢æˆ‘ä¼šä»¥è‡ªå·±åˆšåšå¥½çš„ä¸€ä¸ªæŸ¥è¯¢åŒ—äº¬åœ°åŒºç©ºæ°”è´¨é‡ä¸ºä¾‹å­ï¼Œç»§ç»­ä»‹ç»ï¼ˆå®‰å¿ƒã—ã¦ãã ã•ã„ï¼Œä»£ç å¾ˆå°‘ï¼Œå¾ˆå¥½å…¥é—¨ï¼‰ã€‚</p><h3 id="æ•°æ®å‡†å¤‡"><a href="#æ•°æ®å‡†å¤‡" class="headerlink" title="æ•°æ®å‡†å¤‡"></a>æ•°æ®å‡†å¤‡</h3><p>ä¸‹é¢æˆ‘ä»¬è¡¥å……ä¸€ä¸‹æˆ‘ä»¬çš„ä¾‹å­çš„åŠŸèƒ½ï¼Œé¦–å…ˆæ˜ç¡®æˆ‘ä»¬è¦è·å–åŸå¸‚çš„ AQIï¼ˆç©ºæ°”è´¨é‡ï¼‰ä¿¡æ¯ï¼Œç½‘ç»œä¸Šå¯ä»¥æœç´¢åˆ°ç›´æ¥è°ƒç”¨ API æˆ–è€… SDKï¼Œç¬”è€…ç›®å‰ä½¿ç”¨çš„äº¬ä¸œäº‘çš„ä¸€ä¸ªäº§å“äº¬ä¸œä¸‡è±¡ä¸­çš„ä¸€ä¸ªå¤©æ°”å…è´¹ APIï¼Œ<a href="https://wx.jdcloud.com/" target="_blank" rel="noopener">é“¾æ¥è§æ­¤</a> æ³¨å†Œåå®åè®¤è¯åå¯ä»¥è·å¾—ä¸€ä¸ªè°ƒç”¨åº”ç”¨çš„ KEY æ—¢å¯ä»¥è·å–å¤©æ°”æ•°æ®äº†ã€‚æ›´å¤šå…¶ä»–æ–¹é¢çš„ API è¯»è€…å¯ä»¥è‡ªè¡Œæ¢ç´¢ã€‚</p><p>ç¬”è€…ä½¿ç”¨çš„ API æ˜¯ <a href="https://wx.jdcloud.com/market/datas/26/10610" target="_blank" rel="noopener">https://wx.jdcloud.com/market/datas/26/10610</a> å‚æ•° city æ”¯æŒ ä¸­è‹±æ–‡åç§°ã€ID å’Œ IP é™åˆ¶ 5000æ¬¡/å¤©</p><h3 id="é”¦å›Š"><a href="#é”¦å›Š" class="headerlink" title="é”¦å›Š"></a>é”¦å›Š</h3><p>å·²æœ‰æ’ä»¶æ‰€åœ¨ç›®å½•å¦‚ä¸‹ï¼š</p><table><thead><tr><th>os</th><th>path</th></tr></thead><tbody><tr><td>windows</td><td>%USERPROFILE%\.vscode\extensions</td></tr><tr><td>macOS</td><td>~/.vscode/extensions</td></tr><tr><td>Linux</td><td>~/.vscode/extensions</td></tr></tbody></table><p>åœ¨è¿™ä¸ªç›®å½•ä¸‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…çš„æ‰€æœ‰æ’ä»¶çš„ä»£ç ï¼Œå³ä½¿æ’ä»¶æ˜¯ä½¿ç”¨ typescript ç¼–å†™ out æ–‡ä»¶å¤¹ä¹Ÿå¯ä»¥çœ‹åˆ°ç¼–è¯‘åçš„ javascript ä»£ç ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç›´æ¥çœ‹ä¸€çœ‹è‡ªå·±å¹³æ—¶æœ€å¸¸ç”¨çš„æ’ä»¶æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p><h3 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h3><p>æ‰§è¡Œä¸‹é¢ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo code</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåä¼šæç¤ºå‡ ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘ä»¬é€‰æ‹© <code>New Extension (JavaScript)</code>ï¼Œå…¶ä»–æ­£å¸¸å¡«å†™å³å¯ã€‚ï¼ˆå¯ä»¥ä½¿ç”¨ yo code æ¥åˆ›å»ºæ’ä»¶ã€ä¸»é¢˜ã€ä»£ç ç‰‡æ®µã€è¯­è¨€æ”¯æŒã€é”®ç›˜æ˜ å°„ã€æ’ä»¶åŒ…ï¼Œæœ¬æ–‡æˆ‘ä»¬åªè®¨è®ºæ’ä»¶ï¼Œå…¶ä»–æš‚ä¸”æ”¾åœ¨ä¸€è¾¹ã€‚ï¼‰</p><p><img src="https://img30.360buyimg.com/uba/jfs/t20848/320/1132999703/64245/a47741fc/5b20d75eN83303d8b.png" alt=""></p><p>å¡«å†™å®Œæˆåï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹å¹¶å¸®åŠ©åˆå§‹åŒ–å®Œæˆæ–‡ä»¶ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ç›®å½•ç»“æ„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ CHANGELOG.md <span class="comment">## ä¿®æ”¹è®°å½•</span></span><br><span class="line">â”œâ”€â”€ README.md <span class="comment">## æ’ä»¶è¯´æ˜ README</span></span><br><span class="line">â”œâ”€â”€ extension.js <span class="comment">## å…¥å£</span></span><br><span class="line">â”œâ”€â”€ jsconfig.json <span class="comment">## JavaScript é…ç½®</span></span><br><span class="line">â”œâ”€â”€ node_modules <span class="comment">## ä¾èµ–</span></span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ <span class="built_in">test</span></span><br><span class="line">â””â”€â”€ vsc-extension-quickstart.md</span><br></pre></td></tr></table></figure><p>ç†Ÿæ‚‰çš„é¡¹ç›®æ–‡ä»¶ç»“æ„ï¼Œç›´æ¥æŸ¥çœ‹ <code>vsc-extension-quickstart.md</code> è¿™ä¸ªæ–‡æ¡£ï¼Œæ–‡ä¸­æåˆ° <code>package.json</code> å£°æ˜å½“å‰æ’ä»¶å’Œå‘½ä»¤çš„é…ç½®æ–‡ä»¶ï¼Œç”¨æ¥æ³¨å†Œå‘½ä»¤ç­‰é…ç½®ï¼›<code>extension.js</code> æ˜¯ä¸»å…¥å£æ–‡ä»¶ï¼Œæ’ä»¶çš„å…·ä½“å®ç°ä»£ç å¯ä»¥æ”¾åœ¨è¿™é‡Œï¼›</p><p>ç®€å•äº†è§£ä¸€ä¸‹ä¸¤ä¸ªé‡è¦æ–‡ä»¶ï¼š</p><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "name": "city-aqi", // æ’ä»¶åç§°</span><br><span class="line">    "displayName": "city-aqi", // æ’ä»¶æ˜¾ç¤ºåç§°</span><br><span class="line">    "description": "Air Quaility Index of City", // æ’ä»¶æè¿°</span><br><span class="line">    "version": "0.0.1",</span><br><span class="line">    "publisher": "beanleecode", // æ’ä»¶å‘å¸ƒè€…</span><br><span class="line">    ...</span><br><span class="line">    "activationEvents": [ // æ´»åŠ¨äº‹ä»¶åˆ—è¡¨</span><br><span class="line">        <span class="string">"onCommand:extension.sayHello"</span></span><br><span class="line">    ],</span><br><span class="line">    "main": "./extension", // å…¥å£æ–‡ä»¶</span><br><span class="line">    "contributes": &#123;</span><br><span class="line">        "commands": [ // å¯¹åº”å‘½ä»¤åˆ—è¡¨</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"command"</span>: <span class="string">"extension.sayHello"</span>,</span><br><span class="line">                <span class="attr">"title"</span>: <span class="string">"Hello World"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>extension.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The module 'vscode' contains the VS Code extensibility API</span></span><br><span class="line"><span class="comment">// Import the module and reference it with the alias vscode in your code below</span></span><br><span class="line"><span class="keyword">const</span> vscode = <span class="built_in">require</span>(<span class="string">'vscode'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// this method is called when your extension is activated</span></span><br><span class="line"><span class="comment">// your extension is activated the very first time the command is executed</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activate</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use the console to output diagnostic information (console.log) and errors (console.error)</span></span><br><span class="line">  <span class="comment">// This line of code will only be executed once when your extension is activated</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œçš„ä»£ç å°†åªä¼šåœ¨æ’ä»¶æ¿€æ´»æ—¶æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Congratulations, your extension "city-aqi" is now active!'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// The command has been defined in the package.json file</span></span><br><span class="line">  <span class="comment">// å®šä¹‰åœ¨ package.json ä¸­çš„å‘½ä»¤åœ¨è¿™é‡Œå®šä¹‰</span></span><br><span class="line">  <span class="comment">// Now provide the implementation of the command with registerCommand</span></span><br><span class="line">  <span class="comment">// æä¾› registerCommand æ¥æ³¨å†Œå®ç°ä»£ç </span></span><br><span class="line">  <span class="comment">// The commandId parameter must match the command field in package.json</span></span><br><span class="line">  <span class="comment">// commandId å‚æ•°å¿…é¡»ä¸ package.json åŒ¹é…</span></span><br><span class="line">  <span class="keyword">let</span> disposable = vscode.commands.registerCommand(<span class="string">'extension.sayHello'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// The code you place here will be executed every time your command is executed</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„ä»£ç æ¯æ¬¡æ‰§è¡Œ è¿™ä¸ªå‘½ä»¤ çš„æ—¶å€™éƒ½ä¼šè¢«æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display a message box to the user</span></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºä¿¡æ¯æ¡†</span></span><br><span class="line">    vscode.window.showInformationMessage(<span class="string">'Hello World!'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  context.subscriptions.push(disposable);</span><br><span class="line">&#125;</span><br><span class="line">exports.activate = activate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this method is called when your extension is deactivated</span></span><br><span class="line"><span class="comment">// æ’ä»¶è¢«åœç”¨çš„æ—¶å€™è¢«è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deactivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">exports.deactivate = deactivate;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬ç›´æ¥ç”¨ VSCode æ‰“å¼€è¿™ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ‰“å¼€ <code>extension.js</code> æŒ‰ä¸‹é”®ç›˜ <code>F5</code> æˆ–å¯åŠ¨è°ƒè¯•ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»å¯åŠ¨ä¸€ä¸ªæ–°çš„çª—å£ï¼Œæˆ‘ä»¬æŒ‰ä¸‹ <code>command + shift + p</code> æˆ– <code>command + p å†è¾“å…¥ &gt;</code> å³å¯è°ƒç”¨æ’ä»¶ï¼Œåœ¨ package.json ä¸­å·²ç»å®šä¹‰è¿‡ commands æˆ‘ä»¬ç›´æ¥è¾“å…¥ <code>Hello World</code> ç›´æ¥å¯åŠ¨æ’ä»¶ï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ° Hello World çš„é€šçŸ¥æ¡†ï¼Œå°±å¯ä»¥è°ƒè¯•ä»£ç äº†ã€‚</p><p>OKï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¿›ä¸€æ­¥å®ç°æˆ‘ä»¬çš„åŠŸèƒ½ï¼Œè°ƒå–å¤©æ°” API æ•°æ®ï¼Œå±•ç¤ºã€‚</p><figure class="highlight javascript"><figcaption><span>extension.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vscode = <span class="built_in">require</span>(<span class="string">'vscode'</span>);</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activate</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cityAqi = vscode.commands.registerCommand(<span class="string">'extension.sayCityAqi'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> options = &#123;</span><br><span class="line">      ignoreFocusOut: <span class="literal">true</span>,</span><br><span class="line">      password: <span class="literal">false</span>,</span><br><span class="line">      prompt: <span class="string">"Please type your city (eg.beijing or åŒ—äº¬)"</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    vscode.window.showInputBox(options).then(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (value === <span class="literal">undefined</span> || value.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">        vscode.window.showInformationMessage(<span class="string">'Please type your city.'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> cityName = value.trim();</span><br><span class="line">          <span class="comment">// appkey=xxxxxxxx æ›¿æ¢æˆäº‹å…ˆç”³è¯·å¥½çš„ key</span></span><br><span class="line">          axios.get(<span class="string">`https://way.jd.com/he/freeweather?city=<span class="subst">$&#123;cityName&#125;</span>&amp;appkey=xxxxxxxx`</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">rep</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">if</span>(rep.data.code !== <span class="string">'10000'</span>) &#123;</span><br><span class="line">                vscode.window.showInformationMessage(<span class="string">'Sorry, Please try again.'</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">const</span> weatherData = rep.data.result.HeWeather5[<span class="number">0</span>]</span><br><span class="line">              <span class="keyword">if</span>(weatherData.status !== <span class="string">'ok'</span>) &#123;</span><br><span class="line">                vscode.window.showInformationMessage(<span class="string">`Sorry, <span class="subst">$&#123;weatherData.status&#125;</span>`</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">              &#125;</span><br><span class="line">              vscode.window.showInformationMessage(<span class="string">`<span class="subst">$&#123;weatherData.basic.city&#125;</span> 's AQI =&gt; PM25: <span class="subst">$&#123;weatherData.aqi.city.pm25&#125;</span>, PM10: <span class="subst">$&#123;weatherData.aqi.city.pm10&#125;</span> <span class="subst">$&#123;weatherData.aqi.city.qlty&#125;</span>`</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  context.subscriptions.push(cityAqi);</span><br><span class="line">&#125;</span><br><span class="line">exports.activate = activate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this method is called when your extension is deactivated</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deactivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">exports.deactivate = deactivate;</span><br></pre></td></tr></table></figure><p>Tadaaaï¼Œç®€å•çš„åŠŸèƒ½å°±å®Œæˆäº†ï¼:P</p><p><img src="https://img10.360buyimg.com/uba/jfs/t21937/257/1227805321/92154/d99f4ec1/5b2231f3N66d25b0d.gif" alt=""></p><p>ä»£ç ä¸­ç”¨åˆ°äº†ä¸¤ä¸ª vscode windows çš„ apiï¼Œ<em>showInputBox</em> å’Œ <em>showInformationMessage</em> æ›´å¤š API è¯¦è§<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api" target="_blank" rel="noopener">é“¾æ¥</a></p><p><img src="https://img20.360buyimg.com/uba/jfs/t23665/363/2293286/276483/f4555655/5b224074Ne999cf65.png" alt=""></p><p>å¯ä»¥çœ‹åˆ° API åŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥åšçš„äº‹è¿˜å¯ä»¥å¾ˆå¤š :)</p><h3 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vsce</span><br></pre></td></tr></table></figure><p>å‘å¸ƒå‰æˆ‘ä»¬å¯ä»¥æŠŠå¼€å‘å¥½çš„æ’ä»¶æ‰“åŒ…æˆ <code>.vsix</code> æ–‡ä»¶ï¼Œæä¾›ç»™èº«è¾¹çš„å°ä¼™ä¼´è¯•ç”¨ä¸€ä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce package</span><br></pre></td></tr></table></figure><p><code>city-aqi-0.0.1.vsix</code> å°±æ‰“åŒ…å®Œæˆäº†ï¼Œåœ¨æ’ä»¶é¢æ¿ä¸Šé€‰æ‹© ä» VSIX å®‰è£… æˆ–å‘½ä»¤è¡Œ <a href="https://code.visualstudio.com/docs/editor/extension-gallery#_install-from-a-vsix" target="_blank" rel="noopener">å…·ä½“è¯¦è§æ–‡æ¡£</a> å®‰è£…å®Œæˆåé‡æ–°åŠ è½½ VSCode å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><blockquote><p>è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæç¤ºä½ å…ˆä¿®æ”¹ README.md æ–‡ä»¶æ‰èƒ½æ‰“åŒ…ï¼Œç®€å•æè¿°åŠŸèƒ½å³å¯ã€‚</p></blockquote><h3 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h3><p>è¯¦ç»†å®Œå–„è¿‡ README.md å’Œ CHANGELOG.md å¹¶ä¸”åˆ é™¤äº†ä¸€äº›å†—ä½™çš„æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥å°†æ’ä»¶å‘å¸ƒåˆ°å¾®è½¯çš„æ’ä»¶å¸‚åœº Extension Marketplace ä¾›ä»–äººä¸‹è½½ä½¿ç”¨äº†ã€‚</p><p>åœ¨å‘å¸ƒæ’ä»¶ä¹‹å‰ï¼Œé¦–å…ˆï¼Œè·å– tokenï¼Œç™»å½• <a href="https://docs.microsoft.com/vsts/accounts/create-account-msa-or-work-student" target="_blank" rel="noopener">Visual Studio Team Services</a> æ³¨å†Œå¹¶ç™»å½•è´¦æˆ·ï¼Œåœ¨ Security ä¸­æ‰¾åˆ° Personal access tokens æ–°å»ºä¸€ä¸ª tokenã€‚å›åˆ°å‘½ä»¤è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce create-publisher xxxx</span><br></pre></td></tr></table></figure><p><img src="https://img14.360buyimg.com/uba/jfs/t21880/250/1201945807/26913/9c7e96d9/5b2240beNfc0ae8a5.png" alt=""></p><blockquote><p>å®Œæˆåä¸éœ€è¦é‡æ–° login ï¼Œå› ä¸º vsce å·²ç»å¸®ä½ è®°å½•å½“å‰çš„ publisherã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ vsce publish</span><br><span class="line">Publishing city-aqi@0.0.1...</span><br><span class="line">Successfully published city-aqi@0.0.1!</span><br></pre></td></tr></table></figure><p>ALL Done ğŸ‰ </p><p><img src="https://img14.360buyimg.com/uba/jfs/t23941/205/2220837/339379/fbe1b654/5b224350Nc2e1c2d4.png" alt=""></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://code.visualstudio.com/docs/extensions/overview" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£ https://code.visualstudio.com/docs/extensions/overview</a></li><li><a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api" target="_blank" rel="noopener">vscode-api https://code.visualstudio.com/docs/extensionAPI/vscode-api</a></li></ul><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>ç¬”è€…å‡ å¹´å‰ä¸€ç›´æ˜¯ <code>Sublime Text</code> çš„ä½¿ç”¨è€…ï¼Œä¿®æ”¹ jspã€vmã€sqlç­‰ç­‰æ–‡æœ¬æ–‡ä»¶ï¼Œåæ¥å‡ºç°äº† <code>Atom</code> ç¤¾åŒºä¹Ÿç›¸å½“æ´»è·ƒï¼Œç”¨æˆ·åŒæ ·å¾ˆå¤šï¼Œç¬”è€…ä¹Ÿæ›¾è¯•ç”¨è¿‡ä¸€æ®µæ—¶é—´ã€‚</p><p><strong>åˆé€‚çš„æ‰æ˜¯æœ€å¥½çš„</strong> è¿‘ä¸¤å¹´ VSCode ä¸€ç›´æ˜¯æˆ‘çš„ä¸»åŠ›å¼€å‘ç¼–è¾‘å™¨ï¼Œå®ƒä¹Ÿæœ‰ç¼ºç‚¹ï¼Œä½†æ˜¯å®ƒåœ¨ä¸æ–­ç²¾è¿›å’Œå®Œå–„ï¼Œå¤§å‚ç»´æŠ¤æ›´æ–°é¢‘ç‡ä¹Ÿå¾ˆå¿«ã€‚</p><p>å¾ˆå¤šå¤§ç‰›ä»¬å–œçˆ±çš„ <code>Vim</code> å’Œ <code>Emcas</code> ç¬”è€…æ²¡æœ‰ç”¨è¿‡ï¼Œç”šè‡³è¿å°è¯•éƒ½æ²¡æœ‰ï¼Œå¯èƒ½æ˜¯è¢«è¿‡äºçµæ´»çš„é…ç½®<strong>å“åˆ°äº†</strong>â€¦</p><p>PSï¼Œæœ€è¿‘çŸ¥é“ä¸€ä¸ªè¯<strong>å®œå®¶ç†è®º</strong>ï¼Œå¥—åœ¨ä¸Šé¢å‡ ä¸ªå·¥å…·ä¸Šé¢ï¼Œåº”è¯¥éƒ½é€‚ç”¨ï¼Œæ²¡æœ‰æœ€å¥½çš„åªæœ‰æœ€åˆé€‚è‡ªå·±çš„ã€‚ç°åœ¨æœºå™¨ä¸Šé…ç½®çš„ vscode çš„å¼€å‘ç¯å¢ƒï¼Œç¬”è€…å·²ç»ä¸å¾—ä¸ä½¿ç”¨åŒæ­¥æ’ä»¶æ¥è¿›è¡Œå¤‡ä»½ï¼Œä»¥å…æ›´æ¢æœºå™¨æ—¶é‡æ–°é…ç½®ã€‚</p><p>VSCode æœ‰å¾ˆå¤šæ–¹ä¾¿çš„æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æé«˜å¼€å‘æ•ˆç‡ï¼Œä»¥åæ‰¾æœºä¼šå†™ä¸€ä¸ªæ¨èåˆ—è¡¨åˆ†äº«å‡ºæ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;VSCode (å…¨ç§°ï¼šVistual Studio Code) ç”± Microsoft å‡ºå“ï¼Œå…¶å¯åŠ¨å¿«é€Ÿã€ç¨³å®šæ€§å¥½ã€å ç”¨å†…å­˜è¾ƒå°ã€æ’ä»¶è¶Šæ¥è¶Šä¸°å¯Œã€ç¤¾åŒºæ´»è·ƒç­‰ç‰¹ç‚¹ï¼Œç›®å‰æ˜¯ä¸ªäººå’Œå›¢é˜Ÿä¸­å¾ˆå¤šå°ä¼™ä¼´çš„ä¸»åŠ›ä»£ç ç¼–è¾‘å™¨ã€‚&lt;/p&gt;
&lt;p&gt;åºŸè¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ï¼Œæœ¬æ–‡ä½ å°†äº†è§£ç®€å•çš„ vscode çš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç»§ç»­é˜…è¯»ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Tool" scheme="https://beanlee.github.io/tags/Tool/"/>
    
      <category term="Front-End" scheme="https://beanlee.github.io/tags/Front-End/"/>
    
      <category term="NodeJS" scheme="https://beanlee.github.io/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>Webpack 4 å®æˆ˜ React å’Œ Vue é¡¹ç›®</title>
    <link href="https://beanlee.github.io/2018/06/11/something-about-webpack-4/"/>
    <id>https://beanlee.github.io/2018/06/11/something-about-webpack-4/</id>
    <published>2018-06-11T09:48:23.000Z</published>
    <updated>2018-06-12T01:25:47.728Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€ç›´åœ¨å‚ä¸å°ç»„å†…â€œé€ è½®å­â€ï¼ˆå…·ä½“å†…å®¹å¦å¯»æœºä¼šå†è¯¦è¯´ï¼‰åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œäº†è§£å¹¶ä¸”å­¦ä¹ åˆ° Webpack v4 çš„ä¸€äº›å†…å®¹ï¼Œè¶è®°å¿†è¿˜æ·±ï¼Œæ±‡æ€»æˆæ–‡ã€‚</p><p>é‰´äº Webpack ä½œä¸ºå…³é”®åœ¨ Google å¯ä»¥æœç´¢åˆ°å¾ˆå¤šç›¸å…³çš„æ–‡ç« ï¼Œç½‘ä¸Šæ–‡ç« ä¹Ÿæ˜¯é’ˆå¯¹å„è‡ªé¡¹ç›®å’ŒæŸäº›æƒ…å†µçš„å…·ä½“æ–¹æ¡ˆæˆ–è€…ä»‹ç»è¯´æ˜ï¼Œæœ¬æ–‡ä¹Ÿä¸ä¾‹å¤–ï¼Œåªä»‹ç»åˆ†äº«è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ <strong>4.0</strong> ç‰ˆæœ¬çš„ä¸ªäººå®æˆ˜ç»éªŒã€‚</p><blockquote><p>å¯¼è¯»ï¼šæœ¬æ–‡ä½ å°† Get åˆ°ä½¿ç”¨ Webpack 4 ä»é›¶å¼€å§‹åˆ†åˆ«æ­å»º React 16 å’Œ Vue 2 é¡¹ç›®ï¼ŒåŒæ—¶è¿˜æœ‰åŸºäº  Webpack 4 çš„ä¸€äº›å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½®ç»éªŒï¼Œæ„Ÿå…´è¶£åŒå­¦å¯ä»¥ç»§ç»­é˜…è¯»ã€‚</p></blockquote><p>PS. å‰åŠéƒ¨åˆ†è¾ƒä¸ºåŸºç¡€ï¼Œæœ‰ä¸€å®šç»éªŒçš„åŒå­¦å¯ä»¥ç›´æ¥è·³è¿‡é˜…è¯»<a href="#å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯">ååŠéƒ¨åˆ†å®æˆ˜å†…å®¹</a>ã€‚</p><a id="more"></a><p>ä»¥å‰ä¹Ÿç¿»è¯‘è¿‡ä¸¤ç¯‡å…³äº Webpack çš„æ–‡ç« ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç‚¹å‡»ä¸‹é¢é“¾æ¥æŸ¥çœ‹ï¼š<strong>!!! å¼ºçƒˆæ¨è !!!</strong></p><ul><li><a href="/2018/05/02/blog-translate-web-performance-optimization-with-webpack-from-google-webpack4/">ã€è¯‘ã€‘Google å‡ºå“ - åˆ©ç”¨ webpack åš web æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/2018/04/18/blog-translate-webpack-4-mode-and-optimization/">ã€è¯‘ã€‘Webpack 4 mode and optimization</a></li></ul><!-- TOC --><ul><li><a href="#Webpack-4-ä»â€œé›¶â€å¼€å§‹">Webpack 4 ä»â€œé›¶â€å¼€å§‹</a></li><li><a href="#Webpack-4-x-amp-React-16-x">Webpack 4.x &amp; React 16.x</a><ul><li><a href="#React-é¡¹ç›®åˆå§‹åŒ–">React é¡¹ç›®åˆå§‹åŒ–</a></li><li><a href="#è¿›å…¥å¼€å‘é˜¶æ®µ">è¿›å…¥å¼€å‘é˜¶æ®µ</a></li></ul></li><li><a href="#Webpack-4-x-amp-Vue-2-x">Webpack 4.x &amp; Vue 2.x</a><ul><li><a href="#Vue-é¡¹ç›®åˆå§‹åŒ–">Vue é¡¹ç›®åˆå§‹åŒ–</a></li></ul></li><li><a href="#å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯">å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯</a><ul><li><a href="#æå–å…¬å…±ä¾èµ–">æå–å…¬å…±ä¾èµ–</a></li><li><a href="#æ–‡ä»¶å‹ç¼©">æ–‡ä»¶å‹ç¼©</a></li><li><a href="#proxy-æ¥å£ä»£ç†">proxy æ¥å£ä»£ç†</a></li><li><a href="#æ”¯æŒå¤šå…¥å£">æ”¯æŒå¤šå…¥å£</a></li><li><a href="#é¢„ç¼–è¯‘-sassã€å¼•å…¥-postcssã€å¤„ç†-css-å‹ç¼©-å’Œ-æ–‡ä»¶åˆ†ç¦»">é¢„ç¼–è¯‘ sassã€å¼•å…¥ postcssã€å¤„ç† css å‹ç¼© å’Œ æ–‡ä»¶åˆ†ç¦»</a></li><li><a href="#æ”¯æŒ-CDN-è·¯å¾„æ›¿æ¢">æ”¯æŒ CDN è·¯å¾„æ›¿æ¢</a></li><li><a href="#ç”Ÿäº§ç¯å¢ƒçš„-source-map">ç”Ÿäº§ç¯å¢ƒçš„ source-map</a></li><li><a href="#å¤„ç†å›¾ç‰‡èµ„æº">å¤„ç†å›¾ç‰‡èµ„æº</a></li><li><a href="#å…¶ä»–æ’ä»¶">å…¶ä»–æ’ä»¶</a></li></ul></li><li><a href="#å°ç»“">å°ç»“</a></li></ul><!-- /TOC --><p><em>æ­£æ–‡å¼€å§‹</em></p><h2 id="Webpack-4-ä»â€œé›¶â€å¼€å§‹"><a href="#Webpack-4-ä»â€œé›¶â€å¼€å§‹" class="headerlink" title="Webpack 4 ä»â€œé›¶â€å¼€å§‹"></a>Webpack 4 ä»â€œé›¶â€å¼€å§‹</h2><p>ç›¸ä¿¡æåˆ° Webpack æ— è®ºæ˜¯ä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè¿˜æ˜¯ Web å¼€å‘è€…éƒ½ä¸ä¼šå¤ªé™Œç”Ÿï¼Œå®ƒä»è¯ç”Ÿä¼Šå§‹å°±æ”¶åˆ°ç¤¾åŒºçš„è¿½æ§å’Œå¤§é‡çš„ç”Ÿäº§å®è·µï¼Œå¤§é‡çš„é¡¹ç›®ä»£ç æ„å»ºå·¥å…·å¼€å§‹é€‰æ‹©ä»–ä½œä¸ºä¸»åŠ›æ„å»ºå·¥å…·ï¼Œç©¶ç«Ÿå®ƒæ˜¯ä»€ä¹ˆæ ·å·¥å…·ï¼Œå®ƒçš„å®˜ç½‘æ˜¯è¿™æ ·æè¿°çš„ï¼š</p><blockquote><p>At its core, webpack is a static module bundler for modern JavaScript applications. When webpack processes your application, it internally builds a dependency graph which maps every module your project needs and generates one or more bundles.<br>å…¶æ ¸å¿ƒå°±æ˜¯ç°ä»£ Javascript åº”ç”¨çš„é™æ€æ¨¡å—æ„å»ºå™¨ã€‚å½“åœ¨åº”ç”¨ä¸­è¿è¡Œ Webpack çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šåœ¨å†…éƒ¨æ„å»ºä¾èµ–å›¾æ¥æ˜ å°„é¡¹ç›®ä¸­çš„æ¯ä¸€ä¸ªæ‰€éœ€è¦çš„æ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æ–‡ä»¶ã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ Webpack å¯ä»¥åˆ†æé¡¹ç›®ä¸­æ¨¡å—ä¹‹é—´çš„<strong>ä¾èµ–</strong>ï¼Œå¹¶å°†æœ€ç»ˆçš„ç»“æœæ‰“åŒ…æˆ bundle æ–‡ä»¶ï¼Œå¼€å‘è€…åªè¦åœ¨å¼€å‘è¿‡ç¨‹ä¸­åšåˆ°æ­£ç¡®çš„å¼•ç”¨å’Œæ­£å¸¸çš„ä»£ç å¼€å‘å³å¯ï¼Œæ‰“åŒ…çš„äº‹æƒ…ç»Ÿç»Ÿäº¤ç»™ Webpack å³å¯ã€‚</p><p>åœ¨ Webpack é€æ¸è¿›åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ–å¤šæˆ–å°‘å­˜åœ¨ä¸€äº›ç¼ºç‚¹è¢«ç¤¾åŒºäººä»¬æ‰€è¯Ÿç—…ï¼Œæ¯”å¦‚é…ç½®ç¹çã€æ„å»ºæ—¶é—´è¾ƒé•¿ä¸”å ç”¨ CPU é«˜ã€æ–‡æ¡£ä¸å®Œæ•´ç­‰ç­‰é—®é¢˜ï¼Œå¹¶ä¸”è¡ç”Ÿå‡ºä¸€äº›æ›¿ä»£å“ï¼Œä½† Webpack å›¢é˜Ÿå’Œå¼€æºç¤¾åŒºçš„æŒç»­ä¸æ–­çš„è´¡çŒ®ï¼Œå®ƒåœ¨ä¸æ–­å®Œå–„å’Œä¿®æ­£ï¼Œå¦‚ä»Šå·²ç»è¿›å…¥ <strong>v4.x.x çš„æ—¶ä»£</strong>ã€‚å¸®åŠ©å¼€å‘è€…å‡å°‘å·¥ä½œé‡æ˜¯ 4.0 çš„ä¸€ä¸ªä»»åŠ¡ï¼Œä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒWebpack <strong>å‡ ä¹</strong> å¯ä»¥åšåˆ°â€é›¶â€œé…ç½®æˆ–å°‘é…ç½®åœ°æ¥æ„å»ºé¡¹ç›®ç”Ÿæˆ Bundle æ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬å°±å…ˆæ¥çœ‹ä¸€ä¸‹ <code>Webpack 4</code> çš„â€œé›¶â€ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª <code>demo</code> æ–‡ä»¶å¤¹ï¼Œåšä¸€äº›ç®€å•çš„åˆå§‹åŒ–ä¿¡æ¯ï¼Œå¹¶æœ¬åœ°å®‰è£… <code>webpack</code>ï¼Œæ­¤æ—¶é¡¹ç›®ä¸­æ²¡æœ‰ webpack é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpack-4-demo</span><br><span class="line"><span class="built_in">cd</span> webpack-4-demo</span><br><span class="line">yarn init -y</span><br><span class="line">yarn add webpack --dev</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "build": "webpack"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn build</span><br></pre></td></tr></table></figure><blockquote><p>è¿‡ç¨‹ä¸­ä¼šæç¤ºæ˜¯å¦å®‰è£… <code>webpack-cli</code> ç›´æ¥æ•² <code>yes</code> å³å¯ã€‚</p></blockquote><p>æ­¤æ—¶æ§åˆ¶å°æ‰§è¡Œç»“æœä¼šæœ‰å¦‚ä¸‹æŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="keyword">in</span> Entry module not found: Error: Can<span class="string">'t resolve '</span>./src<span class="string">' in '</span>/Users/xxxx/webpack-4-demo<span class="string">'</span></span><br><span class="line"><span class="string">npm ERR! code ELIFECYCLE</span></span><br><span class="line"><span class="string">npm ERR! errno 2</span></span><br><span class="line"><span class="string">npm ERR! webpack-4-demo@1.0.0 build: `webpack`</span></span><br><span class="line"><span class="string">npm ERR! Exit status 2</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šæˆ‘ä»¬ç›®å‰æ²¡æœ‰å†™ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œä½† Webpack ä»ä¼šæç¤ºæ²¡æœ‰æ‰¾åˆ° <code>./src</code> ç›®å½•ä¸‹ moduleã€‚è‡ª v4.0 å¼€å§‹å·²ç» Webpack å¯ä»¥è‡ªåŠ¨åœ¨ä¸é…ç½® entry çš„æƒ…å†µä¸‹è‡ªåŠ¨æ£€ç´¢é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ src ç›®å½•ä¸‹çš„ js æ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶è¿›è¡Œç¼–è¯‘äº†ã€‚</p></blockquote><p>æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰ç…§é”™è¯¯æç¤ºï¼Œåœ¨ç›®å½•ä¸‹åˆ›å»º <code>src</code> æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>index.js</code> å¹¶ä¸”è¾“å…¥å†…å®¹ <code>console.log(&#39;hello webpack 4&#39;)</code>ï¼Œå†æ¬¡è¿è¡Œ <code>yarn build</code>ã€‚</p><p>è¿™æ—¶å¯ä»¥çœ‹åˆ°ç¼–è¯‘æˆåŠŸï¼Œé¡¹ç›®ç›®å½•ä¸‹å¤šå‡ºä¸€ä¸ª <code>dist</code> æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬äº‹å…ˆä¹Ÿå¹¶æ²¡æœ‰é…ç½® <code>output</code> è¾“å‡ºæŒ‡å‘ï¼Œ<code>Webpack</code> é»˜è®¤å°† bundle å¥½çš„å†…å®¹ï¼Œæ”¾åœ¨äº† dist æ–‡ä»¶å¤¹å†…ã€‚</p><p>åœ¨æ‰§è¡ŒæˆåŠŸçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€å¤„è­¦å‘Šæç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WARNING <span class="keyword">in</span> configuration</span><br><span class="line">The <span class="string">'mode'</span> option has not been <span class="built_in">set</span>, webpack will fallback to <span class="string">'production'</span> <span class="keyword">for</span> this value. Set <span class="string">'mode'</span> option to <span class="string">'development'</span> or <span class="string">'production'</span> to <span class="built_in">enable</span> defaults <span class="keyword">for</span> each environment.</span><br><span class="line">You can also <span class="built_in">set</span> it to <span class="string">'none'</span> to <span class="built_in">disable</span> any default behavior. Learn more: https://webpack.js.org/concepts/mode/</span><br></pre></td></tr></table></figure><p>å›è¿‡å¤´æŸ¥çœ‹åˆšåˆšç¼–è¯‘å¥½çš„ <code>main.js</code> æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å·²ç»ç›´æ¥è¢«å‹ç¼©å¥½çš„ï¼Œä¸”å¯åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹è¿è¡Œã€‚</p><p>è­¦å‘Šä¸­æåˆ°çš„<code>mode</code> å°±æ˜¯ Webpack 4 æ–°å¢çš„ä¸€ä¸ªé…ç½®ï¼Œå…·ä½“å†…å®¹å¯ä»¥è§ä¸‹é¢é“¾æ¥ï¼Œä»¥åŠç¬”è€…ä¹‹å‰çš„ç¿»è¯‘æ–‡ç« ã€‚</p><ul><li><a href="https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a" target="_blank" rel="noopener">ã€åŸæ–‡ã€‘Webpack 4 mode and optimization</a></li><li><a href="/2018/04/18/blog-translate-webpack-4-mode-and-optimization/">ã€è¯‘ã€‘Webpack 4 mode and optimization</a></li></ul><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>--mode</code> é€‰é¡¹æ¥æ‰‹åŠ¨é€‰æ‹© bundle çš„æ¨¡å¼ï¼Œæ¯”å¦‚ <code>webpack --mode development</code>ã€‚</p><p>è‡ªæ­¤ï¼Œå¦‚æœä½ çš„é¡¹ç›® src ç›®å½•ä¸‹çš„å†…å®¹éœ€è¦ Webpack å¸®ä½ ç¼–è¯‘ï¼Œè¾“å‡ºåœ¨ dist ç›®å½•ï¼ŒWebpack å‡ ä¹é›¶é…ç½®å°±å¯ä»¥ç›´æ¥â€œèƒœä»»â€äº†ã€‚</p><h2 id="Webpack-4-x-amp-React-16-x"><a href="#Webpack-4-x-amp-React-16-x" class="headerlink" title="Webpack 4.x &amp; React 16.x"></a>Webpack 4.x &amp; React 16.x</h2><p>ä¸Šä¸€èŠ‚ç®€å•ä»‹ç»äº† V4.x <strong>â€œé›¶â€</strong>é…ç½®çš„åŸºç¡€åº”ç”¨ã€‚å½“ç„¶ï¼Œå®é™…å·¥ä½œä¸­æˆ‘ä»¬çš„é¡¹ç›®éƒ½ä¼šæ¯”è¾ƒå¤æ‚ï¼Œä¸Šé¢çš„å†…å®¹è¿œä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä¸‹é¢æˆ‘ä»¬å°±ä»¥ä¸€ä¸ª <code>React 16 &amp; Webpack 4</code> DEMO é¡¹ç›®ä¸ºä¾‹ï¼Œè¿˜åŸä»é›¶å¼€å§‹æ­å»ºåŸºäº <code>Webpack</code> æ‰“åŒ…ç¼–è¯‘é¡¹ç›®çš„æ•´ä¸ªè¿‡ç¨‹ã€‚</p><blockquote><p>Facebook å®˜æ–¹æ¨å‡ºçš„ <code>create-react-app</code> å·¥å…·å·²ç»éå¸¸å¥½ç”¨ï¼Œä½†ä»ç„¶éœ€è¦åšä¸€äº›ä¿®æ”¹æ‰å¯ä»¥æ»¡è¶³å®é™…é¡¹ç›®ä¸Šçº¿çš„éœ€æ±‚ï¼ŒåŒæ—¶æˆ‘ä»¬ä»å¸Œæœ›æœ‰æ›´å¤šæ‰€è°“<strong>ä¸ªæ€§åŒ–</strong>è®¾ç½®æ¥æ”¯æŒé¡¹ç›®ï¼Œä¸”æˆªè‡³åˆ°ä»Šå¤© <code>cra</code> ä½¿ç”¨ webpack 3.8 ä¸æˆ‘ä»¬æœ¬æ–‡ä»‹ç» webpack 4 æœ‰å‡ºå…¥ï¼Œæ‰€ä»¥ä¸‹é¢å†…å®¹ä¸å†æåŠï¼Œå¯¹ <code>cra</code> æ„Ÿå…´è¶£çš„åŒå­¦ä¹Ÿå¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹äº†è§£ã€‚</p></blockquote><h3 id="React-é¡¹ç›®åˆå§‹åŒ–"><a href="#React-é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="React é¡¹ç›®åˆå§‹åŒ–"></a>React é¡¹ç›®åˆå§‹åŒ–</h3><p>é¦–å…ˆï¼Œé‡å¤ä¸Šé¢ä»‹ç»çš„æ­¥éª¤ï¼šï¼ˆåˆ›å»ºç›®å½•ã€å®‰è£… reactã€å®‰è£… webpackã€å®‰è£… babelï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir react-webpack-demo</span><br><span class="line"><span class="built_in">cd</span> react-webpack-demo</span><br><span class="line"><span class="comment">## åˆå§‹åŒ– package.json</span></span><br><span class="line">yarn init -y</span><br><span class="line"><span class="comment">## å®‰è£… react</span></span><br><span class="line">yarn add react react-dom</span><br><span class="line"><span class="comment">## å®‰è£… webpack</span></span><br><span class="line">yarn add webpack webpack-cli --dev</span><br><span class="line"><span class="comment">## å®‰è£… babel</span></span><br><span class="line">yarn add @babel/core @babel/preset-env --dev</span><br><span class="line"><span class="comment">## å®‰è£… babel-react</span></span><br><span class="line">yarn add @babel/preset-react <span class="string">"babel-loader@^8.0.0-beta"</span> --dev</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ babel è½¬ä¹‰ï¼Œæ­¤å¤„æ—¢å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.babelrc</code> æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç¨ååœ¨ webpack.config.js ä¸­é…ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©åœ¨åè€…ç»Ÿä¸€é…ç½®ã€‚</p></blockquote><p>ç°åœ¨æˆ‘ä»¬æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œ<code>webpack.config.js</code> ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">          options: &#123; <span class="comment">// babel è½¬ä¹‰çš„é…ç½®é€‰é¡¹</span></span><br><span class="line">            babelrc: <span class="literal">false</span>,</span><br><span class="line">            presets: [</span><br><span class="line">              <span class="built_in">require</span>.resolve(<span class="string">'@babel/preset-react'</span>),</span><br><span class="line">              [<span class="built_in">require</span>.resolve(<span class="string">'@babel/preset-env'</span>), &#123; <span class="attr">modules</span>: <span class="literal">false</span> &#125;],</span><br><span class="line">            ],</span><br><span class="line">            cacheDirectory: <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>src</code> ç›®å½•ä¸‹åˆ›å»º <code>App.jsx</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">"react-dom"</span>;</span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;Hello React and Webpack&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span>, document.getElementById("app"));</span></span><br></pre></td></tr></table></figure><p>åœ¨ <code>src</code> ä¸‹æ–°å»º <code>index.jsx</code> å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>yarn build</code> ç­‰å¾…æ‰“åŒ…ç»“æœï¼Œæ­¤æ—¶ç›®å½• <code>dist</code> ä¸‹å·²ç»æ‰“åŒ…å¥½ bundleã€‚</p><p>æˆ‘ä»¬æ¥ç€åˆ›å»º html æ–‡ä»¶ï¼Œåœ¨ src ä¸‹åˆ›å»º <code>index.html</code> :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React Webpack<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ build çš„é…ç½®ï¼Œæ‹·è´ html</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add html-webpack-plugin</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸Šé¢çš„ configï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebPackPlugin = require("html-webpack-plugin");</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: 'production',</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: ['.js', '.jsx'],</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.jsx?$/,</span><br><span class="line">        exclude: /node_modules/,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: 'babel-loader',</span><br><span class="line">          options: &#123;</span><br><span class="line">            babelrc: false,</span><br><span class="line">            presets: [</span><br><span class="line">              require.resolve('@babel/preset-react'),</span><br><span class="line">              [require.resolve('@babel/preset-env'), &#123; modules: false &#125;],</span><br><span class="line">            ],</span><br><span class="line">            cacheDirectory: true,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line"><span class="addition">+   new HtmlWebPackPlugin(&#123;</span></span><br><span class="line"><span class="addition">+     template: "src/index.html",</span></span><br><span class="line"><span class="addition">+     filename: "index.html"</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>yarn build</code> å°±å¯ä»¥çœ‹åˆ°å·²ç»æ‰“åŒ…å¥½çš„ index.html å’Œ bundle js ã€‚</p><h3 id="è¿›å…¥å¼€å‘é˜¶æ®µ"><a href="#è¿›å…¥å¼€å‘é˜¶æ®µ" class="headerlink" title="è¿›å…¥å¼€å‘é˜¶æ®µ"></a>è¿›å…¥å¼€å‘é˜¶æ®µ</h3><h4 id="dev-server"><a href="#dev-server" class="headerlink" title="dev-server"></a>dev-server</h4><p>é€šè¿‡ <code>webpack-dev-server</code> æ­å»ºæœ¬åœ° server æœåŠ¡ï¼Œç›®å‰æ˜¯é€šç”¨çš„è§£å†³åŠæ³•</p><p>å®‰è£…ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-dev-server --dev</span><br></pre></td></tr></table></figure><p>æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬åœ¨ <code>package.json</code> çš„ scripts ä¸­å¢åŠ å†…å®¹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server --mode development --open",</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œ <code>yarn start</code> æ­¤æ—¶ä¼šè¿è¡Œä¸€ä¸ª dev-server æœåŠ¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ–¹ä¾¿åœ°åœ¨æœ¬åœ°è¿›è¡Œå¼€å‘äº†ã€‚</p><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬è¿˜æœ‰ä¸€äº›å…¶ä»–çš„éœ€æ±‚ï¼Œæ¯”å¦‚ <code>sourceMap</code> ã€ä¿®æ”¹ dev-server é…ç½®ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªé…ç½® <code>webpack.config.dev.js</code> ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">const path = require('path');</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: 'development',</span><br><span class="line"><span class="addition">+ devtool: 'cheap-module-source-map',</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: ['.js', '.jsx'],</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="addition">+ devServer: &#123;</span></span><br><span class="line"><span class="addition">+   contentBase: path.join(__dirname, "./src/"),</span></span><br><span class="line"><span class="addition">+   publicPath: '/',</span></span><br><span class="line"><span class="addition">+   host: '127.0.0.1',</span></span><br><span class="line"><span class="addition">+   port: 3000,</span></span><br><span class="line"><span class="addition">+   stats: &#123;</span></span><br><span class="line"><span class="addition">+     colors: true,</span></span><br><span class="line"><span class="addition">+   &#125;,</span></span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.jsx?$/,</span><br><span class="line">        exclude: /node_modules/,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: 'babel-loader',</span><br><span class="line">          options: &#123; // babel è½¬ä¹‰çš„é…ç½®é€‰é¡¹</span><br><span class="line">            babelrc: false,</span><br><span class="line">            presets: [</span><br><span class="line">              require.resolve('@babel/preset-react'),</span><br><span class="line">              [require.resolve('@babel/preset-env'), &#123; modules: false &#125;],</span><br><span class="line">            ],</span><br><span class="line">            cacheDirectory: true,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebPackPlugin(&#123;</span><br><span class="line">      template: 'src/index.html',</span><br><span class="line">      filename: 'index.html',</span><br><span class="line"><span class="addition">+     inject: true,</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>package.json</code> ä¸­ scripts æ‰§è¡Œæ‰€éœ€è¦æ‰§è¡Œçš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server --config './webpack.config.dev.js'"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡æ–°æ‰§è¡Œ <code>yarn start</code> å¯ä»¥çœ‹åˆ°ä¿®æ”¹é…ç½®åçš„ dev-server</p><h5 id="çƒ­æ›´æ–°-HMR"><a href="#çƒ­æ›´æ–°-HMR" class="headerlink" title="çƒ­æ›´æ–° HMR"></a>çƒ­æ›´æ–° HMR</h5><p>é…ç½®çƒ­æ›´æ–°å°±å¯ä»¥è®©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°†ä¿®æ”¹åä»£ç æ•´é¡µé¢æ— åˆ·æ–°ä¸”ä¿æŒåŸæœ‰ state çš„æƒ…å†µä¸‹ç›´æ¥ååº”åˆ°é¡µé¢ï¼Œä¸‹é¢æˆ‘ä»¬ç»§ç»­ä¿®æ”¹ config.dev.js å¹¶åœ¨ App.jsx å¢åŠ å†…å®¹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// webpack.config.dev.js config éƒ¨åˆ†</span><br><span class="line">devServer: &#123;</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+ hot: true,</span></span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">// webpack.config.dev.js plugins éƒ¨åˆ†</span><br><span class="line">...</span><br><span class="line">plugins: [</span><br><span class="line"><span class="addition">+ new webpack.HotModuleReplacementPlugin(),</span></span><br><span class="line">  ...</span><br><span class="line">]</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">// app.jsx é¡µé¢åº•éƒ¨æ–°å¢</span><br><span class="line">...</span><br><span class="line"><span class="addition">+ if (module.hot) &#123;</span></span><br><span class="line"><span class="addition">+  module.hot.accept((err) =&gt; &#123;</span></span><br><span class="line"><span class="addition">+    if (err) &#123;</span></span><br><span class="line"><span class="addition">+      console.error('Cannot apply HMR update.', err);</span></span><br><span class="line"><span class="addition">+    &#125;</span></span><br><span class="line"><span class="addition">+  &#125;);</span></span><br><span class="line"><span class="addition">+ &#125;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>yarn start</code> é‡æ–°å¯åŠ¨ serverï¼Œæ¯æ¬¡ä¿®æ”¹ä»£ç åä¿å­˜å°±å¯ä»¥çœ‹åˆ°æ§åˆ¶å°é‡Œé‡æ–°ç¼–è¯‘çš„ä¿¡æ¯ï¼Œæµè§ˆå™¨ä¸­å˜åŒ–å®é™…ä¿®æ”¹çš„å†…å®¹äº†ã€‚</p><h2 id="Webpack-4-x-amp-Vue-2-x"><a href="#Webpack-4-x-amp-Vue-2-x" class="headerlink" title="Webpack 4.x &amp; Vue 2.x"></a>Webpack 4.x &amp; Vue 2.x</h2><blockquote><p>Vue å®˜æ–¹ä¹Ÿæ¨å‡º vue-cli æ¥å¸®åŠ©ä½¿ç”¨è€…å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨ webpack 4 æ¥è¿›è¡Œæ„å»ºé¡¹ç›®ï¼Œé€šè¿‡é˜…è¯»ä½¿ç”¨æ–‡æ¡£å’Œæºç ï¼Œéœ€è¦æ»¡è¶³ç°æœ‰å¤æ‚é¡¹ç›®çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯èƒ½ä¹Ÿæ˜¯ä¸ä»…éœ€è¦ä½¿ç”¨ â€“options çš„æ–¹å¼åŒæ—¶è¿˜éœ€è¦åšä¸€äº›å®šåˆ¶çš„å¼€å‘æ‰å¯ä»¥ï¼Œå› æ­¤ä¸‹é¢ä¸å†æåŠã€‚</p></blockquote><h3 id="Vue-é¡¹ç›®åˆå§‹åŒ–"><a href="#Vue-é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="Vue é¡¹ç›®åˆå§‹åŒ–"></a>Vue é¡¹ç›®åˆå§‹åŒ–</h3><p>ä¸ React é¡¹ç›®åˆå§‹åŒ–ä¸€è‡´ï¼ˆåˆ›å»ºç›®å½•ã€å®‰è£… vueã€å®‰è£… webpackã€å®‰è£… babelï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir vue-webpack-demo</span><br><span class="line"><span class="built_in">cd</span> vue-webpack-demo</span><br><span class="line"><span class="comment">## åˆå§‹åŒ– package.json</span></span><br><span class="line">yarn init -y</span><br><span class="line"><span class="comment">## å®‰è£… webpack</span></span><br><span class="line">yarn add webpack webpack-cli --dev</span><br><span class="line"><span class="comment">## å®‰è£… babel</span></span><br><span class="line">yarn add @babel/core @babel/preset-env --dev</span><br><span class="line"><span class="comment">## å®‰è£… vue</span></span><br><span class="line">yarn add vue</span><br><span class="line"><span class="comment">## å®‰è£… vue-loader</span></span><br><span class="line">yarn add vue-loader vue-template-compiler --dev</span><br></pre></td></tr></table></figure><p>åœ¨ vue-webpack-demo æ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ›å»º <code>index.html</code> ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Vue Demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ–°å»º src ç›®å½•ï¼Œå¹¶æ–°å»º app.js å’Œ app.vue æ–‡ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./app.vue'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// app.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    Hello Vue &amp; Webpack</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ¥å¢åŠ é…ç½®æ–‡ä»¶ï¼Œ<code>webpack.config.js</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">'vue-loader/lib/plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    extensions: [<span class="string">'*'</span>, <span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'babel-loader'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        include: <span class="string">'/src/'</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> VueLoaderPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'index.html'</span>,</span><br><span class="line">      template: <span class="string">'index.html'</span>,</span><br><span class="line">      chunks: [<span class="string">'app'</span>, <span class="string">'manifest'</span>, <span class="string">'vendor'</span>],</span><br><span class="line">    &#125;);</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæˆåæ‰§è¡Œ webpack å°±å¯ä»¥çœ‹åˆ° dist ä¸‹å·²ç»æ„å»ºå®Œæˆçš„é¡¹ç›®ã€‚</p><blockquote><p>æ³¨æ„ï¼švue-loader å·²ç»æ›´æ–°åˆ° v15.x ï¼Œä¸ä¹‹å‰ 14.x é…ç½®æ–¹å¼æœ‰å·®å¼‚ã€‚</p></blockquote><p>ç”¨äºå¼€å‘ dev-server é…ç½®ä¸ React åŸºæœ¬ä¸€è‡´ï¼Œè¿™é‡Œä¸é‡å¤ã€‚</p><h2 id="å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯"><a href="#å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯" class="headerlink" title="å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯"></a>å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯</h2><p>ä¸‹é¢çš„å†…å®¹æ˜¯åœ¨ç¬”è€…ç§¯ç´¯çš„é¡¹ç›®ä¼˜åŒ–å®æˆ˜ç»éªŒæ±‡æ€»ã€‚</p><h3 id="æå–å…¬å…±ä¾èµ–"><a href="#æå–å…¬å…±ä¾èµ–" class="headerlink" title="æå–å…¬å…±ä¾èµ–"></a>æå–å…¬å…±ä¾èµ–</h3><p>ä¸ºäº†å‡å°‘ä¸€æ¬¡è¯·æ±‚æ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼ŒåŒæ—¶ä¿®æ”¹ä¸šåŠ¡ä»£ç æ—¶ä¸å¿…è¦é‡å¤é‡æ–°ä¸‹è½½å…¬å…±ä¾èµ–ä»£ç ï¼Œæˆ‘ä»¬é€šå¸¸å°†å…¬å…±ä¾èµ–æ¨¡å—å¦‚ <code>react</code>ã€<code>react-dom</code>ã€<code>vue</code>ã€<code>axio</code> ç­‰æ–‡ä»¶æŠ½å–å‡ºæ¥ç‹¬ç«‹æ‰“åŒ…ã€‚</p><blockquote><p>æ³¨æ„ï¼š<code>CommonsChunkPlugin</code> åœ¨ 4.0 ä¸­å·²ç»è¢« <code>optimization</code> é€‰é¡¹å–ä»£ï¼Œä¸éœ€è¦å®‰è£…è¯¥æ’ä»¶å°±å¯ä»¥å®ç°ç›¸åŒæ•ˆæœï¼Œè§ä¸‹é¢é…ç½®ã€‚</p></blockquote><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mode: 'production',</span><br><span class="line">output: &#123;</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+ chunkFilename: 'js/[name].[chunkhash:8].js',</span></span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">optimization: &#123;</span><br><span class="line">  nodeEnv: 'production',</span><br><span class="line">  ...</span><br><span class="line">  runtimeChunk: &#123;</span><br><span class="line">    name: 'manifest', // è¿è¡Œæ—¶æ–‡ä»¶</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="addition">+ splitChunks: &#123;</span></span><br><span class="line"><span class="addition">+   cacheGroups: &#123;</span></span><br><span class="line"><span class="addition">+     commons: &#123;</span></span><br><span class="line"><span class="addition">+       test: /[\\/]node_modules[\\/]/,</span></span><br><span class="line"><span class="addition">+       name: 'vendor', // ä¾èµ–ç¬¬ä¸‰æ–¹åº“è¦æå–æˆåå­—æ˜¯çš„ vendor çš„æ–‡ä»¶</span></span><br><span class="line"><span class="addition">+       chunks: 'all', // æå–æ‰€æœ‰ chunks</span></span><br><span class="line"><span class="addition">+     &#125;,</span></span><br><span class="line"><span class="addition">+   &#125;,</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„é…ç½®ï¼Œå¯ä»¥å°†å…¬å…±ä¾èµ–å’Œä¸šåŠ¡ä»£ç éš”ç¦»å¼€æ¥ã€‚ä½†æ˜¯ï¼Œä¹Ÿä¼šå­˜åœ¨ä¸€äº›<strong>éšæ‚£</strong>ï¼š</p><ul><li>éšç€é¡¹ç›®å¤æ‚åº¦å¢åŠ ï¼Œä¾èµ–åº“å¢å¤šï¼Œ<code>vendor.js</code> çš„ä½“ç§¯ä¼šè¶Šæ¥è¶Š<strong>è‡ƒè‚¿</strong></li><li>å¤šé¡µé¢åº”ç”¨é¡¹ç›®ä¸­ï¼Œä¸åŒé¡µé¢ä»ç„¶ä¼šåŠ è½½åˆ°åœ¨æœ¬é¡µé¢æ ¹æœ¬æ— ç”¨çš„å…¬å…±ä¾èµ–çš„å†—ä½™ä»£ç </li></ul><p>æ‰€ä»¥å…·ä½“é¡¹ç›®éœ€è¦é€šè¿‡å…·ä½“çš„éœ€æ±‚æ¥æŠ½ç¦»å‡ºä¸åŒçš„ <code>chunks</code> æ¥åˆ†åˆ«å¼•ç”¨ï¼ŒæŒ‰éœ€å¼•ç”¨ã€‚</p><h3 id="æ–‡ä»¶å‹ç¼©"><a href="#æ–‡ä»¶å‹ç¼©" class="headerlink" title="æ–‡ä»¶å‹ç¼©"></a>æ–‡ä»¶å‹ç¼©</h3><p>é…ç½® <code>mode: &#39;production&#39;</code> Webpack ä¼šä½¿ç”¨é»˜è®¤æ’ä»¶ <code>[UglifyJs](https://github.com/webpack-contrib/uglifyjs-webpack-plugin)</code> æ¥è¿›è¡Œå‹ç¼©ä»£ç ã€‚</p><p>å®˜ç½‘æåˆ°åœ¨ <code>Webpack v4</code> ä»¥å‰ä½¿ç”¨å†…ç½®çš„ <code>webpack.optimize.UglifyJsPlugin</code> æ’ä»¶ï¼Œåœ¨ Webpack 4 ä»¥åï¼Œå¼€å§‹ä½¿ç”¨ ^1.0.0 ç‹¬ç«‹çš„ç‰ˆæœ¬ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ const UglifyJsPlugin = require('uglifyjs-webpack-plugin');</span></span><br><span class="line"><span class="addition">+ const os = require('os');</span></span><br><span class="line">...</span><br><span class="line">// webpack config</span><br><span class="line">optimization: &#123;</span><br><span class="line">  nodeEnv: 'production',</span><br><span class="line"><span class="addition">+ minimizer: [</span></span><br><span class="line"><span class="addition">+   new UglifyJsPlugin(&#123;</span></span><br><span class="line"><span class="addition">+     cache: true, // node_modules/.cache/uglifyjs-webpack-plugin</span></span><br><span class="line"><span class="addition">+     parallel: os.cpus().length, // å¹¶è¡Œ default:true os.cpus().length - 1</span></span><br><span class="line"><span class="addition">+     uglifyOptions: &#123;</span></span><br><span class="line"><span class="addition">+       ecma: 5,</span></span><br><span class="line"><span class="addition">+       mangle: true,</span></span><br><span class="line"><span class="addition">+     &#125;,</span></span><br><span class="line"><span class="addition">+     sourceMap: false,</span></span><br><span class="line"><span class="addition">+   &#125;),</span></span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š4.0 ç‰ˆæœ¬å‹ç¼©çš„ä»£ç å·²ç»æ”¾åœ¨ <code>optimization</code> ä¸‹ <code>minimizer</code> èŠ‚ç‚¹ä¸‹ã€‚<br>å¤‡æ³¨ï¼šå…³äº <code>parallel</code> é€‰é¡¹ï¼Œæ–°ç‰ˆçš„ uglifyjs å·²ç»æ”¯æŒå¤šæ ¸ CPU å¹¶è¡Œæ‰§è¡Œï¼Œæ‰€ä»¥å·²ç»ä¸éœ€è¦ <code>webpack-parallel-uglify-plugin</code> æ’ä»¶ã€‚</p></blockquote><h3 id="proxy-æ¥å£ä»£ç†"><a href="#proxy-æ¥å£ä»£ç†" class="headerlink" title="proxy æ¥å£ä»£ç†"></a>proxy æ¥å£ä»£ç†</h3><p>é…åˆ dev-server å¯¹ä»£ç†æœ¬åœ°å¯åŠ¨çš„ server æŸä¸€åŸŸåè¿›è¡Œä»£ç†ï¼Œè§£å†³æœåŠ¡ç«¯æ¥å£æš‚æ—¶æ»¡è¶³è¦æ±‚ã€æœ¬åœ°è¯·æ±‚è·¨åŸŸç­‰é—®é¢˜ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+ proxy: &#123;</span></span><br><span class="line"><span class="addition">+   "/api": "https://localhost:3000",</span></span><br><span class="line"><span class="addition">+   changeOrigin: true, // æ”¯æŒè·¨åŸŸè¯·æ±‚</span></span><br><span class="line"><span class="addition">+   secure: true, // æ”¯æŒ https</span></span><br><span class="line"><span class="addition">+ &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡æ¡£è§<a href="https://webpack.js.org/configuration/dev-server/#devserver-proxy" target="_blank" rel="noopener">dev-server-proxy doc</a></p><h3 id="æ”¯æŒå¤šå…¥å£"><a href="#æ”¯æŒå¤šå…¥å£" class="headerlink" title="æ”¯æŒå¤šå…¥å£"></a>æ”¯æŒå¤šå…¥å£</h3><p>è™½ç„¶å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½åœ¨å¼€å‘å¹¶ä¸”ç»´æŠ¤å•é¡µé¢çš„åº”ç”¨ï¼Œä½†æ˜¯å½“é‡åˆ°éœ€è¦å¤šé¡µé¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›åœ¨ä¸€ä¸ªé¡¹ç›®å†…è¿›è¡Œæ„å»ºï¼Œç›®å‰è§£å†³åŠæ³•æ¯”è¾ƒ<strong>ç²—æš´</strong>ï¼Œå½“å‰æœ‰ n ä¸ªå…¥å£ html å°±åˆ›å»º n ä¸ª <code>HtmlWebpackPlugin</code> æ’ä»¶å®ä¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// å…ˆæ‰¾åˆ°é¡¹ç›®æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ html æ­¤å¤„å‡è®¾æˆ‘ä»¬æŠŠå…¥å£ html æ”¾åœ¨ src/html ä¸‹ app1.htmlã€app2.htmlã€app3.html</span></span><br><span class="line"><span class="keyword">const</span> appHtmlEntries = fs.readdirSync(resolveToAppRoot(<span class="string">'./src/html/'</span>))</span><br><span class="line">  .filter(<span class="function"><span class="params">f</span> =&gt;</span> f.match(<span class="regexp">/\.html?$/</span>))</span><br><span class="line">  .reduce(<span class="function">(<span class="params">acc, p</span>) =&gt;</span> <span class="built_in">Object</span>.assign(acc, &#123; [path.basename(p).replace(<span class="regexp">/\.html?$/</span>, <span class="string">''</span>)]: path.join(resolveToAppRoot(<span class="string">'./src/html/'</span>), p) &#125;), &#123;&#125;);</span><br><span class="line">...</span><br><span class="line"><span class="comment">// æ¯ä¸€ä¸ª html åˆ›å»ºä¸€ä¸ª HtmlWebpackPlugin å®ä¾‹</span></span><br><span class="line"><span class="built_in">Object</span>.keys(appHtmlEntries).forEach(<span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> pluginHtml = <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    filename: <span class="string">`<span class="subst">$&#123;name&#125;</span>.html`</span>,</span><br><span class="line">    template: <span class="string">`src/html/<span class="subst">$&#123;name&#125;</span>.html`</span>,</span><br><span class="line">    chunks: [<span class="string">`<span class="subst">$&#123;name&#125;</span>`</span>, <span class="string">'manifest'</span>, <span class="string">'vendor'</span>],</span><br><span class="line">    inject: <span class="literal">true</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  webpackConfig.plugins.push(pluginHtml);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é¢„ç¼–è¯‘-sassã€å¼•å…¥-postcssã€å¤„ç†-css-å‹ç¼©-å’Œ-æ–‡ä»¶åˆ†ç¦»"><a href="#é¢„ç¼–è¯‘-sassã€å¼•å…¥-postcssã€å¤„ç†-css-å‹ç¼©-å’Œ-æ–‡ä»¶åˆ†ç¦»" class="headerlink" title="é¢„ç¼–è¯‘ sassã€å¼•å…¥ postcssã€å¤„ç† css å‹ç¼© å’Œ æ–‡ä»¶åˆ†ç¦»"></a>é¢„ç¼–è¯‘ sassã€å¼•å…¥ postcssã€å¤„ç† css å‹ç¼© å’Œ æ–‡ä»¶åˆ†ç¦»</h3><p>è¿™é‡Œè¦æ³¨æ„ rules ä¸­ loader æ•°ç»„çš„é¡ºåºï¼Œç”±äº webpack æ‰§è¡Œ rules æ˜¯ä»æœ€åä¸€ä¸ªå¼€å§‹å€’å™æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬é…ç½®çš„é¡ºåºä¹Ÿæ˜¯ï¼š</p><p>é¢„ç¼–è¯‘ sass =&gt; å¤„ç† postcss =&gt; å¤„ç† css =&gt; å‹ç¼©å¹¶ç‹¬ç«‹ css æ–‡ä»¶</p><p>å‡çº§åˆ° 4.0ï¼Œå·²ç»<strong>ä¸å†ä½¿ç”¨</strong> <code>extract-text-webpack-plugin</code> æ’ä»¶æ¥è¿›è¡Œæ–‡ä»¶æŠ½å–ï¼Œæ”¹ç”¨ <code>MiniCssExtractPlugin</code> æ’ä»¶ï¼Œé…åˆ <code>OptimizeCSSAssetsPlugin</code> æ’ä»¶æ¥å‹ç¼© css æ–‡ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</span><br><span class="line"><span class="keyword">const</span> postcssFlexbugsFixes = <span class="built_in">require</span>(<span class="string">'postcss-flexbugs-fixes'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="comment">// rules é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(css|sass|scss)$/</span>,</span><br><span class="line">  use: [</span><br><span class="line">    &#123;</span><br><span class="line">      loader: MiniCssExtractPlugin.loader, <span class="comment">// è¿™ä¸ª loader æ”¾åœ¨æœ€åä¸€ä¸ªæ‰§è¡Œï¼Œå°†ç¼–è¯‘å¥½çš„ css ç‹¬ç«‹</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">require</span>.resolve(<span class="string">'css-loader'</span>),</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="built_in">require</span>.resolve(<span class="string">'postcss-loader'</span>),</span><br><span class="line">      options: &#123;</span><br><span class="line">        ident: <span class="string">'postcss'</span>,</span><br><span class="line">        plugins: <span class="function"><span class="params">()</span> =&gt;</span> [</span><br><span class="line">          postcssFlexbugsFixes,</span><br><span class="line">          autoprefixer(&#123;</span><br><span class="line">            browsers: [</span><br><span class="line">              <span class="string">'&gt;1%'</span>,</span><br><span class="line">              <span class="string">'last 4 versions'</span>,</span><br><span class="line">              <span class="string">'Firefox ESR'</span>,</span><br><span class="line">              <span class="string">'not ie &lt; 9'</span>,</span><br><span class="line">            ],</span><br><span class="line">            flexbox: <span class="string">'no-2009'</span>,</span><br><span class="line">          &#125;),</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">require</span>.resolve(<span class="string">'sass-loader'</span>),</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// optimization é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> OptimizeCSSAssetsPlugin = <span class="built_in">require</span>(<span class="string">'optimize-css-assets-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> cssnano = <span class="built_in">require</span>(<span class="string">'cssnano'</span>);</span><br><span class="line">...</span><br><span class="line">optimization: &#123;</span><br><span class="line">  nodeEnv: <span class="string">'production'</span>,</span><br><span class="line">  minimizer: [</span><br><span class="line">    <span class="keyword">new</span> OptimizeCSSAssetsPlugin(&#123;</span><br><span class="line">      assetNameRegExp: <span class="regexp">/\.css$/g</span>,</span><br><span class="line">      cssProcessor: cssnano, <span class="comment">// é»˜è®¤ä½¿ç”¨ cssnano å¤„ç† css</span></span><br><span class="line">      cssProcessorOptions: &#123;</span><br><span class="line">        reduceIdents: <span class="literal">false</span>, <span class="comment">// ç¦æ­¢å°† keyframes è‡ªåŠ¨æ›´å</span></span><br><span class="line">        mergeIdents: <span class="literal">false</span>, <span class="comment">// ç¦æ­¢è‡ªåŠ¨åˆå¹¶ keyframes</span></span><br><span class="line">        discardUnused: <span class="literal">false</span>, <span class="comment">// ç¦æ­¢ç§»é™¤æ‰æœªä½¿ç”¨çš„ keyframes</span></span><br><span class="line">        autoprefixer: <span class="literal">false</span>, <span class="comment">// ç¦æ­¢é»˜è®¤åˆ é™¤æ‰ä¸€äº›å‰ç¼€ï¼Œä»¥å‡å°‘å…¼å®¹æ€§çš„é—®é¢˜</span></span><br><span class="line">        zindex: <span class="literal">false</span>, <span class="comment">// ç¦æ­¢è‡ªåŠ¨è½¬æ¢ z-index</span></span><br><span class="line">        map: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br><span class="line"><span class="comment">// ç‹¬ç«‹ css æ–‡ä»¶</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">    filename: <span class="string">'css/[name].[contenthash:8].css'</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h3 id="æ”¯æŒ-CDN-è·¯å¾„æ›¿æ¢"><a href="#æ”¯æŒ-CDN-è·¯å¾„æ›¿æ¢" class="headerlink" title="æ”¯æŒ CDN è·¯å¾„æ›¿æ¢"></a>æ”¯æŒ CDN è·¯å¾„æ›¿æ¢</h3><p>å¯ä»¥å°† html ä¸­ css å’Œ js çš„ç›¸å¯¹å¼•ç”¨è·¯å¾„è‡ªåŠ¨æ›¿æ¢æˆé…ç½®çš„å‰ç¼€è·¯å¾„ï¼Œç”¨æ¥æ”¯æŒé™æ€èµ„æºä¸Šçº¿åˆ°å…·ä½“æŒ‡å®šçš„ CDN è·¯å¾„æ¥å¢åŠ  app å†…é™æ€èµ„æºçš„ä¸‹è½½é€Ÿåº¦ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+ publicPath: "https://...cdnpath.../assets/" // CDN èµ„æº URL å‰ç¼€</span></span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿäº§ç¯å¢ƒçš„-source-map"><a href="#ç”Ÿäº§ç¯å¢ƒçš„-source-map" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒçš„ source-map"></a>ç”Ÿäº§ç¯å¢ƒçš„ source-map</h3><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä»£ç å‡ºç°é—®é¢˜çš„æƒ…å†µï¼Œè€Œæœ¬åœ°å¼€å‘å´ä¸é‡ç°ï¼Œè¿™ä¸ªæ—¶å€™ source-map å°±æˆäº†è¾…åŠ©è§£å†³é—®é¢˜çš„ä¸€ä¸ªæœ‰åˆ©çš„å·¥å…·ï¼Œå…·ä½“è§ä¸‹é¢é…ç½®ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mode: 'production',</span><br><span class="line"><span class="addition">+ devtool: 'source-map',</span></span><br><span class="line">optimization: &#123;</span><br><span class="line">  nodeEnv: 'production',</span><br><span class="line">  minimizer: [</span><br><span class="line">    new UglifyJsPlugin(&#123;</span><br><span class="line">      ...</span><br><span class="line"><span class="addition">+     sourceMap: true,</span></span><br><span class="line">    &#125;),</span><br><span class="line">    new OptimizeCSSAssetsPlugin(&#123;</span><br><span class="line">      assetNameRegExp: /\.css$/g,</span><br><span class="line">      cssProcessor: cssnano,</span><br><span class="line">      // é»˜è®¤ä½¿ç”¨ cssnano å¤„ç† cssï¼Œå¦å¤– clean-css ä¹Ÿæä¾›ç›¸åº”çš„æ–¹æ¡ˆï¼Œä½†éœ€è¦ 4.2 ç‰ˆæœ¬æ‰å¯ç”¨ä¸”è´¨é‡å’Œæ•ˆç‡éƒ½æ²¡æœ‰å¾—åˆ°éªŒè¯ï¼Œæš‚ä¸”ä¸æ</span><br><span class="line">      cssProcessorOptions: &#123;</span><br><span class="line">        ...</span><br><span class="line"><span class="addition">+       map: &#123; inline: false &#125; ,</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="å¤„ç†å›¾ç‰‡èµ„æº"><a href="#å¤„ç†å›¾ç‰‡èµ„æº" class="headerlink" title="å¤„ç†å›¾ç‰‡èµ„æº"></a>å¤„ç†å›¾ç‰‡èµ„æº</h3><p>ä¸‹é¢æ˜¯å…³é”® <code>loaders</code> ä½†ä¸ä¼šåˆ—å‡ºæ‰€æœ‰é…ç½®ï¼Œå†…å®¹ç•¥æœ‰å·®å¼‚ï¼Œå¯ä»¥æ ¹æ®é…ç½® limit å¤§å°æ¥æ§åˆ¶å›¾ç‰‡è½¬ base64 æˆ–å‹ç¼©ç­‰ã€‚</p><ul><li><code>file-loader</code> æ–‡ä»¶æ— å¤„ç†ï¼Œç›´æ¥æ‹·è´</li><li><code>url-loader</code> å¯ä»¥å¢åŠ  base64 å¤„ç†</li><li><code>svg-url-loader</code> å¤„ç† svg æ–‡ä»¶ï¼Œä¹ŸåŒæ ·æ”¯æŒ base64</li><li><code>image-webpack-loader</code> å›¾ç‰‡æ–‡ä»¶é™è´¨å‹ç¼©</li></ul><h3 id="å…¶ä»–æ’ä»¶"><a href="#å…¶ä»–æ’ä»¶" class="headerlink" title="å…¶ä»–æ’ä»¶"></a>å…¶ä»–æ’ä»¶</h3><ul><li><code>HashedModuleIdsPlugin</code> ä½¿ç”¨æ›´ç¨³å®šçš„ moudle id ç”Ÿæˆæ–¹å¼</li><li><code>webpack.optimize.ModuleConcatenationPlugin</code> æ’ä»¶å·²ç»ä¸éœ€è¦å•ç‹¬é…ç½®ï¼ŒWebpack 4 å·²ç»é»˜è®¤åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹æ‰“åŒ…æ—¶å†…ç½®å¼€å¯ä¼˜åŒ–</li></ul><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><blockquote><p><code>å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªäººéƒ½æƒ³æˆä¸º Webpack é…ç½®å·¥ç¨‹å¸ˆï¼</code></p></blockquote><p>ä¸Šé¢å¼•ç”¨ä¸€å¥æˆ‘ä»¬â€œé€ è½®å­â€æ—¶ä½¿ç”¨çš„ä¸€å¥ sloganã€‚</p><p>è™½ç„¶ <code>Webpack 4</code> è¿˜æ²¡æœ‰è¾¾åˆ°<em>å¼€ç®±å³ç”¨</em>çš„ç¨‹åº¦ï¼ˆå½“ç„¶ï¼Œå¼€ç®±å³ç”¨ä¹Ÿå°±æ„å‘³ç€å¯é…ç½®çš„å†…å®¹æœ‰æ‰€å‡å°‘ï¼Œè¿™ä¸€å®šæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼‰ï¼Œå†µä¸”å¼€ç®±å³ç”¨ä¹Ÿå¹¶ä¸æ˜¯å®ƒçš„è¢«åˆ›é€ å‡ºæ¥çš„åˆè¡·ï¼Œç®€å•çš„é…ç½®æ— æ³•æ»¡è¶³é¡¹ç›®ä¸­çš„å®é™…éœ€æ±‚ï¼Œå„ç§å„æ ·çš„é…ç½®å’Œæ’ä»¶é…åˆç€å½¢æˆè§£å†³å„ç§é—®é¢˜çš„ä¸åŒæ–¹æ¡ˆï¼Œåªåœ¨å¾ˆå¤šæ¬¡å°è¯•åæ‰èƒ½è¾¾åˆ°é’ˆå¯¹æŸä¸€ä¸ªé¡¹ç›®é¡¹ç›®<em>æœ€ä¼˜</em>çš„é…ç½®ã€‚</p><p>ç„¶è€Œï¼Œå®ƒ<strong>åªæ˜¯ä¸€ä¸ªå·¥å…·</strong>ï¼Œä¹Ÿè®¸å†è¿‡ä¸€æ®µä¼šæœ‰æ–°çš„å·¥å…·æ¥å–ä»£ Webpackï¼ŒBut æ—¢ç„¶ä½ ç°åœ¨ç”¨åˆ°å®ƒï¼Œè¿˜æ˜¯æœ‰å¿…è¦èŠ±æ—¶é—´äº†è§£ä¸€ä¸‹å¦‚ä½•æ›´å¥½åœ°è®©å®ƒä¸ºä½ ã€ä½ çš„å›¢é˜Ÿå’Œä½ çš„é¡¹ç›®æ¥æœåŠ¡ã€‚</p><p>å…³äº Webpack 4 çš„é…ç½®ç»éªŒç¬”è€…ä¹Ÿåœ¨æ‘¸ç€çŸ³å¤´è¿‡è¿™æ¡å°æ²³ï¼Œç½‘ä¸Šä¹Ÿæœ‰è¯¸å¤šä¼˜åŒ–å’Œè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬é€ çš„è½®å­ä¹Ÿéœ€è¦æ›´å¤šçš„é¡¹ç›®å’Œæ—¶é—´æ¥å¸®åŠ©å…¶æˆé•¿ï¼Œæ–‡ä¸­å¹¶æ²¡æœ‰é¢é¢ä¿±åˆ°åœ°å°†æ‰€æœ‰é…ç½®è¯¦ç»†è¯´æ˜ï¼Œæˆ–è€…å¹¶ä¸æ˜¯æ‰€æœ‰é…ç½®éƒ½æ˜¯æœ€ä¼˜é€‰æ‹©ï¼Œä¹Ÿæ¬¢è¿ç§ä¿¡ç•™è¨€è®¨è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨å‚ä¸å°ç»„å†…â€œé€ è½®å­â€ï¼ˆå…·ä½“å†…å®¹å¦å¯»æœºä¼šå†è¯¦è¯´ï¼‰åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œäº†è§£å¹¶ä¸”å­¦ä¹ åˆ° Webpack v4 çš„ä¸€äº›å†…å®¹ï¼Œè¶è®°å¿†è¿˜æ·±ï¼Œæ±‡æ€»æˆæ–‡ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äº Webpack ä½œä¸ºå…³é”®åœ¨ Google å¯ä»¥æœç´¢åˆ°å¾ˆå¤šç›¸å…³çš„æ–‡ç« ï¼Œç½‘ä¸Šæ–‡ç« ä¹Ÿæ˜¯é’ˆå¯¹å„è‡ªé¡¹ç›®å’ŒæŸäº›æƒ…å†µçš„å…·ä½“æ–¹æ¡ˆæˆ–è€…ä»‹ç»è¯´æ˜ï¼Œæœ¬æ–‡ä¹Ÿä¸ä¾‹å¤–ï¼Œåªä»‹ç»åˆ†äº«è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ &lt;strong&gt;4.0&lt;/strong&gt; ç‰ˆæœ¬çš„ä¸ªäººå®æˆ˜ç»éªŒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¼è¯»ï¼šæœ¬æ–‡ä½ å°† Get åˆ°ä½¿ç”¨ Webpack 4 ä»é›¶å¼€å§‹åˆ†åˆ«æ­å»º React 16 å’Œ Vue 2 é¡¹ç›®ï¼ŒåŒæ—¶è¿˜æœ‰åŸºäº  Webpack 4 çš„ä¸€äº›å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½®ç»éªŒï¼Œæ„Ÿå…´è¶£åŒå­¦å¯ä»¥ç»§ç»­é˜…è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;PS. å‰åŠéƒ¨åˆ†è¾ƒä¸ºåŸºç¡€ï¼Œæœ‰ä¸€å®šç»éªŒçš„åŒå­¦å¯ä»¥ç›´æ¥è·³è¿‡é˜…è¯»&lt;a href=&quot;#å®æˆ˜å†…å®¹ç»éªŒç§¯ç´¯&quot;&gt;ååŠéƒ¨åˆ†å®æˆ˜å†…å®¹&lt;/a&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Webpack" scheme="https://beanlee.github.io/tags/Webpack/"/>
    
      <category term="React" scheme="https://beanlee.github.io/tags/React/"/>
    
      <category term="Vue" scheme="https://beanlee.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘Google å‡ºå“ - åˆ©ç”¨ webpack åš web æ€§èƒ½ä¼˜åŒ–</title>
    <link href="https://beanlee.github.io/2018/05/02/blog-translate-web-performance-optimization-with-webpack-from-google-webpack4/"/>
    <id>https://beanlee.github.io/2018/05/02/blog-translate-web-performance-optimization-with-webpack-from-google-webpack4/</id>
    <published>2018-05-02T06:35:33.000Z</published>
    <updated>2018-06-11T15:54:20.871Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/addyosmani" target="_blank" rel="noopener">Addy Osmani</a>ï¼Œ<a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>åŸæ–‡ <a href="https://developers.google.com/web/fundamentals/performance/webpack/" target="_blank" rel="noopener">https://developers.google.com/web/fundamentals/performance/webpack/</a></p><blockquote><p>PS. åœ¨ 20180211 ç¬”è€…ç¿»è¯‘è¿‡ä¸€æ¬¡ï¼Œå½“æ—¶ä¹Ÿæ²¡æœ‰å®Œå…¨ç†è§£å’Œä½¿ç”¨æ–‡ä¸­æåˆ°çš„ä¼˜åŒ–é¡¹ï¼Œè¿‘æœŸå·¥ä½œä¸­å› ä¸ºç”¨åˆ° Webpack 4.x å¯¹ç”Ÿäº§ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼ŒåŠ æ·±äº†ä¸€äº›ç†è§£ï¼Œæœ¬è¯‘æ–‡å¯¹åŸæœ‰è¯‘æ–‡è¡¥å……çš„ Webpack 4 å†…å®¹ï¼ŒåŒæ—¶å¯¹åŸè¯‘æ–‡è¿›è¡Œäº†æ ¡å¯¹å’Œä¸€äº›ç»†èŠ‚æªè¾çš„ä¿®æ”¹ã€‚</p></blockquote><a id="more"></a><!-- TOC --><ul><li><a href="#instroduction-ä»‹ç»">Instroduction ä»‹ç»</a></li><li><a href="#decrease-front-end-size-å‡å°‘å‰ç«¯ä½“ç§¯">Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯</a><ul><li><a href="#use-the-production-mode-webpack-4-only-ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ä»…ç”¨äº-webpack-4">Use the production mode (webpack 4 only) ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼ˆä»…ç”¨äº webpack 4ï¼‰</a></li><li><a href="#enable-minification-å¼€å¯æœ€å°åŒ–">Enable minification å¼€å¯æœ€å°åŒ–</a></li><li><a href="#specify-node_envproduction-æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯">Specify <code>NODE_ENV=production</code> æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯</a></li><li><a href="#use-es-modules-ä½¿ç”¨-es-æ¨¡å—">Use ES Modules ä½¿ç”¨ ES æ¨¡å—</a></li><li><a href="#optimize-images-ä¼˜åŒ–å›¾ç‰‡">Optimize images ä¼˜åŒ–å›¾ç‰‡</a></li><li><a href="#optimize-dependencies-ä¼˜åŒ–ä¾èµ–">Optimize dependencies ä¼˜åŒ–ä¾èµ–</a></li><li><a href="#enable-module-concatenation-for-es-modules-aka-scope-hoisting-ä¸º-es-modles-å¼€å¯æ¨¡å—è¿æ¥">Enable module concatenation for ES modules (aka scope hoisting) ä¸º ES modles å¼€å¯æ¨¡å—è¿æ¥</a></li><li><a href="#use-externals-if-you-have-both-webpack-and-non-webpack-code-å¦‚æœä»£ç ä¸­åŒ…å«-webpack-å’Œé-webpack-çš„ä»£ç è¦ä½¿ç”¨-externals">Use <strong>externals</strong> if you have both webpack and non-webpack code å¦‚æœä»£ç ä¸­åŒ…å« webpack å’Œé webpack çš„ä»£ç è¦ä½¿ç”¨ externals</a></li><li><a href="#summing-up-æ€»ç»“">Summing up æ€»ç»“</a></li></ul></li><li><a href="#make-use-of-long-term-caching-åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜">Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜</a><ul><li><a href="#use-bundle-versioning-and-cache-headers-ä½¿ç”¨-bundle-ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯">Use bundle versioning and cache headers ä½¿ç”¨ bundle ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯</a></li><li><a href="#extract-dependencies-and-runtime-into-a-separate-file-å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶">Extract dependencies and runtime into a separate file å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</a></li><li><a href="#inline-webpack-runtime-to-save-an-extra-http-request-å†…è”-webpack-runtime-èŠ‚çœé¢å¤–çš„-http-è¯·æ±‚">Inline webpack runtime to save an extra HTTP request å†…è” webpack runtime èŠ‚çœé¢å¤–çš„ HTTP è¯·æ±‚</a></li><li><a href="#lazy-load-code-that-you-dont-need-right-now-æ‡’åŠ è½½">Lazy-load code that you donâ€™t need right now æ‡’åŠ è½½</a></li><li><a href="#split-the-code-into-routes-and-pages-æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­">Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­</a></li><li><a href="#make-module-ids-more-stable-ä½¿ç”¨ç¨³å®šçš„-module-ids">Make module ids more stable ä½¿ç”¨ç¨³å®šçš„ module ids</a></li><li><a href="#summing-up">Summing up</a></li></ul></li><li><a href="#monitor-and-analyze-the-app-ç›‘æ§å¹¶åˆ†æ">Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ</a><ul><li><a href="#keep-track-of-the-bundle-size-è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯">Keep track of the bundle size è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯</a></li><li><a href="#analyze-why-the-bundle-is-so-large-åˆ†æ-bundle-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§">Analyze why the bundle is so large åˆ†æ bundle ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§</a></li><li><a href="#summing-up-å°ç»“">Summing up å°ç»“</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul><!-- /TOC --><h2 id="Instroduction-ä»‹ç»"><a href="#Instroduction-ä»‹ç»" class="headerlink" title="Instroduction ä»‹ç»"></a>Instroduction ä»‹ç»</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/addyosmani" target="_blank" rel="noopener">Addy Osmani</a></p><p>ç°ä»£ Web åº”ç”¨ç»å¸¸ç”¨åˆ° <code>bunding tool</code> æ¥åˆ›å»ºç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…æ–‡ä»¶ï¼ˆä¾‹å¦‚è„šæœ¬ã€æ ·å¼ç­‰ç­‰ï¼‰ï¼Œæ‰“åŒ…æ–‡ä»¶æ˜¯éœ€è¦<a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/javascript-startup-optimization" target="_blank" rel="noopener">ä¼˜åŒ–</a>å¹¶<a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer" target="_blank" rel="noopener">å‹ç¼©æœ€å°åŒ–</a>ï¼ŒåŒæ—¶èƒ½å¤Ÿè¢«ç”¨æˆ·æ›´å¿«åœ°åŠ è½½ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šåˆ©ç”¨ <a href="https://webpack.js.org/" target="_blank" rel="noopener"><code>webpack</code></a> æ¥è´¯ç©¿è¯´æ˜å¦‚ä½•è¿›è¡Œé«˜æ•ˆåœ°ä¼˜åŒ–ç½‘ç«™èµ„æºã€‚è¿™èƒ½å¸®åŠ©ç”¨æˆ·æ›´å¿«åœ°åŠ è½½ä½ çš„åº”ç”¨åŒæ—¶è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</p><p><img src="https://img20.360buyimg.com/uba/jfs/t15217/149/2229580840/12989/54324b99/5a815957N5bb3e0c6.png" alt="webpack-logo"></p><p>webpack æ˜¯å½“ä»Šæœ€æµè¡Œçš„æ‰“åŒ…å·¥å…·ä¹‹ä¸€ï¼Œæ·±å…¥åœ°åˆ©ç”¨å®ƒçš„ç‰¹ç‚¹å»ä¼˜åŒ–ä»£ç ï¼Œå°†è„šæœ¬<a href="https://developers.google.com/web/fundamentals/performance/webpack/use-long-term-caching#lazy-loading" target="_blank" rel="noopener">æ‹†åˆ†</a>æˆä¸åŒçš„éƒ¨åˆ†ï¼ŒåŒæ—¶å‰”é™¤æ— ç”¨ä»£ç å°†èƒ½å¤Ÿä¿è¯ä½ çš„åº”ç”¨ç»´æŒæœ€å°çš„å¸¦å®½å’Œè¿›ç¨‹æ¶ˆè€—ã€‚</p><p><img src="https://img14.360buyimg.com/uba/jfs/t17569/325/476871633/18187/a1e34f41/5a81597fNd77bb5b8.png" alt="code-splitting"></p><blockquote><p>Note: æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»ƒä¹ çš„åº”ç”¨æ¥æ¼”ç¤ºä¸‹é¢è¿™äº›ä¼˜åŒ–çš„æè¿°ã€‚å°½åŠ›æŠ½æ›´å¤šçš„æ—¶é—´æ¥ç»ƒä¹ è¿™äº› tips <a href="https://github.com/GoogleChromeLabs/webpack-training-project" target="_blank" rel="noopener"><code>webpack-training-project</code></a></p></blockquote><p>è®©æˆ‘ä»¬ä»ç°ä»£ web åº”ç”¨ä¸­æœ€è€—è´¹èµ„æºä¹‹ä¸€çš„ <code>Javascript</code> å¼€å§‹ã€‚</p><ul><li><a href="#Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯">å‡å°å‰ç«¯ä½“ç§¯</a></li><li><a href="#Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜">åˆ©ç”¨é•¿æ—¶ç¼“å­˜</a></li><li><a href="#Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ">ç›‘æ§å¹¶åˆ†æåº”ç”¨</a></li><li><a href="#Conclusion">æ€»ç»“</a></li></ul><hr><h2 id="Decrease-Front-end-Size-å‡å°‘å‰ç«¯ä½“ç§¯"><a href="#Decrease-Front-end-Size-å‡å°‘å‰ç«¯ä½“ç§¯" class="headerlink" title="Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯"></a>Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>å½“ä½ æ­£åœ¨ä¼˜åŒ–ä¸€ä¸ªåº”ç”¨æ—¶ï¼Œé¦–è¦äº‹æƒ…å°±æ˜¯å°½å¯èƒ½åœ°å°†å®ƒä½“ç§¯çš„å‡å°ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹é€šè¿‡ <code>webpack</code> å¦‚ä½•åšåˆ°å‡å°å‰ç«¯ä½“ç§¯ã€‚</p><h3 id="Use-the-production-mode-webpack-4-only-ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼ˆä»…ç”¨äº-webpack-4ï¼‰"><a href="#Use-the-production-mode-webpack-4-only-ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼ˆä»…ç”¨äº-webpack-4ï¼‰" class="headerlink" title="Use the production mode (webpack 4 only) ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼ˆä»…ç”¨äº webpack 4ï¼‰"></a>Use the production mode (webpack 4 only) ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼ˆä»…ç”¨äº webpack 4ï¼‰</h3><p>Webpack 4 ä»‹ç»äº†ä¸€ç§æ–°çš„<a href="https://webpack.js.org/concepts/mode/" target="_blank" rel="noopener">æ¨¡å¼</a>ï¼Œä½ å¯ä»¥å°†å…¶è®¾ç½®æˆ <code>development</code> å’Œ <code>production</code> ç”¨äºå‘Šè¯‰ Webpack ä½ æ­£åœ¨ä¸ºä¸åŒçš„ç¯å¢ƒæ‰“åŒ…ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“ä½ æ­£åœ¨ä¸ºä½ çš„åº”ç”¨ç”¨äºç”Ÿäº§ç¯å¢ƒç¼–è¯‘æ‰“åŒ…æ—¶è¦ç¡®å®šå¼€å¯äº† <code>production</code> æ¨¡å¼ã€‚è¿™æ ·å°±å¸®åŠ© webpack å¼€å¯ç±»ä¼¼å‹ç¼©æœ€å°åŒ–ä»£ç ã€å»é™¤ä¾èµ–åº“ä¸­å¼€å‘ç¯å¢ƒä»£ç ç­‰<a href="https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a" target="_blank" rel="noopener">å…¶ä»–</a>çš„ä¼˜åŒ–é¡¹ã€‚</p><h5 id="Further-reading-æ‰©å±•é˜…è¯»"><a href="#Further-reading-æ‰©å±•é˜…è¯»" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li><a href="https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a" target="_blank" rel="noopener">What specific things the mode flag configures</a></li></ul><blockquote><p>Note: ç¬”è€…ä¹Ÿç¿»è¯‘äº†å¦å¤–ä¸€ç¯‡ä»‹ç»æ–°å¢ mode çš„æ–‡ç« ï¼Œæ„Ÿå…´è¶£å¯ä»¥<a href="https://beanlee.github.io/2018/04/18/blog-translate-webpack-4-mode-and-optimization/">ç‚¹å‡»é“¾æ¥</a></p></blockquote><h3 id="Enable-minification-å¼€å¯æœ€å°åŒ–"><a href="#Enable-minification-å¼€å¯æœ€å°åŒ–" class="headerlink" title="Enable minification å¼€å¯æœ€å°åŒ–"></a>Enable minification å¼€å¯æœ€å°åŒ–</h3><blockquote><p>Note: å¤§éƒ¨åˆ†åªé’ˆå¯¹ webpack 3 å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ webpack 4 ç”Ÿäº§æ¨¡å¼æ‰“åŒ…ï¼Œbundle çº§åˆ«çš„æœ€å°åŒ–åŠŸèƒ½å·²ç»å¼€å¯ - ä½ åªéœ€è¦é…ç½®<a href="#Loader-specific options ç‰¹å®šçš„ Loader é…ç½®">å¯¹åº” loader é€‰é¡¹</a>å³å¯</p></blockquote><p>æœ€å°åŒ–å°±æ˜¯é€šè¿‡å»é™¤å¤šä½™ç©ºæ ¼ã€ç¼©çŸ­å˜é‡åç­‰æ–¹å¼å‹ç¼©ä»£ç ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Original code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">array, iteratee</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">const</span> length = array == <span class="literal">null</span> ? <span class="number">0</span> : array.length;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>(length);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (++index &lt; length) &#123;</span><br><span class="line">    result[index] = iteratee(array[index], index, array);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Minified code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">n,r</span>)</span>&#123;<span class="keyword">let</span> t=<span class="number">-1</span>;<span class="keyword">for</span>(<span class="keyword">const</span> a=<span class="literal">null</span>==n?<span class="number">0</span>:n.length,l=<span class="built_in">Array</span>(a);++t&lt;a;)l[t]=r(n[t],t,n);<span class="keyword">return</span> l&#125;</span><br></pre></td></tr></table></figure><p>Webpack æ”¯æŒä¸¤ç§æ–¹å¼æœ€å°åŒ–ä»£ç ï¼š<em>bundle-level</em> æœ€å°åŒ– å’Œ <em>loader-specific options</em>ã€‚ä»–ä»¬å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚</p><h4 id="Bundle-level-minification-bundle-çº§åˆ«çš„æœ€å°åŒ–"><a href="#Bundle-level-minification-bundle-çº§åˆ«çš„æœ€å°åŒ–" class="headerlink" title="Bundle-level minification bundle çº§åˆ«çš„æœ€å°åŒ–"></a>Bundle-level minification bundle çº§åˆ«çš„æœ€å°åŒ–</h4><p><code>Bundle-level</code> æœ€å°åŒ–åŠŸèƒ½å¯ä»¥åœ¨ç¼–è¯‘å®Œæˆåå‹ç¼©æ•´ä¸ª <code>bundle</code>ã€‚ä¸‹é¢æ¥çœ‹ä¸‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p><p>1.åŸå§‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./comments.css'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.Webpack ç¼–è¯‘åçš„å†…å®¹å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part of)</span></span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">"render"</span>] = render;</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_css__ = __webpack_require__(<span class="number">1</span>);</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_css_js___default =</span><br><span class="line">__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__comments_css__);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æœ€å°åŒ–ä¹‹åçš„ä»£ç å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// minified bundle.js (part of)</span></span><br><span class="line"><span class="meta">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">t</span>(<span class="params">e,n</span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"Rendered!"</span>)&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(n,<span class="string">"__esModule"</span>,&#123;<span class="attr">value</span>:!<span class="number">0</span>&#125;),n.render=t;<span class="keyword">var</span> o=r(<span class="number">1</span>);r.n(o)</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>Webpack 4</strong> ä¸­ï¼Œbundle çº§åˆ«çš„çš„æœ€å°åŒ–æ˜¯è‡ªåŠ¨å¼€å¯çš„ - åŒæ—¶åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ã€æ²¡æœ‰å¯ç”¨ bundle-level éƒ½ä¼šå¼€å¯ã€‚å®ƒæ˜¯åˆ©ç”¨ <a href="https://github.com/mishoo/UglifyJS2" target="_blank" rel="noopener">UglifyJS</a> å¼•æ“æ¥è¿›è¡Œæœ€å°åŒ–çš„ã€‚ï¼ˆå¦‚æœä½ éœ€è¦ç¦ç”¨æœ€å°åŒ–ï¼Œä»…ä»…è®¾ç½®å¼€å‘æ¨¡å¼æˆ–è€…è®¾ç½® <code>optimization.minimize</code> ä¸º <code>false</code>ã€‚ï¼‰</p><p>åœ¨ <strong>Webpack 3</strong> ä¸­ï¼Œä½ éœ€è¦ç›´æ¥ä½¿ç”¨ <a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">UglifyJS</a> æ’ä»¶ã€‚è¯¥æ’ä»¶æ˜¯ webpack æä¾›çš„ï¼›å¼€å¯å¹¶è®¾ç½®æ’ä»¶é€‰é¡¹å³å¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Note: åœ¨ webpack 3 ä¸­ï¼ŒUglifyJS æ’ä»¶ä¸èƒ½ç¼–è¯‘ ES2015+(ES6) çš„ä»£ç ï¼Œè¿™å°±æ„å‘³ç€ä½ åœ¨ä»£ç ä¸­ä½¿ç”¨ <strong>classes</strong>, <strong>arrow function</strong> æˆ–è€…å…¶ä»–æ–°ç‰¹æ€§æ—¶ï¼Œä¸èƒ½å°†ä»–ä»¬ç¼–è¯‘æˆ ES5çš„ä»£ç ï¼Œæ’ä»¶ä¼šæŠ›é”™ã€‚<br>å¦‚æœä½ éœ€è¦ç¼–è¯‘è¿™äº›æ–°è¯­æ³•ï¼Œå°±è¦ç”¨åˆ° <a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a> packageï¼Œä»–ä¹Ÿæ˜¯åœ¨ webpack ä¸­æ†ç»‘ä¸€èµ·çš„ï¼Œä½†æ˜¯ç‰ˆæœ¬æ›´æ–°ï¼Œå¹¶ä¸”å¯ä»¥ç¼–è¯‘ ES2015+ çš„ä»£ç ã€‚</p></blockquote><h4 id="Loader-specific-options-ç‰¹å®šçš„-Loader-é…ç½®"><a href="#Loader-specific-options-ç‰¹å®šçš„-Loader-é…ç½®" class="headerlink" title="Loader-specific options ç‰¹å®šçš„ Loader é…ç½®"></a>Loader-specific options ç‰¹å®šçš„ Loader é…ç½®</h4><p>æœ€å°åŒ–ä»£ç çš„ç¬¬äºŒæ­¥å°±æ˜¯åˆ©ç”¨ç‰¹å®šçš„ <a href="https://webpack.js.org/concepts/loaders/" target="_blank" rel="noopener">loader</a> é…ç½®ã€‚é…ç½®è¿™äº› loaderï¼Œä½ å¯ä»¥å‹ç¼©é‚£äº›ä¸èƒ½è¢«æœ€å°åŒ–çš„éƒ¨åˆ†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½ ä½¿ç”¨ <code>css-loader</code> å¼•å…¥ä¸€ä¸ª css æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* comments.css */</span></span><br><span class="line"><span class="selector-class">.comment</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// minified bundle.js (part of)</span></span><br><span class="line">exports=<span class="built_in">module</span>.exports=__webpack_require__(<span class="number">1</span>)(),</span><br><span class="line">exports.push([<span class="built_in">module</span>.i,<span class="string">".comment &#123;\r\n  color: black;\r\n&#125;"</span>,<span class="string">""</span>]);</span><br></pre></td></tr></table></figure><p>è¿™éƒ¨åˆ†å†…å®¹ç”±äºæ˜¯å­—ç¬¦ä¸²å¹¶æ²¡æœ‰è¢«æœ€å°åŒ–ã€‚äºæ˜¯æˆ‘ä»¬éœ€è¦é…ç½®å¯¹åº”çš„ loader é€‰é¡¹æ¥è¾¾åˆ°æœ€å°åŒ–çš„ç›®çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'css-loader'</span>, <span class="attr">options</span>: &#123; <span class="attr">minimize</span>: <span class="literal">true</span> &#125; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="Further-reading"><a href="#Further-reading" class="headerlink" title="Further reading"></a>Further reading</h5><ul><li><a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">The UglifyJsPlugin docs</a> UglifyJs æ’ä»¶æ–‡æ¡£</li><li>Other popular minifiers: <a href="https://github.com/webpack-contrib/babel-minify-webpack-plugin" target="_blank" rel="noopener">Babel Minify</a>, <a href="https://github.com/roman01la/webpack-closure-compiler" target="_blank" rel="noopener">Google Closure Compiler</a> å…¶ä»–æµè¡Œçš„æœ€å°åŒ–å·¥å…·</li></ul><h3 id="Specify-NODE-ENV-production-æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯"><a href="#Specify-NODE-ENV-production-æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯" class="headerlink" title="Specify NODE_ENV=production æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯"></a>Specify <code>NODE_ENV=production</code> æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯</h3><blockquote><p>Note: ä»…åœ¨ webpack 3 ä¸­ç”Ÿæ•ˆï¼Œå¦‚æœä½¿ç”¨ç”Ÿäº§æ¨¡å¼ webpack 4 æ‰“åŒ…ï¼Œ<strong>NODE_ENV=production</strong> ä¼˜åŒ–é¡¹å·²ç»å¼€å¯ï¼Œå°±å¯ä»¥ç›´æ¥è·³è¿‡æ­¤å°ç»“</p></blockquote><p>å‡å°å‰ç«¯ä½“ç§¯çš„å¦å¤–ä¸€ä¸ªæ–¹æ³•å°±æ˜¯åœ¨ä»£ç ä¸­å°† <code>NODE_ENV</code> <a href="https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" target="_blank" rel="noopener">ç¯å¢ƒå˜é‡</a>è®¾ç½®ä¸º <code>production</code> ã€‚</p><p>Libraries ä¼šè¯»å– <code>NODE_ENV</code> å˜é‡åˆ¤æ–­ä»–ä»¬åº”è¯¥åœ¨é‚£ç§æ¨¡å¼ä¸‹å·¥ä½œ - å¼€å‘æ¨¡å¼ or ç”Ÿæˆæ¨¡å¼ã€‚å¾ˆå¤šåº“ä¼šåŸºäºè¿™ä¸ªå˜é‡æœ‰ä¸åŒçš„è¡¨ç°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“<code>NODE_ENV</code>æ²¡æœ‰è®¾ç½®æˆ<code>production</code>ï¼ŒVue.js ä¼šåšé¢å¤–çš„æ£€æŸ¥å¹¶ä¸”è¾“å‡ºä¸€äº›è­¦å‘Šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// â€¦</span></span><br></pre></td></tr></table></figure><p>React ä¹Ÿæ˜¯ç±»ä¼¼ - å¼€å‘æ¨¡å¼ä¸‹ build å¸¦æœ‰ä¸€äº›è­¦å‘Šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// react/index.js</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./cjs/react.production.min.js'</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./cjs/react.development.js'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// react/cjs/react.development.js</span></span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">warning$<span class="number">3</span>(</span><br><span class="line">  componentClass.getDefaultProps.isReactClassApproved,</span><br><span class="line">  <span class="string">'getDefaultProps is only used on classic React.createClass '</span> +</span><br><span class="line">  <span class="string">'definitions. Use a static property named `defaultProps` instead.'</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">// â€¦</span></span><br></pre></td></tr></table></figure><p>è¿™äº›æ£€æŸ¥å’Œè­¦å‘Šé€šå¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æ˜¯ä¸å¿…è¦çš„ï¼Œä½†æ˜¯ä»–ä»¬ä»ç„¶ä¿ç•™åœ¨ä»£ç ä¸­å¹¶ä¸”ä¼šå¢åŠ åº“çš„ä½“ç§¯ã€‚</p><p>åœ¨ <strong>Webpack 4</strong> ä¸­å¢åŠ  <code>optimization.nodeEnv: &#39;production&#39;</code> é€‰é¡¹å³å¯å‰”é™¤æ‰å®ƒä»¬ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    nodeEnv: <span class="string">'production'</span>,</span><br><span class="line">    minimize: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>Webpack 3</strong> ä¸­åˆ™ä½¿ç”¨ <a href="https://webpack.js.org/plugins/define-plugin/" target="_blank" rel="noopener"><code>DefinePlugin</code></a> ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env.NODE_ENV'</span>: <span class="string">'"production"'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>optimization.nodeEnv: &#39;production&#39;</code> é€‰é¡¹å’Œ <code>DefinePlugin</code> æ’ä»¶é‡‡ç”¨ç›¸åŒçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ - è¿™ä¸ªæ–¹å¼å°±æ˜¯ä»–ä»¬å°† <code>process.env.NODE_ENV</code> æ›¿æ¢æˆç‰¹å®šçš„å€¼ï¼Œä¸‹é¢çš„é…ç½®å¯ä»¥è¯´æ˜ï¼š</p><p>1.Webpack ä¼šå°†æ‰€æœ‰ <code>process.env.NODE_ENV</code> æ›¿æ¢æˆ <code>&quot;production&quot;</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"production"</span> !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.ä¸æ­¤åŒæ—¶æœ€å°åŒ–å·¥å…·ä¼šç§»é™¤æ‰æ‰€æœ‰ <code>if</code> çš„æ¡ä»¶åˆ†æ”¯ - ç”±äº <code>&quot;production&quot; !== &#39;production&#39;</code> æ°¸è¿œä¼šè¿”å› <code>false</code>ï¼Œè¿™æ ·åˆ†æ”¯å†…çš„ä»£ç å°±æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"production"</span> !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js (without minification)</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Further-Reading-æ‰©å±•é˜…è¯»"><a href="#Further-Reading-æ‰©å±•é˜…è¯»" class="headerlink" title="Further Reading æ‰©å±•é˜…è¯»"></a>Further Reading æ‰©å±•é˜…è¯»</h5><ul><li><a href="https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" target="_blank" rel="noopener">What â€œenvironment variablesâ€ are</a> è§£é‡Šä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡</li><li>Webpack docs about: <a href="https://webpack.js.org/plugins/define-plugin/" target="_blank" rel="noopener"><code>DefinePlugin</code></a>, <a href="https://webpack.js.org/plugins/environment-plugin/" target="_blank" rel="noopener"><code>EnvironmentPlugin</code></a> Define æ’ä»¶å’Œ Environment æ’ä»¶æ–‡æ¡£</li></ul><h3 id="Use-ES-Modules-ä½¿ç”¨-ES-æ¨¡å—"><a href="#Use-ES-Modules-ä½¿ç”¨-ES-æ¨¡å—" class="headerlink" title="Use ES Modules ä½¿ç”¨ ES æ¨¡å—"></a>Use ES Modules ä½¿ç”¨ ES æ¨¡å—</h3><p>ä¸‹é¢è¿™ä¸ªæ–¹å¼åˆ©ç”¨ <a href="https://ponyfoo.com/articles/es6-modules-in-depth" target="_blank" rel="noopener">ES modules</a> å‡å°å‰ç«¯ä½“ç§¯ã€‚</p><p>å½“ä½ ä½¿ç”¨ ES moduleï¼Œwebpack æœ‰èƒ½åŠ›å»åš <code>tree-shaking</code>ã€‚Tree-shaking è´¯ç©¿äº†æ•´ä¸ªä¾èµ–æ ‘ï¼Œæ£€æŸ¥å“ªäº›ä¾èµ–è¢«ä½¿ç”¨ï¼ŒåŒæ—¶ç§»é™¤æ‰æ— ç”¨ä¾èµ–ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä½¿ç”¨ ES module æ–¹å¼çš„æ—¶å€™ï¼Œwebpack å¸®ä½ å¯ä»¥æ’é™¤æ‰æ— ç”¨ä»£ç ï¼š</p><p>1.ä¸€ä¸ªæœ‰å¤šä¸ª export çš„æ–‡ä»¶ï¼Œä½†æ˜¯ app åªéœ€è¦å…¶ä¸­ä¸€ä¸ªï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> render = <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">return</span> <span class="string">'Rendered!'</span>; &#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> commentRestEndpoint = <span class="string">'/rest/comments'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br></pre></td></tr></table></figure><p>2.Webpack åˆ†æ <code>commentRestEndPoint</code> æ²¡æœ‰è¢«ç”¨åˆ°ï¼Œå°±ä¸ä¼šåœ¨ä¸€ä¸ª bundle ä¸­ç”Ÿæˆå•ç‹¬çš„ exportï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part that corresponds to comments.js)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="keyword">const</span> render = <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">return</span> <span class="string">'Rendered!'</span>; &#125;;</span><br><span class="line">  <span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">"a"</span>] = render;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> commentRestEndpoint = <span class="string">'/rest/comments'</span>;</span><br><span class="line">  <span class="comment">/* unused harmony export commentRestEndpoint */</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>3.<a href="Enable minification å¼€å¯æœ€å°åŒ–">æœ€å°åŒ–å·¥å…·</a>å°±ä¼šç§»é™¤æ‰æ— ç”¨å˜é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part that corresponds to comments.js)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">n,e</span>)</span>&#123;<span class="string">"use strict"</span>;<span class="keyword">var</span> r=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">"Rendered!"</span>&#125;;e.b=r&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœä»–ä»¬éƒ½æ˜¯æœ‰ ES module ç¼–å†™ï¼Œå°±æ˜¯ä¸ä¸€äº›åº“å¹¶å­˜æ—¶ä¹Ÿæ˜¯ç”Ÿæ•ˆçš„ã€‚</p><blockquote><p>Note: åœ¨ webpack ä¸­ï¼Œtree-shaking æ²¡æœ‰ minifier æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ã€‚ webpack ä»…ä»…ç§»é™¤äº†æ²¡æœ‰è¢«ç”¨åˆ°çš„ export å˜é‡ï¼›<code>UglifyJSPlugin</code>æ‰ä¼šç§»é™¤æ— ç”¨ä»£ç ã€‚æ‰€ä»¥å¦‚æœä½ ç¼–è¯‘æ‰“åŒ…æ—¶æ²¡æœ‰ä½¿ç”¨ minifierï¼Œæ‰“åŒ…åä½“ç§¯å¹¶ä¸ä¼šæ›´å°ã€‚ä½ ä¹Ÿå¯ä»¥ä¸ä¸€å®šä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚å…¶ä»–æœ€å°åŒ–çš„æ’ä»¶ä¹Ÿæ”¯æŒç§»é™¤ dead codeï¼ˆä¾‹å¦‚ï¼š<a href="https://github.com/webpack-contrib/babel-minify-webpack-plugin" target="_blank" rel="noopener">Babel Minify plugin</a> or <a href="https://github.com/roman01la/webpack-closure-compiler" target="_blank" rel="noopener">Google Closure Compiler plugin</a>ï¼‰</p></blockquote><blockquote><p>Warning: ä¸è¦å°† ES module ç¼–è¯‘åˆ° CommonJS ä¸­ã€‚ å¦‚æœä½ ä½¿ç”¨ Babel <code>babel-preset-env</code> or <code>babel-preset-es2015</code>ï¼Œæ£€æŸ¥ä¸€ä¸‹å½“å‰çš„é…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ ES <code>import</code> and <code>export</code> to CommonJS <code>require</code> and <code>module.exports</code>ã€‚é€šè¿‡è®¾ç½® option æ¥ç¦æ­¢æ‰<a href="https://github.com/babel/babel/tree/master/experimental/babel-preset-env" target="_blank" rel="noopener">Pass the <code>{ modules: false }</code> option</a>ã€‚</p></blockquote><h5 id="Futher-reading-æ‰©å±•é˜…è¯»"><a href="#Futher-reading-æ‰©å±•é˜…è¯»" class="headerlink" title="Futher reading æ‰©å±•é˜…è¯»"></a>Futher reading æ‰©å±•é˜…è¯»</h5><ul><li><a href="https://ponyfoo.com/articles/es6-modules-in-depth" target="_blank" rel="noopener">â€œES6 Modules in depthâ€</a> æ·±å…¥ç†è§£ ES6 Modules</li><li>Webpack docs <a href="https://webpack.js.org/guides/tree-shaking/" target="_blank" rel="noopener">about tree shaking</a> Webpack tree shaking æ–‡æ¡£</li></ul><h3 id="Optimize-images-ä¼˜åŒ–å›¾ç‰‡"><a href="#Optimize-images-ä¼˜åŒ–å›¾ç‰‡" class="headerlink" title="Optimize images ä¼˜åŒ–å›¾ç‰‡"></a>Optimize images ä¼˜åŒ–å›¾ç‰‡</h3><p>å›¾ç‰‡åŸºæœ¬ä¼šå å±€é¡µé¢<a href="https://httparchive.org/reports/state-of-the-web?start=latest" target="_blank" rel="noopener">ä¸€åŠä»¥ä¸Š</a>ä½“ç§¯ã€‚è™½ç„¶å®ƒä»¬ä¸åƒ JavaScript é‚£ä¹ˆé‡è¦ï¼ˆæ¯”å¦‚å®ƒä»¬ä¸ä¼šé˜»æ­¢é¡µé¢æ¸²æŸ“ï¼‰ï¼Œä½†å›¾ç‰‡ä»ç„¶ä¼šå ç”¨æ‰ä¸€å¤§éƒ¨åˆ†å¸¦å®½ã€‚å¯ä»¥åˆ©ç”¨ <code>url-loader</code>ï¼Œ<code>svg-url-loader</code> å’Œ <code>image-webpack-loader</code> æ¥è¿›è¡Œä¼˜åŒ–ã€‚</p><p><code>url-loader</code> å…è®¸å°†å°çš„é™æ€æ–‡ä»¶æ‰“åŒ…è¿› appã€‚æ²¡æœ‰é…ç½®çš„è¯ï¼Œä»–éœ€è¦é€šè¿‡ä¼ é€’æ–‡ä»¶ï¼Œå°†å®ƒæ”¾åœ¨ç¼–è¯‘åçš„æ‰“åŒ… bundle å†…å¹¶è¿”å›ä¸€ä¸ªè¿™ä¸ªæ–‡ä»¶çš„ urlã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬æ³¨æ˜ <code>limit</code> é€‰é¡¹ï¼Œå®ƒå°†ä¼šç¼–ç æˆæ›´å°çš„æ–‡ä»¶ base64 url å¹¶è¿”å›è¿™ä¸ª urlã€‚è¿™æ ·å°†å›¾ç‰‡æ”¾åœ¨ Javascript ä»£ç ä¸­ï¼Œå¯ä»¥èŠ‚çœ HTTP çš„è¯·æ±‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(jpe?g|png|gif)$/</span>,</span><br><span class="line">        loader: <span class="string">'url-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">// Inline files smaller than 10 kB (10240 bytes)</span></span><br><span class="line">          limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> imageUrl <span class="keyword">from</span> <span class="string">'./image.png'</span>;</span><br><span class="line"><span class="comment">// â†’ If image.png is smaller than 10 kB, `imageUrl` will include</span></span><br><span class="line"><span class="comment">// the encoded image: 'data:image/png;base64,iVBORw0KGgâ€¦'</span></span><br><span class="line"><span class="comment">// â†’ If image.png is larger than 10 kB, the loader will create a new file,</span></span><br><span class="line"><span class="comment">// and `imageUrl` will include its url: `/2fcd56a1920be.png`</span></span><br></pre></td></tr></table></figure><blockquote><p>Note: å†…è”å›¾ç‰‡å‡å°‘äº†ç‹¬ç«‹è¯·æ±‚çš„æ•°é‡ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ–¹å¼ï¼ˆ<a href="https://blog.octo.com/en/http2-arrives-but-sprite-sets-aint-no-dead/" target="_blank" rel="noopener">even with HTTP/2</a>ï¼‰ï¼Œä½†æ˜¯ä¼šå¢åŠ  bundleä¸‹è½½å’Œè½¬æ¢çš„æ—¶é—´å’Œå†…å­˜çš„æ¶ˆè€—ã€‚ä¸€å®šè¦ç¡®ä¿ä¸è¦åµŒå…¥è¶…å¤§å›¾ç‰‡æˆ–è€…è¾ƒå¤šçš„å›¾ç‰‡ - å¦åˆ™å¢åŠ çš„ bundle çš„æ—¶é—´å°†ä¼šæ©ç›–åšæˆå†…è”å›¾ç‰‡çš„æ”¶ç›Šã€‚</p></blockquote><p><code>svg-url-loader</code>ä¸<code>url-loader</code>ç±»ä¼¼ - éƒ½æ˜¯å°†ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding" target="_blank" rel="noopener">URL encoding</a>  encode æ–‡ä»¶ã€‚è¿™å¯¹å¯¹äº SVG å›¾ç‰‡å¾ˆå¥æ•ˆ - å› ä¸º SVG æ–‡ä»¶æ˜¯æ–‡æœ¬ï¼Œencoding åœ¨ä½“ç§¯ä¸Šæ›´æœ‰æ•ˆç‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.svg$/</span>,</span><br><span class="line">        loader: <span class="string">'svg-url-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">// Inline files smaller than 10 kB (10240 bytes)</span></span><br><span class="line">          limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">          <span class="comment">// Remove the quotes from the url</span></span><br><span class="line">          <span class="comment">// (theyâ€™re unnecessary in most cases)</span></span><br><span class="line">          noquotes: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Note: svg-url-loader æ‹¥æœ‰æ”¹å–„ IE æµè§ˆå™¨æ”¯æŒçš„ optionsï¼Œä½†æ˜¯åœ¨å…¶ä»–æµè§ˆå™¨ä¸­æ›´ç³Ÿç³•ã€‚å¦‚æœä½ éœ€è¦å…¼å®¹ IE æµè§ˆå™¨ï¼Œ<a href="https://github.com/bhovhannes/svg-url-loader#iesafe" target="_blank" rel="noopener">è®¾ç½® iesafe: true é€‰é¡¹</a></p></blockquote><p><code>image-webpack-loader</code>å‹ç¼©å›¾ç‰‡ä½¿ä¹‹å˜å°ã€‚å®ƒæ”¯æŒ JPGï¼ŒPNGï¼ŒGIF å’Œ SVGï¼Œå› ä¸ºæˆ‘ä»¬å°†ä¼šä½¿ç”¨å®ƒæ‰€æœ‰ç±»å‹ã€‚</p><p>è¿™ä¸ª loader ä¸ä¼šå°†å›¾ç‰‡åµŒå…¥åœ¨åº”ç”¨å†…ï¼Œå› æ­¤å®ƒå¿…é¡»ä¸<code>url-loader</code>å’Œ<code>svg-url-loader</code>é…åˆä½¿ç”¨ã€‚é¿å…å¤åˆ¶ç²˜è´´åˆ°ç›¸åŒçš„ rules ä¸­ï¼ˆä¸€ä¸ªç”¨äº JPG/PNG/GIF å›¾ç‰‡ï¼Œå¦ä¸€ä¸ªç”¨äº SVG å›¾ç‰‡ï¼‰ï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨<code>enforce: pre</code>ä½œä¸ºå•ç‹¬çš„ä¸€ä¸ª rule æ¶µç›–è¿™ä¸ª loaderï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(jpe?g|png|gif|svg)$/</span>,</span><br><span class="line">        loader: <span class="string">'image-webpack-loader'</span>,</span><br><span class="line">        <span class="comment">// This will apply the loader before the other ones</span></span><br><span class="line">        enforce: <span class="string">'pre'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é»˜è®¤ loader è®¾ç½®å°±å·²ç»å¯ä»¥æ»¡è¶³éœ€æ±‚äº† - ä½†å¦‚æœä½ æƒ³è¦æ·±å…¥é…ç½®ï¼Œè¯·æŸ¥çœ‹ <a href="https://github.com/tcoopman/image-webpack-loader#options" target="_blank" rel="noopener">the plugin options</a>ã€‚ä¸ºäº†é€‰æ‹©å“ªäº› options éœ€è¦æ˜ç¡®ï¼Œå¯ä»¥æŸ¥çœ‹ Addy Osmani çš„ <a href="https://images.guide/" target="_blank" rel="noopener">guide on image optimization</a></p><h5 id="Further-reading-æ‰©å±•é˜…è¯»-1"><a href="#Further-reading-æ‰©å±•é˜…è¯»-1" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li><a href="https://stackoverflow.com/questions/201479/what-is-base-64-encoding-used-for" target="_blank" rel="noopener">â€œWhat is base64 encoding used for?â€</a> Base64 ç¼–ç ç©¶ç«Ÿå¯ä»¥ç”¨åœ¨ä½•å¤„ï¼Ÿ</li><li>Addy Osmaniâ€™s <a href="https://images.guide/" target="_blank" rel="noopener">guide on image optimization</a> Addy Osmani çš„å›¾ç‰‡ä¼˜åŒ–æŒ‡å—</li></ul><h3 id="Optimize-dependencies-ä¼˜åŒ–ä¾èµ–"><a href="#Optimize-dependencies-ä¼˜åŒ–ä¾èµ–" class="headerlink" title="Optimize dependencies ä¼˜åŒ–ä¾èµ–"></a>Optimize dependencies ä¼˜åŒ–ä¾èµ–</h3><p>å¹³å‡ä¸€åŠä»¥ä¸Šçš„ Javascript ä½“ç§¯å¤§å°æ¥æºäºä¾èµ–åŒ…ï¼Œå¹¶ä¸”è¿™äº›å¯èƒ½éƒ½ä¸æ˜¯å¿…è¦çš„ã€‚</p><p>ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´ï¼ŒLodashï¼ˆv4.17.4ï¼‰å¢åŠ äº†æœ€å°åŒ–ä»£ç çš„ 72KB å¤§å°åˆ° bundle ä¸­ã€‚ä½†æ˜¯å¦‚æœä½ ä»…ä»…ç”¨åˆ°å®ƒçš„20ä¸ªæ–¹æ³•ï¼Œå¤§çº¦ 65 KB ä»£ç æ²¡æœ‰ç”¨å¤„ã€‚</p><p>å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯ Moment.jsã€‚ V2.19.1ç‰ˆæœ¬æœ€å°åŒ–åæœ‰ 223KBï¼Œä½“ç§¯å·¨å¤§ - æˆªè‡³2017å¹´10æœˆä¸€ä¸ªé¡µé¢å†…çš„ Javascript å¹³å‡ä½“ç§¯æ˜¯ 452KBã€‚ä½†æ˜¯ï¼Œæœ¬åœ°æ–‡ä»¶çš„ä½“ç§¯å  170KBã€‚å¦‚æœä½ æ²¡æœ‰ç”¨åˆ° å¤šè¯­è¨€ç‰ˆ Moment.jsï¼Œè¿™äº›æ–‡ä»¶éƒ½ä¼šæ²¡æœ‰ç›®çš„åœ°ä½¿ bundle æ›´è‡ƒè‚¿ã€‚</p><p>æ‰€æœ‰è¿™äº›ä¾èµ–éƒ½å¯ä»¥è¢«è½»æ˜“ä¼˜åŒ–ã€‚æˆ‘ä»¬åœ¨ Github repo æ”¶é›†äº†ä¼˜åŒ–çš„å»ºè®®ï¼Œ<a href="https://github.com/GoogleChromeLabs/webpack-libs-optimizations" target="_blank" rel="noopener">check it out</a>ï¼</p><h3 id="Enable-module-concatenation-for-ES-modules-aka-scope-hoisting-ä¸º-ES-modles-å¼€å¯æ¨¡å—è¿æ¥"><a href="#Enable-module-concatenation-for-ES-modules-aka-scope-hoisting-ä¸º-ES-modles-å¼€å¯æ¨¡å—è¿æ¥" class="headerlink" title="Enable module concatenation for ES modules (aka scope hoisting) ä¸º ES modles å¼€å¯æ¨¡å—è¿æ¥"></a>Enable module concatenation for ES modules (aka scope hoisting) ä¸º ES modles å¼€å¯æ¨¡å—è¿æ¥</h3><blockquote><p>Note: å¦‚æœä½ åœ¨ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ä¸‹çš„ webpack 4ï¼Œmodules concatention å·²ç»å¼€å¯ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡æœ¬å°èŠ‚ã€‚</p></blockquote><p>å½“ä½ æ„å»º bundle æ—¶ï¼Œwebpack å°†æ¯ä¸€ä¸ª module å°è£…è¿› function ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;render&#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part  of)</span></span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">  <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_js__ = __webpack_require__(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">Object</span>(__WEBPACK_IMPORTED_MODULE_0__comments_js__[<span class="string">"a"</span> <span class="comment">/* render */</span>])();</span><br><span class="line"></span><br><span class="line">&#125;),</span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  __webpack_exports__[<span class="string">"a"</span>] = render;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥å‰ï¼Œè¿™ä¹ˆåšæ˜¯ä½¿ CommonJS/AMD modules äº’ç›¸åˆ†ç¦»æ‰€å¿…é¡»çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¼šå¢åŠ ä½“ç§¯å¹¶ä¸”æ€§èƒ½è¡¨ç°å ªå¿§ã€‚</p><p>Webpack 2 ä»‹ç»äº† ES modules çš„æ”¯æŒï¼Œä¸åƒ CommonJS å’Œ AMD modules ä¸€æ ·ï¼Œè€Œæ˜¯èƒ½å¤Ÿä¸ç”¨å°†æ¯ä¸€ä¸ª module ç”¨ function å°è£…èµ·æ¥ã€‚åŒæ—¶ Webpack 3 åˆ©ç”¨<a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener"><code>ModuleConcatenationPlugin</code></a>å®Œæˆè¿™æ ·ä¸€ä¸ª bundleï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;render&#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Unlike the previous snippet, this bundle has only one module</span></span><br><span class="line"><span class="comment">// which includes the code from both files</span></span><br><span class="line"><span class="comment">// ä¸å‰é¢çš„ä»£ç ä¸åŒï¼Œè¿™ä¸ª bundle åªæœ‰ä¸€ä¸ª moduleï¼ŒåŒæ—¶åŒ…å«ä¸¤ä¸ªæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bundle.js (part of; compiled with ModuleConcatenationPlugin)</span></span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONCATENATED MODULE: ./comments.js</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONCATENATED MODULE: ./index.js</span></span><br><span class="line">  render();</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿåœ¨è¿™ä¸ª bundle ä¸­ï¼Œ module 0 éœ€è¦ module 1 çš„ render æ–¹æ³•ã€‚ä½¿ç”¨ <code>ModuleConcatenationPlugin</code>ï¼Œ<code>require</code>è¢«ç›´æ¥ç®€å•çš„æ›¿æ¢æˆ require å‡½æ•°ï¼ŒåŒæ—¶ module 1 è¢«åˆ é™¤åˆ é™¤æ‰äº†ã€‚è¿™ä¸ª bundle æ‹¥æœ‰æ›´å°‘çš„ modulesï¼Œå°±æœ‰æ›´å°‘çš„ modules æŸè€—ï¼</p><p>åœ¨ <strong>Webpack 4</strong> ä¸­å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ç”¨ <code>optimization.concatenateModules</code> é€‰é¡¹å³å¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    concatenateModules: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>webpack 3</strong> ä¸­ï¼Œä½¿ç”¨ <code>ModuleConcatenationPlugin</code> æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Noteï¼šæƒ³è¦çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªåŠŸèƒ½ä¸æ˜¯é»˜è®¤å¯ç”¨ï¼ŸConcatenating modules å¾ˆæ£’ï¼Œ <a href="https://twitter.com/TheLarkInn/status/925800563144454144" target="_blank" rel="noopener">ä½†æ˜¯ä»–ä¼šå¢åŠ ç¼–è¯‘çš„æ—¶é—´åŒæ—¶ç ´å module çš„çƒ­æ›´æ–°</a>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåªåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨çš„åŸå› äº†ã€‚</p></blockquote><h4 id="Further-reading-æ‰©å±•é˜…è¯»-2"><a href="#Further-reading-æ‰©å±•é˜…è¯»-2" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h4><ul><li>Webpack docs <a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener">for the ModuleConcatenationPlugin</a> ModuleConcatenationPlugin æ–‡æ¡£</li><li><a href="https://medium.com/webpack/brief-introduction-to-scope-hoisting-in-webpack-8435084c171f" target="_blank" rel="noopener">â€œBrief introduction to scope hoistingâ€</a></li><li>Detailed description of <a href="https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5" target="_blank" rel="noopener">what this plugin does</a> è¯¦è¿°è¿™äº›æ’ä»¶åšäº†äº›ä»€ä¹ˆ</li></ul><h3 id="Use-externals-if-you-have-both-webpack-and-non-webpack-code-å¦‚æœä»£ç ä¸­åŒ…å«-webpack-å’Œé-webpack-çš„ä»£ç è¦ä½¿ç”¨-externals"><a href="#Use-externals-if-you-have-both-webpack-and-non-webpack-code-å¦‚æœä»£ç ä¸­åŒ…å«-webpack-å’Œé-webpack-çš„ä»£ç è¦ä½¿ç”¨-externals" class="headerlink" title="Use externals if you have both webpack and non-webpack code å¦‚æœä»£ç ä¸­åŒ…å« webpack å’Œé webpack çš„ä»£ç è¦ä½¿ç”¨ externals"></a>Use <strong>externals</strong> if you have both webpack and non-webpack code å¦‚æœä»£ç ä¸­åŒ…å« webpack å’Œé webpack çš„ä»£ç è¦ä½¿ç”¨ externals</h3><p>ä½ å¯èƒ½æ‹¥æœ‰ä¸€ä¸ªä½“ç§¯åºå¤§çš„å·¥ç¨‹ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä»£ç å¯ä»¥ä½¿ç”¨ webpack ç¼–è¯‘ï¼Œè€Œæœ‰ä¸€äº›ä»£ç åˆä¸èƒ½ã€‚æ¯”å¦‚ä¸€ä¸ªè§†é¢‘ç½‘ç«™ï¼Œæ’­æ”¾å™¨çš„ widget å¯èƒ½é€šè¿‡ webpack ç¼–è¯‘ï¼Œä½†æ˜¯å…¶å‘¨å›´é¡µé¢åŒºåŸŸå¯èƒ½ä¸æ˜¯ï¼š</p><p><img src="https://img30.360buyimg.com/uba/jfs/t15334/148/2273118093/210074/8260a296/5a81599dN148751d5.png" alt="video-hosting"></p><p>å¦‚æœä¸¤éƒ¨åˆ†ä»£ç æœ‰ç›¸åŒçš„ä¾èµ–ï¼Œä½ å¯ä»¥å…±äº«è¿™äº›ä¾èµ–ä»¥ä¾¿å‡å°‘é‡å¤ä¸‹è½½è€—æ—¶ã€‚<a href="https://webpack.js.org/configuration/externals/" target="_blank" rel="noopener">the webpackâ€™s <code>externals</code> option</a>å°±å¹²äº†è¿™ä»¶äº‹ - å®ƒç”¨å˜é‡æˆ–è€…å¤–éƒ¨å¼•ç”¨æ¥æ›¿ä»£ modulesã€‚</p><h4 id="å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ°-window-ä¸Šçš„æƒ…å†µ"><a href="#å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ°-window-ä¸Šçš„æƒ…å†µ" class="headerlink" title="å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ° window ä¸Šçš„æƒ…å†µ"></a>å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ° window ä¸Šçš„æƒ…å†µ</h4><p>å¦‚æœä½ çš„é webpack ä»£ç ä¾é è¿™äº›ä¾èµ–ï¼Œå®ƒä»¬æ˜¯æŒ‚è½½ window ä¸Šçš„å˜é‡ï¼Œå¯ä»¥å°†ä¾èµ–åç§° alias æˆå˜é‡åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  externals: &#123;</span><br><span class="line">    <span class="string">'react'</span>: <span class="string">'React'</span>,</span><br><span class="line">    <span class="string">'react-dom'</span>: <span class="string">'ReactDOM'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨è¿™ä¸ªé…ç½®ï¼Œwebpack å°†ä¸ä¼šæ‰“åŒ… <code>react</code> å’Œ <code>react-dom</code> åŒ…ã€‚å–è€Œä»£ä¹‹ï¼Œä»–ä»¬ä¼šè¢«æ›¿æ¢æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part of)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, exports</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// A module that exports `window.React`. Without `externals`,</span></span><br><span class="line">  <span class="comment">// this module would include the whole React bundle</span></span><br><span class="line">  <span class="built_in">module</span>.exports = React;</span><br><span class="line">&#125;),</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, exports</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// A module that exports `window.ReactDOM`. Without `externals`,</span></span><br><span class="line">  <span class="comment">// this module would include the whole ReactDOM bundle</span></span><br><span class="line">  <span class="built_in">module</span>.exports = ReactDOM;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å¦‚æœä¾èµ–æ˜¯å½“åš-AMD-åŒ…è¢«åŠ è½½çš„æƒ…å†µ"><a href="#å¦‚æœä¾èµ–æ˜¯å½“åš-AMD-åŒ…è¢«åŠ è½½çš„æƒ…å†µ" class="headerlink" title="å¦‚æœä¾èµ–æ˜¯å½“åš AMD åŒ…è¢«åŠ è½½çš„æƒ…å†µ"></a>å¦‚æœä¾èµ–æ˜¯å½“åš AMD åŒ…è¢«åŠ è½½çš„æƒ…å†µ</h4><p>å¦‚æœä½ çš„é webpack ä»£ç æ²¡æœ‰å°†ä¾èµ–æš´éœ²æŒ‚è½½åˆ° window ä¸Šï¼Œè¿™å°±æ›´å¤æ‚äº†ã€‚ä½†æ˜¯å¦‚æœé webpack ä»£ç ä½¿ç”¨ AMD åŒ…çš„å½¢å¼æ¶ˆè´¹äº†è¿™äº›ä¾èµ–ï¼Œä½ ä»ç„¶å¯ä»¥é¿å…é‡å¤çš„ä»£ç åŠ è½½ä¸¤æ¬¡ã€‚</p><p>å…·ä½“å¦‚ä½•åšå‘¢ï¼Ÿå°† webpack ä»£ç ç¼–è¯‘æˆä¸€ä¸ª AMD module åŒæ—¶åˆ«åæˆä¸€ä¸ªåº“çš„ URLsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  output: &#123; <span class="attr">libraryTarget</span>: <span class="string">'amd'</span> &#125;,</span><br><span class="line"></span><br><span class="line">  externals: &#123;</span><br><span class="line">    <span class="string">'react'</span>: &#123; <span class="attr">amd</span>: <span class="string">'/libraries/react.min.js'</span> &#125;,</span><br><span class="line">    <span class="string">'react-dom'</span>: &#123; <span class="attr">amd</span>: <span class="string">'/libraries/react-dom.min.js'</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Webpack å°†ä¼šæŠŠ bundle åŒ…è£…è¿› <code>define()</code>åŒæ—¶è®©å®ƒä¾èµ–äºè¿™äº›URLsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (beginning)</span></span><br><span class="line">define([<span class="string">"/libraries/react.min.js"</span>, <span class="string">"/libraries/react-dom.min.js"</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; â€¦ &#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœé webpack ä»£ç ä½¿ç”¨ç›¸åŒçš„ URLs åŠ è½½ä¾èµ–ï¼Œè¿™äº›æ–‡ä»¶å°†ä¼šåŠ è½½ä¸€æ¬¡ - å¤šä½™çš„è¯·æ±‚ä¼šä½¿ç”¨ç¼“å­˜ã€‚</p><blockquote><p>Noteï¼šwebpack åªæ˜¯æ›¿æ¢é‚£äº› <code>externals</code> å¯¹è±¡ä¸­çš„å‡†ç¡®åŒ¹é…çš„ keys çš„å¼•ç”¨ã€‚è¿™æ„å‘³ç€å¦‚æœä½ çš„ä»£ç è¿™æ ·å†™<code>import React from &#39;react/umd/react.production.min.js&#39;</code>ï¼Œè¿™ä¸ªåº“æ˜¯ä¸ä¼šè¢« bundle æ’é™¤æ‰çš„ã€‚è¿™æ˜¯å› ä¸º - webpack å¹¶ä¸çŸ¥é“ <code>import &#39;react&#39;</code> å’Œ <code>import &#39;react/umd/react.production.min.js&#39;</code> æ˜¯åŒä¸€ä¸ªåº“ï¼Œè¿™æ ·æ¯”è¾ƒè°¨æ…ã€‚</p></blockquote><h5 id="Further-reading-æ‰©å±•é˜…è¯»-3"><a href="#Further-reading-æ‰©å±•é˜…è¯»-3" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li>Webpack docs <a href="https://webpack.js.org/configuration/externals/" target="_blank" rel="noopener">on <code>externals</code></a> externals æ–‡æ¡£</li></ul><h3 id="Summing-up-æ€»ç»“"><a href="#Summing-up-æ€»ç»“" class="headerlink" title="Summing up æ€»ç»“"></a>Summing up æ€»ç»“</h3><ul><li>Enable the production mode if you use webpack 4 å¦‚æœä½¿ç”¨ webpack 4 å¼€å¯ç”Ÿäº§æ¨¡å¼</li><li>Minimize your code with the bundle-level minifier and loader options ä½¿ç”¨ bundle çº§åˆ«æœ€å°åŒ– å’Œ loader é€‰é¡¹æ¥æœ€å°åŒ–ä½ çš„ä»£ç </li><li>Remove the development-only code by replacing <code>NODE_ENV</code> with <code>production</code> é€šè¿‡å°† <code>NODE_ENV</code> æ›¿æ¢æˆ <code>production</code> æ¥ç§»é™¤å¼€å‘æœŸé—´ä»£ç </li><li>Use ES modules to enable tree shaking å¯ç”¨ tree shaking</li><li>Compress images å‹ç¼©å›¾ç‰‡</li><li>Apply dependency-specific optimizations å¼€å¯ä¾èµ–ä¼˜åŒ–</li><li>Enable module concatenation å¼€å¯ module è¿æ¥</li><li>Use <code>externals</code> if this makes sense for you å¦‚æœæœ‰æ•ˆæœçš„è¯å¯ä»¥ä½¿ç”¨ <code>externals</code></li></ul><hr><h2 id="Make-use-of-long-term-caching-åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜"><a href="#Make-use-of-long-term-caching-åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜" class="headerlink" title="Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜"></a>Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>åœ¨åšå®Œä¼˜åŒ–åº”ç”¨ä½“ç§¯ä¹‹åçš„ä¸‹ä¸€æ­¥æå‡åº”ç”¨åŠ è½½æ—¶é—´çš„å°±æ˜¯ç¼“å­˜ã€‚åœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ç¼“å­˜ä½œä¸ºåº”ç”¨çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·ä¼šåœ¨æ¯ä¸€æ¬¡è¯·æ±‚ä¸­å‡å°‘é‡æ–°ä¸‹è½½çš„æ¬¡æ•°ã€‚</p><h3 id="Use-bundle-versioning-and-cache-headers-ä½¿ç”¨-bundle-ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯"><a href="#Use-bundle-versioning-and-cache-headers-ä½¿ç”¨-bundle-ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯" class="headerlink" title="Use bundle versioning and cache headers ä½¿ç”¨ bundle ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯"></a>Use bundle versioning and cache headers ä½¿ç”¨ bundle ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯</h3><p>åšç¼“å­˜é€šç”¨çš„è§£å†³åŠæ³•ï¼š</p><p>1.å‘Šè¯‰æµè§ˆå™¨ç¼“å­˜ä¸€ä¸ªæ–‡ä»¶å¾ˆé•¿æ—¶é—´ï¼ˆæ¯”å¦‚ä¸€å¹´ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Server header</span><br><span class="line">Cache-Control: max-age=31536000</span><br></pre></td></tr></table></figure><p>Noteï¼šå¦‚æœä½ ä¸ç†Ÿæ‚‰ <code>Cache-Control</code> åšäº†ä»€ä¹ˆï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ Jake Archibald çš„ç²¾å½©åšæ–‡ <a href="https://jakearchibald.com/2016/caching-best-practices/" target="_blank" rel="noopener">on caching best practices</a></p><p>2.å½“æ–‡ä»¶æ”¹å˜éœ€è¦å¼ºåˆ¶é‡æ–°ä¸‹è½½æ—¶å»é‡å‘½åè¿™äº›æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Before the change --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index-v15.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- After the change --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index-v16.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›æ–¹æ³•å¯ä»¥å‘Šè¯‰æµè§ˆå™¨ä¸‹è½½è¿™äº› JS æ–‡ä»¶ï¼Œå°†å…¶ç¼“å­˜èµ·æ¥ã€‚æµè§ˆå™¨å°†åªä¼šåœ¨æ–‡ä»¶åå‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè¯·æ±‚ç½‘ç»œï¼ˆæˆ–è€…ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µä¹Ÿä¼šè¯·æ±‚ï¼‰ã€‚</p><p>ä½¿ç”¨ webpackï¼Œä¹Ÿå¯ä»¥åšåŒæ ·çš„äº‹ï¼Œä½†å¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æ¥è§£å†³ï¼Œéœ€è¦æ˜ç¡®è¿™ä¸ªæ–‡ä»¶çš„ hash å€¼ã€‚ä½¿ç”¨ <a href="https://webpack.js.org/configuration/output/#output-filename" target="_blank" rel="noopener"><code>[chunkhash]</code></a> å¯ä»¥å°† <code>hash</code> å€¼åŒ…å«è¿›æ–‡ä»¶åä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./index.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.[chunkhash].js'</span>,</span><br><span class="line">        <span class="comment">// â†’ bundle.8e0d62a03.js</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Note: webpack å¯èƒ½ä¼šç”Ÿæˆä¸åŒçš„ hash å³ä½¿ bundle ç›¸åŒ - æ¯”å¦‚ä½ é‡åäº†äº†ä¸€ä¸ªæ–‡ä»¶æˆ–è€…é‡æ–°åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ç¼–è¯‘äº†ä¸€ä¸ª bundleã€‚ <a href="https://github.com/webpack/webpack/issues/1479" target="_blank" rel="noopener">This is a bug.</a><br>å¦‚æœä½ éœ€è¦å°†æ–‡ä»¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>HtmlWebpackPlugin</code> æˆ–è€… <code>WebpackManifestPlugin</code>ã€‚</p></blockquote><p><a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener"><code>HtmlWebpackPlugin</code></a> ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œä½†çµæ´»æ€§æœ‰ä¸€äº›æ¬ ç¼ºã€‚ç¼–è¯‘æ—¶ï¼Œæ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬æ‰€æœ‰çš„ç¼–è¯‘åçš„èµ„æºæ–‡ä»¶ã€‚å¦‚æœä½ çš„ä¸šåŠ¡é€»è¾‘ä¸å¤æ‚ï¼Œè¿™å°±éå¸¸é€‚åˆä½ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.8e0d62a03.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>WebpackManifestPlugin</code> æ›´çµæ´»ä¸€äº›ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è§£å†³ä¸šåŠ¡è´Ÿè´£çš„éƒ¨åˆ†ã€‚ç¼–è¯‘æ—¶å®ƒä¼šç”Ÿæˆä¸€ä¸ª JSON æ–‡ä»¶ï¼Œè¿™æ–‡ä»¶ä¿å­˜è¿™æ²¡æœ‰ hash å€¼æ–‡ä»¶ä¸æœ‰ hash æ–‡ä»¶ä¹‹é—´çš„æ˜ å°„ã€‚æœåŠ¡ç«¯åˆ©ç”¨è¿™ä¸ª JSON å¯ä»¥è¯†åˆ«å‡ºé‚£ä¸ªæ–‡ä»¶æœ‰æ•ˆï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// manifest.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundle.js"</span>: <span class="string">"bundle.8e0d62a03.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Further-reading-æ‰©å±•é˜…è¯»-4"><a href="#Further-reading-æ‰©å±•é˜…è¯»-4" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li>Jake Archibald <a href="https://jakearchibald.com/2016/caching-best-practices/" target="_blank" rel="noopener">about caching best practices</a> cache çš„æœ€ä½³å®è·µ</li></ul><h3 id="Extract-dependencies-and-runtime-into-a-separate-file-å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶"><a href="#Extract-dependencies-and-runtime-into-a-separate-file-å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶" class="headerlink" title="Extract dependencies and runtime into a separate file å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶"></a>Extract dependencies and runtime into a separate file å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</h3><h4 id="Dependencies-ä¾èµ–"><a href="#Dependencies-ä¾èµ–" class="headerlink" title="Dependencies ä¾èµ–"></a>Dependencies ä¾èµ–</h4><p>App ä¾èµ–é€šå¸¸æƒ…å†µä¸‹è¶‹å‘äºæ¯”å®é™… app å†…ä»£ç ä¸­æ›´å°‘çš„å˜åŒ–ã€‚å¦‚æœä½ å°†ä»–ä»¬ç§»åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œæµè§ˆå™¨å°†å¯ä»¥æŠŠä»–ä»¬ç‹¬ç«‹ç¼“å­˜èµ·æ¥ - åŒæ—¶ä¸ä¼šæ¯æ¬¡ app ä»£ç æ”¹å˜æ—¶é‡æ–°ä¸‹è½½ã€‚</p><blockquote><p>Key Term: åœ¨ webpack çš„æŠ€æœ¯ä¸­ï¼Œåˆ©ç”¨ app ä»£ç æ‹†åˆ†æ–‡ä»¶è¢«ç§°ä¸º <code>chunks</code>ã€‚æˆ‘ä»¬åé¢ä¼šç”¨åˆ°è¿™ä¸ªåè¯ã€‚</p></blockquote><p>ä¸ºäº†å°†ä¾èµ–åŒ…æå–åˆ°å•ç‹¬çš„ chunk ä¸­ï¼Œä¸‹é¢åˆ†ä¸ºä¸‰æ­¥ï¼š</p><p>1.ä½¿ç”¨ <code>[name].[chunkname].js</code> æ›¿æ¢<code>output</code>çš„æ–‡ä»¶åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// Before</span></span><br><span class="line">    filename: <span class="string">'bundle.[chunkhash].js'</span>,</span><br><span class="line">    <span class="comment">// After</span></span><br><span class="line">    filename: <span class="string">'[name].[chunkhash].js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“ webpack æ„å»ºåº”ç”¨æ—¶ï¼Œå®ƒä¼šç”¨ä¸€ä¸ªå¸¦æœ‰ chunk çš„åç§°æ¥æ›¿æ¢ <code>[name]</code>ã€‚å¦‚æœæ²¡æœ‰æ·»åŠ  <code>[name]</code> éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸é€šè¿‡ chunks ä¹‹é—´çš„ hash åŒºåˆ«æ¥æ¯”è¾ƒä»–ä»¬çš„åŒºåˆ« - é‚£å°±å¤ªå›°éš¾äº†ï¼</p><p>2.å°† <code>entry</code> è½¬æˆä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// Before</span></span><br><span class="line">  entry: <span class="string">'./index.js'</span>,</span><br><span class="line">  <span class="comment">// After</span></span><br><span class="line">  entry: &#123;</span><br><span class="line">    main: <span class="string">'./index.js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œâ€mainâ€ å¯¹è±¡æ˜¯ä¸€ä¸ª chunk çš„åå­—ã€‚è¿™ä¸ªåå­—å°†ä¼šè¢«æ­¥éª¤ 1 é‡Œé¢çš„ <code>[name]</code>ä»£æ›¿ã€‚</p><p>ç›®å‰ä¸ºæ­¢ï¼Œå¦‚æœä½ æ„å»ºä¸€ä¸ª appï¼Œchunk å°±ä¼šåŒ…æ‹¬æ•´ä¸ª app çš„ä»£ç  - å°±åƒæˆ‘ä»¬æ²¡æœ‰åšè¿™äº›æ­¥éª¤ä¸€æ ·ã€‚ä½†æ˜¯å¾ˆå¿«å°±ä¼šäº§ç”Ÿå˜åŒ–ã€‚</p><p>3.åœ¨ <strong>Webpack 4</strong> ä¸­ï¼Œåœ¨é…ç½®ä¸­å¢åŠ  <code>optimization.splitChunks.chunks: &#39;all&#39;</code> å³å¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé€‰é¡¹ä¼šå¼€å¯æ™ºèƒ½ä»£ç æ‹†åˆ†ã€‚ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œwebpack å°†æœ€å°åŒ–å’Œ Gzip å‰å¤§äº 30KB çš„ä»£ç æå–å‡ºé¢å¤–çš„ <code>vendor</code> ä»£ç ã€‚å®ƒåŒæ—¶ä¹Ÿä¼šæå–å‡º common ä»£ç  - è¿™äº›ä»£ç åœ¨æ‰“åŒ…å¤šä¸ª bundles ä¼šèµ·åˆ°ä½œç”¨ã€‚ï¼ˆä¾‹å¦‚ï¼š<a href="#Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­">é€šè¿‡è·¯ç”±æ‹†åˆ†åº”ç”¨</a>ï¼‰ã€‚</p><p>åœ¨ <strong>Webpack 3</strong> ä¸­ï¼Œä½¿ç”¨ <a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a> æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      <span class="comment">// A name of the chunk that will include the dependencies.</span></span><br><span class="line">      <span class="comment">// This name is substituted in place of [name] from step 1</span></span><br><span class="line">      name: <span class="string">'vendor'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// A function that determines which modules to include into this chunk</span></span><br><span class="line">      minChunks: <span class="function"><span class="params">module</span> =&gt;</span> <span class="built_in">module</span>.context &amp;&amp;</span><br><span class="line">        <span class="built_in">module</span>.context.includes(<span class="string">'node_modules'</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ’ä»¶å°†åŒ…æ‹¬å…¨éƒ¨ <code>node_modules</code> è·¯å¾„ä¸‹çš„ modules åŒæ—¶å°†ä»–ä»¬ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«ç§°ä¸º <code>vendor.[chunkhash].js</code>ã€‚</p><p>å®Œæˆäº†ä¸Šé¢çš„æ­¥éª¤ï¼Œæ¯ä¸€æ¬¡ build éƒ½ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ã€‚æµè§ˆå™¨ä¼šå°†ä»–ä»¬å•ç‹¬ç¼“å­˜ - ä»¥ä¾¿ä»£ç å‘ç”Ÿæ”¹å˜æ—¶é‡æ–°ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: ac01483e8fec1fa70676</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 3816ms</span><br><span class="line">                           Asset   Size  Chunks             Chunk Names</span><br><span class="line">  ./main.00bab6fd3100008a42b0.js  82 kB       0  [emitted]  main</span><br><span class="line">./vendor.d9e134771799ecdf9483.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><h4 id="Webpack-runtime-code-è¿è¡Œæ—¶ä»£ç "><a href="#Webpack-runtime-code-è¿è¡Œæ—¶ä»£ç " class="headerlink" title="Webpack runtime code è¿è¡Œæ—¶ä»£ç "></a>Webpack runtime code è¿è¡Œæ—¶ä»£ç </h4><p>ä¸å¹¸çš„æ˜¯ï¼Œä»…ä»…æŠ½å– <code>vendor</code> æ˜¯ä¸å¤Ÿçš„ã€‚å¦‚æœä½ è¯•å›¾åœ¨åº”ç”¨ä»£ç ä¸­ä¿®æ”¹ä¸€äº›ä¸œè¥¿ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line">â€¦</span><br><span class="line">â€¦</span><br><span class="line"></span><br><span class="line"><span class="comment">// E.g. add this:</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Wat'</span>);</span><br></pre></td></tr></table></figure><p>ä½ ä¼šæ³¨æ„åˆ° <code>vendor</code> çš„ä¹Ÿä¼šæ”¹å˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                           Asset   Size  Chunks             Chunk Names</span><br><span class="line">./vendor.d9e134771799ecdf9483.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                            Asset   Size  Chunks             Chunk Names</span><br><span class="line">./vendor.e6ea4504d61a1cc1c60b.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><p>è¿™å› ä¸º webpack æ‰“åŒ…æ—¶ï¼Œä¸€éƒ¨åˆ† modules çš„ä»£ç ï¼Œæ‹¥æœ‰ <a href="https://webpack.js.org/concepts/manifest/" target="_blank" rel="noopener"><em>a runtime</em></a> - ç®¡ç†æ¨¡å—æ‰§è¡Œä¸€éƒ¨åˆ†ä»£ç ã€‚å½“ä½ å°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶æ—¶ï¼Œè¿™å°éƒ¨åˆ†ä»£ç åœ¨ chunk ids å’Œ åŒ¹é…çš„æ–‡ä»¶ä¹‹é—´å¼€å§‹äº†ä¸€ä¸ªæ˜ å°„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vendor.e6ea4504d61a1cc1c60b.js</span></span><br><span class="line">script.src = __webpack_require__.p + chunkId + <span class="string">"."</span> + &#123;</span><br><span class="line">  <span class="string">"0"</span>: <span class="string">"2f2269c7f0a55a5c1871"</span></span><br><span class="line">&#125;[chunkId] + <span class="string">".js"</span>;</span><br></pre></td></tr></table></figure><p>Webpack å°†æœ€æ–°ç”Ÿæˆçš„ chunk åŒ…å«åœ¨è¿™ä¸ª runtime å†…ï¼Œè¿™ä¸ª chunk å°±æ˜¯æˆ‘ä»¬ä»£ç ä¸­çš„ <code>vendor</code>ã€‚ä¸æ­¤åŒæ—¶æ¯ä¸€æ¬¡ä»»ä½• <code>chunk</code> çš„ä¿®æ”¹ï¼Œå³ä½¿è¿™ä¸€å°éƒ¨åˆ†ä»£ç ä¹Ÿæ”¹å˜ï¼Œä¹Ÿä¼šå¯¼è‡´æ•´ä¸ª <code>vendor</code> <code>chunk</code> æ”¹å˜ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°† runtime è½¬ä¹‰åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œåœ¨ <strong>Webpack 4</strong> ä¸­ï¼Œå¼€å¯ <code>optimization.runtimeChunk</code> é€‰é¡¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    runtimeChunk: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>Webpack 3</strong>ä¸­ï¼Œé€šè¿‡ <code>CommonsChunkPlugin</code> åˆ›å»ºä¸€ä¸ªé¢å¤–çš„ç©ºçš„ chunkï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'vendor'</span>,</span><br><span class="line"></span><br><span class="line">      minChunks: <span class="function"><span class="params">module</span> =&gt;</span> <span class="built_in">module</span>.context &amp;&amp;</span><br><span class="line">        <span class="built_in">module</span>.context.includes(<span class="string">'node_modules'</span>),</span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// This plugin must come after the vendor one (because webpack</span></span><br><span class="line">    <span class="comment">// includes runtime into the last chunk)</span></span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// minChunks: Infinity means that no app modules</span></span><br><span class="line">      <span class="comment">// will be included into this chunk</span></span><br><span class="line">      minChunks: <span class="literal">Infinity</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®Œæˆè¿™ä¸€éƒ¨åˆ†æ”¹å˜ï¼Œæ¯ä¸€æ¬¡ build éƒ½å°†ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: ac01483e8fec1fa70676</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 3816ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">   ./main.00bab6fd3100008a42b0.js    82 kB       0  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       1  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å°†ä»–ä»¬åè¿‡æ¥é¡ºåºæ·»åŠ åˆ° index.html ä¸­ï¼Œä½ å°±æå®šäº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./runtime.79f17c27b335abc7aaf4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./vendor.26886caf15818fa82dfa.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./main.00bab6fd3100008a42b0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Further-reading-æ‰©å±•é˜…è¯»-5"><a href="#Further-reading-æ‰©å±•é˜…è¯»-5" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li>Webpack guide <a href="https://webpack.js.org/guides/caching/" target="_blank" rel="noopener">on long term caching</a> webpack å…³äº cache æŒ‡å—</li><li>Webpack docs <a href="https://webpack.js.org/concepts/manifest/" target="_blank" rel="noopener">about webpack runtime and manifest</a> webpack å…³äº runtime and manifest æ–‡æ¡£</li><li><a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">â€œGetting the most out of the CommonsChunkPluginâ€</a> ä½¿ç”¨ CommonsChunkPlugin çš„æœ€ä½³å®è·µ</li></ul><h3 id="Inline-webpack-runtime-to-save-an-extra-HTTP-request-å†…è”-webpack-runtime-èŠ‚çœé¢å¤–çš„-HTTP-è¯·æ±‚"><a href="#Inline-webpack-runtime-to-save-an-extra-HTTP-request-å†…è”-webpack-runtime-èŠ‚çœé¢å¤–çš„-HTTP-è¯·æ±‚" class="headerlink" title="Inline webpack runtime to save an extra HTTP request å†…è” webpack runtime èŠ‚çœé¢å¤–çš„ HTTP è¯·æ±‚"></a>Inline webpack runtime to save an extra HTTP request å†…è” webpack runtime èŠ‚çœé¢å¤–çš„ HTTP è¯·æ±‚</h3><p>ä¸ºäº†åšçš„æ›´å¥½ï¼Œæˆ‘ä»¬å¯ä»¥å°½åŠ›æŠŠ webpack runtime å†…è”åœ¨ HTML è¯·æ±‚é‡Œã€‚ä¸‹é¢ä¸¾ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./runtime.79f17c27b335abc7aaf4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·åšï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">!<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">r</span>)</span>&#123;<span class="keyword">if</span>(t[r])<span class="keyword">return</span> t[r].exports;â€¦&#125;&#125; ([]);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ª runtime å¾ˆå°ï¼Œå†…è”å®ƒå¯ä»¥å¸®åŠ©ä½ èŠ‚çœ HTTP è¯·æ±‚ï¼ˆå°¤å…¶å¯¹ HTTP/1 é‡è¦ï¼›ä½†æ˜¯åœ¨ HTTP/2 å°±æ²¡æœ‰é‚£ä¹ˆé‡è¦äº†ï¼Œä½†æ˜¯ä»èƒ½å¤Ÿæé«˜æ•ˆç‡ï¼‰ã€‚</p><p>ä¸‹é¢å°±æ¥çœ‹çœ‹å¦‚ä½•åšã€‚</p><h4 id="å¦‚æœä½¿ç”¨-HtmlWebpackPlugin-æ¥ç”Ÿæˆ-HTML"><a href="#å¦‚æœä½¿ç”¨-HtmlWebpackPlugin-æ¥ç”Ÿæˆ-HTML" class="headerlink" title="å¦‚æœä½¿ç”¨ HtmlWebpackPlugin æ¥ç”Ÿæˆ HTML"></a>å¦‚æœä½¿ç”¨ HtmlWebpackPlugin æ¥ç”Ÿæˆ HTML</h4><p>å¦‚æœä½¿ç”¨ <a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener"><code>HtmlWebpackPlugin</code></a> æ¥ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œ<a href="https://github.com/rohitlodha/html-webpack-inline-chunk-plugin" target="_blank" rel="noopener"><code>InlineChunkWebpackPlugin</code></a> å°±è¶³å¤Ÿäº†ã€‚</p><h4 id="å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ-HTML"><a href="#å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ-HTML" class="headerlink" title="å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ HTML"></a>å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ HTML</h4><h5 id="Webpack-4"><a href="#Webpack-4" class="headerlink" title="Webpack 4"></a><strong>Webpack 4</strong></h5><p>1.å¢åŠ  <a href="https://github.com/danethurber/webpack-manifest-plugin" target="_blank" rel="noopener">WebpackManifestPlugin</a> æ’ä»¶å·²çŸ¥è¿è¡Œæ—¶ chunk:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="keyword">const</span> ManifestPlugin = <span class="built_in">require</span>(<span class="string">'webpack-manifest-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> ManifestPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ’ä»¶å°±ä¼šç”Ÿæˆä¸€ä¸ªä¸‹é¢è¿™æ ·çš„æ–‡ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// manifest.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"runtime~main.js"</span>: <span class="string">"runtime~main.8e0d62a03.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.å°†è¿™äº›å†…å®¹åµŒå…¥åˆ° runtime chunk ä¸­ã€‚ä¾‹å¦‚ï¼šä½¿ç”¨ Node.js å’Œ Expressï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> manifest = <span class="built_in">require</span>(<span class="string">'./manifest.json'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> runtimeContent = fs.readFileSync(manifest[<span class="string">'runtime~main.js'</span>], <span class="string">'utf-8'</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.send(<span class="string">`</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">    &lt;script&gt;<span class="subst">$&#123;runtimeContent&#125;</span>&lt;/script&gt;</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">  `</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="Webpack-3"><a href="#Webpack-3" class="headerlink" title="Webpack 3"></a><strong>Webpack 3</strong></h5><p>1.å°† <code>runtime</code> åç§°æ”¹æˆé™æ€çš„æ˜ç¡®çš„æ–‡ä»¶åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span>,</span><br><span class="line">      minChunks: <span class="literal">Infinity</span>,</span><br><span class="line">      filename: <span class="string">'runtime.js'</span>,</span><br><span class="line">        <span class="comment">// â†’ Now the runtime file will be called</span></span><br><span class="line">        <span class="comment">// â€œruntime.jsâ€, not â€œruntime.79f17c27b335abc7aaf4.jsâ€</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>2.åµŒå…¥åˆ° runtime.js å†…å®¹ã€‚æ¯”å¦‚ï¼šNode.js å’Œ Express</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> runtimeContent = fs.readFileSync(<span class="string">'./runtime.js'</span>, <span class="string">'utf-8'</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.send(<span class="string">`</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">    &lt;script&gt;<span class="subst">$&#123;runtimeContent&#125;</span>&lt;/script&gt;</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">  `</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="Lazy-load-code-that-you-donâ€™t-need-right-now-æ‡’åŠ è½½"><a href="#Lazy-load-code-that-you-donâ€™t-need-right-now-æ‡’åŠ è½½" class="headerlink" title="Lazy-load code that you donâ€™t need right now æ‡’åŠ è½½"></a>Lazy-load code that you donâ€™t need right now æ‡’åŠ è½½</h3><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªé¡µé¢æœ‰æˆ–å¤šæˆ–å°‘çš„é‡è¦éƒ¨åˆ†ï¼š</p><ul><li>å¦‚æœä½ åœ¨ YouTube ä¸ŠåŠ è½½ä¸€ä¸ªè§†é¢‘é¡µé¢ï¼Œç›¸æ¯”è¯„è®ºåŒºåŸŸä½ æ›´åœ¨ä¹è§†é¢‘åŒºåŸŸã€‚è¿™å°±æ˜¯è§†é¢‘è¦æ¯”è¯„è®ºåŒºåŸŸé‡è¦ã€‚</li><li>å¦‚æœä½ åœ¨ä¸€ä¸ªæ–°é—»ç½‘ç«™æ‰“å¼€ä¸€ä¸ªæŠ¥é“ï¼Œç›¸æ¯”å¹¿å‘ŠåŒºåŸŸä½ æ›´å…³å¿ƒæ–‡ç« çš„å†…å®¹ã€‚è¿™å°±æ˜¯æ–‡å­—æ¯”å¹¿å‘Šæ›´é‡è¦ã€‚</li></ul><p>åœ¨è¿™äº›æ¡ˆä¾‹ä¸­ï¼Œé€šè¿‡ä»…ä¸‹è½½æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæ‡’åŠ è½½å‰©ä½™åŒºåŸŸèƒ½å¤Ÿæå‡æœ€åˆçš„åŠ è½½æ€§èƒ½ã€‚ä½¿ç”¨ <a href="https://webpack.js.org/api/module-methods/#import-" target="_blank" rel="noopener">the <code>import()</code> function</a> å’Œ <a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="noopener">code-splitting</a> è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// videoPlayer.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderVideoPlayer</span>(<span class="params"></span>) </span>&#123; â€¦ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderComments</span>(<span class="params"></span>) </span>&#123; â€¦ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;renderVideoPlayer&#125; <span class="keyword">from</span> <span class="string">'./videoPlayer'</span>;</span><br><span class="line">renderVideoPlayer();</span><br><span class="line"></span><br><span class="line"><span class="comment">// â€¦Custom event listener</span></span><br><span class="line">onShowCommentsClick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">'./comments'</span>).then(<span class="function">(<span class="params">comments</span>) =&gt;</span> &#123;</span><br><span class="line">    comments.renderComments();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>import()</code>æ˜ç¡®è¡¨ç¤ºä½ æœŸæœ›åŠ¨æ€åœ°åŠ è½½ç‹¬ç«‹çš„ moduleã€‚å½“ webpack çœ‹åˆ° <code>import(&#39;./module.js&#39;)</code>æ—¶ï¼Œä»–å°±ä¼šå°†è¿™ä¸ª module ç§»åˆ°ç‹¬ç«‹çš„ chunk ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: 39b2a53cb4e73f0dc5b2</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 4273ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.f7e53d8e13e9a2745d6d.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.4f14b6326a80f4752a98.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”åªåœ¨ä»£ç æ‰§è¡Œåˆ° <code>import()</code> æ‰ä¼šä¸‹è½½ã€‚</p><p>è¿™å°†ä¼šè®© main bundle æ›´å°ï¼Œæå‡åˆå§‹åŠ è½½çš„æ—¶é—´ã€‚æ›´é‡è¦çš„æ˜¯æ”¹è¿›ç¼“å­˜ - å¦‚æœä½ ä¿®æ”¹ main chunk çš„ä»£ç ï¼Œå…¶ä»–éƒ¨åˆ†çš„ chunk ä¹Ÿä¸ä¼šå—å½±å“ã€‚</p><blockquote><p>Note: å¦‚æœä½¿ç”¨ Babel ç¼–è¯‘ä»£ç ï¼Œä½ ä¼šå› ä¸º Babel è¿˜ä¸è®¤è¯† <em>import()</em> è€Œé‡åˆ°è¯­æ³•é”™è¯¯æŠ›å‡ºæ¥ã€‚å¯ä»¥ä½¿ç”¨ <a href="https://www.npmjs.com/package/babel-plugin-syntax-dynamic-import" target="_blank" rel="noopener"><code>syntax-dynamic-import</code></a> è§£å†³è¿™ä¸ªé”™è¯¯ã€‚</p></blockquote><h5 id="Further-reading-æ‰©å±•é˜…è¯»-6"><a href="#Further-reading-æ‰©å±•é˜…è¯»-6" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li>Webpack docs <a href="https://webpack.js.org/api/module-methods/#import-" target="_blank" rel="noopener">for the <code>import()</code> function</a>  webpack ä¸­ import() æ–‡æ¡£</li><li>The JavaScript proposal <a href="https://github.com/tc39/proposal-dynamic-import" target="_blank" rel="noopener">for implementing the <code>import()</code> syntax</a></li></ul><h3 id="Split-the-code-into-routes-and-pages-æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­"><a href="#Split-the-code-into-routes-and-pages-æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­" class="headerlink" title="Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­"></a>Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­</h3><p>å¦‚æœä½ çš„åº”ç”¨æ‹¥æœ‰å¤šä¸ªè·¯ç”±æˆ–è€…é¡µé¢ï¼Œä½†æ˜¯ä»£ç ä¸­åªæœ‰å•ç‹¬ä¸€ä¸ª JS æ–‡ä»¶ï¼ˆä¸€ä¸ªå•ç‹¬çš„ main chunkï¼‰ï¼Œè¿™çœ‹èµ·æ¥ä½ æ­£åœ¨æ¯ä¸€ä¸ªè¯·æ±‚ä¸­èŠ‚çœé¢å¤–çš„ bytes å¸¦å®½ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“ç”¨æˆ·æ­£åœ¨è®¿é—®ä½ ç½‘ç«™çš„é¦–é¡µï¼š</p><p><img src="https://img10.360buyimg.com/uba/jfs/t17272/291/466883786/44644/f5b82d7c/5a8159b0N4fe9f50d.png" alt="site-home-page"></p><p>ä»–ä»¬å¹¶ä¸éœ€è¦åŠ è½½å¦å¤–ä¸åŒçš„é¡µé¢ä¸Šæ¸²æŸ“æ–‡ç« æ ‡é¢˜çš„çš„ä»£ç  - ä½†æ˜¯ä»–ä»¬è¿˜æ˜¯ä¼šåŠ è½½åˆ°è¿™æ®µä»£ç ã€‚æ›´ä¸¥é‡çš„æ˜¯å¦‚æœç”¨æˆ·ç»å¸¸åªè®¿é—®é¦–é¡µï¼ŒåŒæ—¶ä½ è¿˜ç»å¸¸æ”¹å˜æ¸²æŸ“æ–‡ç« æ ‡é¢˜çš„ä»£ç ï¼Œwebpack å°†ä¼šå¯¹æ•´ä¸ª bundle å¤±æ•ˆ - ç”¨æˆ·æ¯æ¬¡éƒ½ä¼šé‡å¤ä¸‹è½½å…¨éƒ¨ app çš„ä»£ç ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†ä»£ç æ‹†åˆ†åˆ°é¡µé¢é‡Œï¼ˆæˆ–è€…å•é¡µé¢åº”ç”¨çš„è·¯ç”±é‡Œï¼‰ï¼Œç”¨æˆ·å°±ä¼šåªä¸‹è½½å¯¹ä»–æœ‰æ„ä¹‰çš„ä»£ç ã€‚æ›´å¥½çš„æ˜¯ï¼Œæµè§ˆå™¨ä¹Ÿä¼šæ›´å¥½åœ°ç¼“å­˜ä»£ç ï¼šå½“ä½ æ”¹å˜é¦–é¡µçš„ä»£ç æ—¶ï¼Œwebpack åªä¼šè®©ç›¸åŒ¹é…çš„ chunk å¤±æ•ˆã€‚</p><h4 id="For-single-page-apps-å¯¹äºå•é¡µé¢åº”ç”¨"><a href="#For-single-page-apps-å¯¹äºå•é¡µé¢åº”ç”¨" class="headerlink" title="For single-page apps å¯¹äºå•é¡µé¢åº”ç”¨"></a>For single-page apps å¯¹äºå•é¡µé¢åº”ç”¨</h4><p>é€šè¿‡è·¯ç”±æ‹†åˆ†å¸¦é¡µé¢å¼•ç”¨ï¼Œä½¿ç”¨ <code>import()</code>ï¼ˆçœ‹çœ‹ <a href="https://developers.google.com/web/fundamentals/performance/webpack/use-long-term-caching#lazy-loading" target="_blank" rel="noopener">â€œLazy-load code that you donâ€™t need right nowâ€</a>è¿™éƒ¨åˆ†ï¼‰ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨ä¸€ä¸ªæ¡†æ¶ï¼Œç°åœ¨å·²ç»æœ‰æˆç†Ÿçš„æ–¹æ¡ˆï¼š</p><ul><li><a href="https://reacttraining.com/react-router/web/guides/code-splitting" target="_blank" rel="noopener">â€œCode Splittingâ€</a> in <code>react-router</code>â€˜s docs (for React)</li><li><a href="https://router.vuejs.org/en/advanced/lazy-loading.html" target="_blank" rel="noopener">â€œLazy Loading Routesâ€</a> in <code>vue-router</code>â€˜s docs (for Vue.js)</li></ul><h4 id="For-traditional-multi-page-apps-å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨"><a href="#For-traditional-multi-page-apps-å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨" class="headerlink" title="For traditional multi-page apps å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨"></a>For traditional multi-page apps å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨</h4><p>é€šè¿‡é¡µé¢æ‹†åˆ†ä¼ ç»Ÿå¤šé¡µé¢åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ webpack çš„ <a href="https://webpack.js.org/concepts/entry-points/" target="_blank" rel="noopener"><em>entry points</em></a> ã€‚å¦‚æœä½ çš„åº”ç”¨æœ‰ä¸‰ç§é¡µé¢ï¼šä¸»é¡µã€æ–‡ç« é¡µã€ç”¨æˆ·è´¦æˆ·é¡µï¼Œé‚£å°±åˆ†å‚ä¸‰ä¸ª entriesï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    home: <span class="string">'./src/Home/index.js'</span>,</span><br><span class="line">    article: <span class="string">'./src/Article/index.js'</span>,</span><br><span class="line">    profile: <span class="string">'./src/Profile/index.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ¯ä¸€ä¸ª entry æ–‡ä»¶ï¼Œwebpack å°†æ„å»ºå‡ºç‹¬ç«‹çš„ä¾èµ–æ ‘ï¼Œå¹¶ä¸”å£°ç§°ä¸€ä¸ª bundleï¼Œå®ƒå°†é€šè¿‡ entry æ¥åªåŒ…æ‹¬ç”¨åˆ°çš„ modulesï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: 318d7b8490a7382bf23b</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 4273ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./home.91b9ed27366fe7e33d6a.js    18 kB       1  [emitted]  home</span><br><span class="line">./article.87a128755b16ac3294fd.js    32 kB       2  [emitted]  article</span><br><span class="line">./profile.de945dc02685f6166781.js    24 kB       3  [emitted]  profile</span><br><span class="line"> ./vendor.4f14b6326a80f4752a98.js    46 kB       4  [emitted]  vendor</span><br><span class="line">./runtime.318d7b8490a7382bf23b.js  1.45 kB       5  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œå¦‚æœä»…ä»…æ˜¯æ–‡ç« é¡µä½¿ç”¨ <em>Lodash</em> ï¼Œ<em>home</em> å’Œ <em>profile</em> çš„ bundle å°†ä¸ä¼šåŒ…å« lodash - åŒæ—¶ç”¨æˆ·ä¹Ÿä¸ä¼šåœ¨è®¿é—®é¦–é¡µçš„æ—¶å€™ä¸‹è½½åˆ°è¿™ä¸ªåº“ã€‚</p><p>æ‹†åˆ†ä¾èµ–æ ‘ä¹Ÿæœ‰ç¼ºç‚¹ã€‚å¦‚æœä¸¤ä¸ª entry points éƒ½ç”¨åˆ°äº† <em>loadash</em> ï¼ŒåŒæ—¶ä½ æ²¡æœ‰åœ¨ <em>vendor</em> ç§»é™¤æ‰ä¾èµ–ï¼Œä¸¤ä¸ª entry points å°†åŒ…æ‹¬ä¸¤ä¸ªé‡å¤çš„ <em>lodash</em> ã€‚åœ¨ <strong>Webpack 4</strong> ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½® <code>optimization.splitChunks.chunks: &#39;all&#39;</code> è§£å†³è¯¥é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 4)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé€‰é¡¹å¯ä»¥å¼€å¯æ™ºèƒ½æ‹†åˆ†ä»£ç ï¼Œwebpack å°†è‡ªåŠ¨å¯»æ‰¾ common code å¹¶å°†å…¶æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p><p>åœ¨ <strong>Webpack 3</strong> å¯ä»¥ä½¿ç”¨<a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ - å®ƒä¼šå°†é€šç”¨çš„ä¾èµ–è½¬ç§»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js (for webpack 3)</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      <span class="comment">// A name of the chunk that will include the common dependencies</span></span><br><span class="line">      name: <span class="string">'common'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// The plugin will move a module into a common file</span></span><br><span class="line">      <span class="comment">// only if itâ€™s included into `minChunks` chunks</span></span><br><span class="line">      <span class="comment">// (Note that the plugin analyzes all chunks, not only entries)</span></span><br><span class="line">      minChunks: <span class="number">2</span>,    <span class="comment">// 2 is the default value</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>éšæ„ä½¿ç”¨<code>minChunks</code>çš„å€¼æ¥æ‰¾åˆ°æœ€ä¼˜çš„é€‰é¡¹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ æƒ³è¦å®ƒå°½å¯èƒ½ä½“ç§¯å°ï¼Œä½†å®ƒä¼šå¢åŠ  chunks çš„æ•°é‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œ3 ä¸ª chunkï¼Œ<code>minChunks</code> å¯èƒ½æ˜¯ 2 ä¸ªï¼Œä½†æ˜¯ 30 ä¸ª chunkï¼Œå®ƒå¯èƒ½æ˜¯ 8 ä¸ª - å› ä¸ºå¦‚æœä½ æŠŠå®ƒè®¾ç½®æˆ 2 ï¼Œè¿‡å¤šçš„ modules å°†ä¼šæ‰“åŒ…è¿›ä¸€ä¸ªé€šç”¨æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶æ›´è‡ƒè‚¿ã€‚</p><h4 id="Further-reading-æ‰©å±•é˜…è¯»-7"><a href="#Further-reading-æ‰©å±•é˜…è¯»-7" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h4><ul><li>Webpack docs <a href="https://webpack.js.org/concepts/entry-points/" target="_blank" rel="noopener">about the concept of entry points</a> webpack å…³äºå…¥å£æ¦‚å¿µçš„æ–‡æ¡£</li><li>Webpack docs <a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener">about the CommonsChunkPlugin</a> webpack å…³äº CommonChunkPlugin æ’ä»¶çš„æ–‡æ¡£</li><li><a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">â€œGetting the most out of the CommonsChunkPluginâ€</a></li></ul><h3 id="Make-module-ids-more-stable-ä½¿ç”¨ç¨³å®šçš„-module-ids"><a href="#Make-module-ids-more-stable-ä½¿ç”¨ç¨³å®šçš„-module-ids" class="headerlink" title="Make module ids more stable ä½¿ç”¨ç¨³å®šçš„ module ids"></a>Make module ids more stable ä½¿ç”¨ç¨³å®šçš„ module ids</h3><p>å½“ç¼–è¯‘ä»£ç æ—¶ï¼Œwebpack ä¼šåˆ†é…ç»™æ¯ä¸€ä¸ª module ä¸€ä¸ª IDã€‚ä¹‹åï¼Œè¿™äº› ID å°±ä¼šè¢« <code>require()</code> å¼•ç”¨åˆ° bundle å†…éƒ¨ã€‚ä½ å¯ä»¥åœ¨ç¼–è¯‘è¾“å‡ºçš„å³ä¾§åœ¨ moudle è·¯å¾„ä¹‹å‰çœ‹åˆ°è¿™äº› IDï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.4e50a16675574df6a9e9.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[0] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">[2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">[3] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br><span class="line">[4] ./comments.js 58 kB &#123;0&#125; [built]</span><br><span class="line">[5] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line"> + 1 hidden module</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº› ID æ˜¯ä½¿ç”¨è®¡æ•°å™¨è®¡ç®—å‡ºæ¥çš„ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ª module æ˜¯ ID 0ï¼Œç¬¬äºŒä¸ª moudle å°±æ˜¯ ID 1ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚è¿™æ ·çš„é—®é¢˜å°±åœ¨äºå½“ä½ æ–°å¢ä¸€ä¸ª module äº‹ï¼Œå®ƒä¼šå‡ºç°åœ¨åŸæ¥ module åˆ—è¡¨ä¸­çš„ä¸­é—´ï¼Œæ”¹å˜åé¢æ‰€æœ‰ module çš„ IDï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.5c82c0f337fcb22672b5.js    22 kB       0  [emitted]</span><br><span class="line">   ./main.0c8b617dfc40c2827ae3.js    82 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br><span class="line">   [0] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">   [2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">   [3] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ æˆ‘ä»¬å¢åŠ ä¸€ä¸ªæ–° module</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[4] ./webPlayer.js 24 kB &#123;1&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ ç°åœ¨çœ‹è¿™é‡Œåšäº†ä»€ä¹ˆï¼ <code>comments.js</code> ç°åœ¨çš„ ID ç”± 4 å˜æˆäº† 5</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[5] ./comments.js 58 kB &#123;0&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ <code>ads.js</code> çš„ ID ç”± 5 å˜æˆ 6</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[6] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line">       + 1 hidden module</span><br></pre></td></tr></table></figure><p>è¿™å°†ä½¿åŒ…å«æˆ–ä¾èµ–äºå…·æœ‰æ›´æ”¹IDçš„æ¨¡å—çš„æ‰€æœ‰å—æ— æ•ˆ - å³ä½¿å®ƒä»¬çš„å®é™…ä»£ç æ²¡æœ‰æ›´æ”¹ã€‚åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œ_0_ è¿™ä¸ª chunk å’Œ <em>main</em> chunk éƒ½ä¼šå¤±æ•ˆ - åªæœ‰ <em>main</em> æ‰åº”è¯¥å¤±æ•ˆã€‚</p><p>ä½¿ç”¨<a href="https://webpack.js.org/plugins/hashed-module-ids-plugin/" target="_blank" rel="noopener"><code>HashedModuleIdsPlugin</code></a>æ’ä»¶æ”¹å˜module ID å¦‚ä½•è®¡ç®—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒåˆ©ç”¨ module è·¯å¾„çš„ hash æ¥æ›¿æ¢æ‰è®¡æ•°å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.6168aaac8461862eab7a.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.a2e49a279552980e3b91.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.ff9f7ea865884e6a84c8.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.25f5d0204e4f77fa57a1.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[3IRH] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">[DuR2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">[JkW7] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br><span class="line">[LbCc] ./webPlayer.js 24 kB &#123;1&#125; [built]</span><br><span class="line">[lebJ] ./comments.js 58 kB &#123;0&#125; [built]</span><br><span class="line">[02Tr] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line">    + 1 hidden module</span><br></pre></td></tr></table></figure><p>æœ‰äº†è¿™ä¸ªæ–¹æ³•ï¼Œåªæœ‰ä½ é‡å‘½åæˆ–è€…åˆ é™¤è¿™ä¸ª moudle å®ƒçš„ ID æ‰ä¼šå˜åŒ–ã€‚æ–°çš„ modules ä¸ä¼šå› ä¸º module ID äº’ç›¸å½±å“ã€‚</p><p>å¯ç”¨è¿™ä¸ªæ’ä»¶ï¼Œåœ¨é…ç½®ä¸­å¢åŠ  <em>plugins</em>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.HashedModuleIdsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="Further-reading-æ‰©å±•é˜…è¯»-8"><a href="#Further-reading-æ‰©å±•é˜…è¯»-8" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h5><ul><li>Webpack docs <a href="https://webpack.js.org/plugins/hashed-module-ids-plugin/" target="_blank" rel="noopener">about the HashedModuleIdsPlugin</a> HashModuleIdsPlugin æ’ä»¶æ–‡æ¡£</li></ul><h3 id="Summing-up"><a href="#Summing-up" class="headerlink" title="Summing up"></a>Summing up</h3><ul><li>Cache the bundle and differentiate between versions by changing the bundle name ç¼“å­˜ bundle åŒ…å¹¶é€šè¿‡ä¿®æ”¹ bundle åç§°æ¥åšç‰ˆæœ¬å·®å¼‚</li><li>Split the bundle into app code, vendor code and runtime å°† bundle æ‹†åˆ†æˆ app ä¸šåŠ¡ä»£ç ã€vendor ä»£ç ã€runtime ä»£ç </li><li>Inline the runtime to save an HTTP request å°† runtime ä»£ç å†…è”èŠ‚çœ HTTP è¯·æ±‚</li><li>Lazy-load non-critical code with <code>import</code> é€šè¿‡ import æ‡’åŠ è½½éå¿…è¦ä»£ç </li><li>Split code by routes/pages to avoid loading unnecessary stuff é€šè¿‡è·¯ç”±æˆ–é¡µé¢æ‹†åˆ†é˜»æ­¢åŠ è½½ä¸å¿…è¦ä»£ç </li></ul><hr><h2 id="Monitor-and-analyze-the-app-ç›‘æ§å¹¶åˆ†æ"><a href="#Monitor-and-analyze-the-app-ç›‘æ§å¹¶åˆ†æ" class="headerlink" title="Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ"></a>Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>å³ä½¿å½“ä½ é…ç½®å¥½ä½ çš„ webpack è®©ä½ çš„åº”ç”¨å°½å¯èƒ½ä½“ç§¯è¾ƒå°çš„æ—¶å€™ï¼Œè·Ÿè¸ªè¿™ä¸ªåº”ç”¨å°±éå¸¸é‡è¦ï¼ŒåŒæ—¶äº†è§£é‡Œé¢åŒ…å«äº†ä»€ä¹ˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ å®‰è£…ä¸€ä¸ªä¾èµ–ï¼Œå®ƒå°†è®©ä½ çš„ app å¢åŠ ä¸¤å€å¤§å° - ä½†å¹¶æ²¡æœ‰æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ï¼</p><p>è¿™ä¸€éƒ¨åˆ†å°±æ¥è®²è§£ä¸€äº›èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£ä½ çš„ bundle çš„å·¥å…·ã€‚</p><h3 id="Keep-track-of-the-bundle-size-è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯"><a href="#Keep-track-of-the-bundle-size-è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯" class="headerlink" title="Keep track of the bundle size è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯"></a>Keep track of the bundle size è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯</h3><p>åœ¨å¼€å‘æ—¶å¯ä»¥ä½¿ç”¨<a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a>å’Œå‘½ä»¤è¡Œ<a href="https://github.com/siddharthkp/bundlesize" target="_blank" rel="noopener">bundlesize</a> æ¥ç›‘æ§ app çš„ä½“ç§¯ã€‚</p><h4 id="webpack-dashboard"><a href="#webpack-dashboard" class="headerlink" title="webpack-dashboard"></a>webpack-dashboard</h4><p><a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a>å¯ä»¥é€šè¿‡ä¾èµ–ä½“ç§¯å¤§å°ã€è¿›ç¨‹å’Œå…¶ä»–ç»†èŠ‚æ¥æ”¹è¿› webpack çš„è¾“å‡ºã€‚</p><p><img src="http://img30.360buyimg.com/uba/jfs/t16294/169/2125639991/38263/ad862ba/5a8159c0N0da38a60.png" alt="webpack-dashboard"></p><p>è¿™ä¸ª dashborad å¸®åŠ©æˆ‘ä»¬è·Ÿè¸ªå¤§å‹ä¾èµ– - å¦‚æœä½ å¢åŠ ä¸€ä¸ªä¾èµ–ï¼Œä½ å°±ç«‹åˆ»èƒ½åœ¨ Modules section å§‹ç»ˆçœ‹åˆ°å®ƒï¼</p><p>å¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦å®‰è£… <em>webpack-dashboard</em> åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dashboard --save-dev</span><br></pre></td></tr></table></figure><p>åŒæ—¶åœ¨é…ç½®çš„ plugins å¢åŠ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> DashboardPlugin = <span class="built_in">require</span>(<span class="string">'webpack-dashboard/plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> DashboardPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…å¦‚æœæ­£åœ¨ä½¿ç”¨åŸºäº Express dev server å¯ä»¥ä½¿ç”¨ <code>compiler.apply()</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compiler.apply(new DashboardPlugin());</span><br></pre></td></tr></table></figure><p>å¤šå°è¯• dashboard æ‰¾å‡ºæ”¹è¿›çš„åœ°æ–¹ï¼æ¯”å¦‚ï¼Œåœ¨ modules section æ»šåŠ¨æ‰¾åˆ°é‚£ä¸ªåº“ä½“ç§¯è¿‡å¤§ï¼ŒæŠŠå®ƒæ›¿æ¢æˆå°çš„å¯æ›¿ä»£çš„åº“ã€‚</p><h4 id="bundlesize"><a href="#bundlesize" class="headerlink" title="bundlesize"></a>bundlesize</h4><p><a href="https://github.com/siddharthkp/bundlesize" target="_blank" rel="noopener">bundlesize</a> å¯ä»¥éªŒè¯ webpack assets ä¸è¶…è¿‡æŒ‡å®šçš„å¤§å°ã€‚é€šè¿‡è‡ªåŠ¨åŒ– CI å°±å¯ä»¥çŸ¥æ™“ app æ˜¯å¦å˜çš„è¿‡äºè‡ƒè‚¿ï¼š</p><p><img src="https://img30.360buyimg.com/uba/jfs/t15808/165/2111159728/110001/633e93ab/5a8159cdN1c575a1f.jpg" alt="bundlesize"></p><p>é…ç½®å¦‚ä¸‹ï¼š</p><h5 id="Find-out-the-maximum-sizes-æ‰¾å‡ºæœ€å¤§ä½“ç§¯"><a href="#Find-out-the-maximum-sizes-æ‰¾å‡ºæœ€å¤§ä½“ç§¯" class="headerlink" title="Find out the maximum sizes æ‰¾å‡ºæœ€å¤§ä½“ç§¯"></a><strong>Find out the maximum sizes</strong> æ‰¾å‡ºæœ€å¤§ä½“ç§¯</h5><p>1.åˆ†æ app å°½å¯èƒ½å‡å°ä½“ç§¯ï¼Œæ‰§è¡Œç”Ÿäº§ç¯å¢ƒçš„ buildã€‚<br>2.åœ¨<code>package.json</code>ä¸­å¢åŠ <code>bundlesize</code>éƒ¨åˆ†ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundlesize"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/*"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.ä½¿ç”¨<code>npx</code>æ‰§è¡Œ<code>bundlesize</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx bundlesize</span><br></pre></td></tr></table></figure><p>å®ƒå°±ä¼šå°†æ¯ä¸€ä¸ªæ–‡ä»¶çš„ gzip å‹ç¼©åçš„ä½“ç§¯æ‰“å°å‡ºæ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PASS  ./dist/icon256.6168aaac8461862eab7a.png:  10.89KB PASS./dist/icon512.c3e073a4100bd0c28a86.png:  13.1KB PASS./dist/main.0c8b617dfc40c2827ae3.js:  16.28KB PASS./dist/vendor.ff9f7ea865884e6a84c8.js:  31.49KB</span><br></pre></td></tr></table></figure><p>4.æ¯ä¸€ä¸ªä½“ç§¯å¢åŠ 10-20%ï¼Œä½ å°†å¾—åˆ°æœ€å¤§ä½“ç§¯ã€‚è¿™ä¸ª10-20ï¼…çš„å¹…åº¦å¯ä»¥è®©ä½ åƒå¾€å¸¸ä¸€æ ·å¼€å‘åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶è­¦å‘Šä½ ï¼Œå½“å®ƒçš„å¤§å°å¢é•¿å¤ªå¤šã€‚</p><h5 id="Enable-bundlesize-å¯ç”¨-bundlesize"><a href="#Enable-bundlesize-å¯ç”¨-bundlesize" class="headerlink" title="Enable bundlesize å¯ç”¨ bundlesize"></a><strong>Enable <code>bundlesize</code></strong> å¯ç”¨ bundlesize</h5><p>5.å®‰è£…<em>bundlesize</em>å¼€å‘ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install bundlesize --save-dev</span><br></pre></td></tr></table></figure><p>6.åœ¨<code>package.json</code>ä¸­çš„<code>bundlesize</code>éƒ¨åˆ†ï¼Œå£°æ˜å…·ä½“çš„æœ€å¤§å€¼ã€‚å¯¹äºæŸä¸€äº›æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œä½ å¯ä»¥å•ç‹¬æ ¹æ®æ–‡ä»¶ç±»å‹æ¥è®¾ç½®æœ€å¤§ä½“ç§¯å¤§å°ï¼Œè€Œä¸éœ€è¦æ ¹æ®æ¯ä¸€ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundlesize"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/*.png"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"16 kB"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/main.*.js"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"20 kB"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/vendor.*.js"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"35 kB"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.å¢åŠ ä¸€ä¸ª npm è„šæœ¬æ¥æ‰§è¡Œæ£€æŸ¥ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"check-size"</span>: <span class="string">"bundlesize"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.é…ç½®è‡ªåŠ¨åŒ– CI æ¥åœ¨æ¯ä¸€æ¬¡ push æ—¶æ‰§è¡Œ<code>npm run check-size</code>åšæ£€æŸ¥ã€‚ï¼ˆå¦‚æœä½ åœ¨ Github ä¸Šå¼€å‘é¡¹ç›®ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨<a href="https://github.com/siddharthkp/bundlesize#2-build-status" target="_blank" rel="noopener">integrate <code>bundlesize</code> with GitHub</a>ã€‚ï¼‰</p><p>è¿™å°±å…¨éƒ¨äº†ï¼ç°åœ¨å¦‚æœä½ è¿è¡Œ<code>npm run check-size</code>æˆ–è€… push ä»£ç ï¼Œä½ å°±ä¼šçœ‹åˆ°è¾“å‡ºçš„æ–‡ä»¶æ˜¯å¦è¶³å¤Ÿå°ï¼š</p><p><img src="https://img14.360buyimg.com/uba/jfs/t14890/146/2205111432/17457/fa7f748a/5a8159dcN17378d16.png" alt="bundlesize-output-success"></p><p>æˆ–è€…ä¸‹é¢å¤±è´¥çš„æƒ…å†µ</p><p><img src="https://img11.360buyimg.com/uba/jfs/t16969/198/453213154/26368/834a1c7f/5a8159e8Nc1f5ffe8.png" alt="bundlesize-output-failure"></p><h4 id="Further-reading-æ‰©å±•é˜…è¯»-9"><a href="#Further-reading-æ‰©å±•é˜…è¯»-9" class="headerlink" title="Further reading æ‰©å±•é˜…è¯»"></a>Further reading æ‰©å±•é˜…è¯»</h4><ul><li>Alex Russell <a href="https://infrequently.org/2017/10/can-you-afford-it-real-world-web-performance-budgets/" target="_blank" rel="noopener">about the real-world loading time we should target</a></li></ul><h3 id="Analyze-why-the-bundle-is-so-large-åˆ†æ-bundle-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§"><a href="#Analyze-why-the-bundle-is-so-large-åˆ†æ-bundle-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§" class="headerlink" title="Analyze why the bundle is so large åˆ†æ bundle ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§"></a>Analyze why the bundle is so large åˆ†æ bundle ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§</h3><p>ä½ æƒ³è¦æ·±æŒ– bundle å†…ï¼Œçœ‹çœ‹é‡Œé¢å…·ä½“å“ªäº› module å ç”¨å¤šå¤§ç©ºé—´ã€‚<a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a></p><blockquote><p>è¯‘è€…æ³¨ï¼šæ­¤å¤„æœ‰<a href="https://developers.google.com/web/fundamentals/performance/webpack/webpack-bundle-analyzer.mp4" target="_blank" rel="noopener">è§†é¢‘</a>ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œè¯·è‡ªè¡Œè§‚çœ‹</p></blockquote><p>(Screen recording from <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">github.com/webpack-contrib/webpack -bundle-analyzer</a>)</p><p>webpack-bundle-analyzer å¯ä»¥æ‰«æ bundle åŒæ—¶æ„å»ºä¸€ä¸ªæŸ¥çœ‹å†…éƒ¨çš„å¯è§†åŒ–çª—å£ã€‚ä½¿ç”¨è¿™ä¸ªå¯è§†åŒ–å·¥å…·æ‰¾åˆ°è¿‡å¤§æˆ–è€…ä¸å¿…è¦çš„ä¾èµ–ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªåˆ†æå™¨ï¼Œéœ€è¦å®‰è£…<code>webpack-bundle-analyzer</code>åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer --save-dev</span><br></pre></td></tr></table></figure><p>åœ¨ config ä¸­å¢åŠ æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> BundleAnalyzerPlugin = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> BundleAnalyzerPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç”Ÿäº§ç¯å¢ƒçš„ build è¿™ä¸ªæ’ä»¶å°±ä¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªæ˜¾ç¤ºçŠ¶æ€çš„é¡µé¢ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé¡µé¢ä¼šæ˜¾ç¤ºè¯­æ³•åˆ†æåçš„æ–‡ä»¶ä½“ç§¯ï¼ˆåœ¨ bundle å‡ºç°çš„æ–‡ä»¶ï¼‰ã€‚æ‚¨å¯èƒ½æƒ³æ¯”è¾ƒ gzip çš„å¤§å°ï¼Œå› ä¸ºè¿™æ›´æ¥è¿‘å®é™…ç”¨æˆ·çš„ä½“éªŒï¼›ä½¿ç”¨å·¦è¾¹çš„è¾¹æ æ¥åˆ‡æ¢å°ºå¯¸ã€‚</p><blockquote><p>Note: å¦‚æœä½ ä½¿ç”¨ <a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener">ModuleConcatenationPlugin</a>ï¼Œå®ƒå¯èƒ½åœ¨webpack-bundle-analyzerè¾“å‡ºæ—¶åˆå¹¶ä¸€éƒ¨åˆ† moduleï¼Œä½¿å¾—æŠ¥å‘Šå°ä¸€äº›ç»†èŠ‚ã€‚å¦‚æœä½ ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œåœ¨æ‰§è¡Œåˆ†æçš„æ—¶å€™éœ€è¦ç¦ç”¨æ‰ã€‚</p></blockquote><p>ä¸‹é¢æ˜¯æŠ¥å‘Šä¸­éœ€è¦çœ‹ä»€ä¹ˆï¼š</p><ul><li><strong>Large dependencies å¤§å‹ä¾èµ–</strong> ä¸ºä»€ä¹ˆä½“ç§¯è¿™ä¹ˆå¤§ï¼Ÿæ˜¯å¦æœ‰æ›´å°çš„æ›¿ä»£åŒ…ï¼ˆæ¯”å¦‚ Preact æ›¿ä»£ Reactï¼‰ï¼Ÿç”¨äº†å…¨éƒ¨ä»£ç ï¼ˆæ¯”å¦‚ Moment.js åŒ…å«å¤§é‡çš„æœ¬åœ°å˜é‡ <a href="https://github.com/GoogleChromeLabs/webpack-libs-optimizations#moment" target="_blank" rel="noopener">that are often not used and could be dropped</a>ï¼‰ï¼Ÿ</li><li><strong>Duplicated dependencies é‡å¤ä¾èµ–</strong> æ˜¯å¦åœ¨ä¸åŒæ–‡ä»¶ä¸­çœ‹åˆ°è¿‡ç›¸åŒçš„åº“ï¼Ÿï¼ˆåœ¨ <strong>Webpack 4</strong> ä¸­é…ç½® <code>optimization.splitChunks.chunks</code>ï¼Œæˆ–è€…åœ¨ <strong>Webpack 3</strong>ä¸­ ä½¿ç”¨ <em>CommonsChunkPlugin</em> å°†ä»–ä»¬ç§»åˆ°ä¸€ä¸ªé€šç”¨æ–‡ä»¶å†…ï¼‰äº¦æˆ–æ˜¯åœ¨åŒä¸€ä¸ªåº“ä¸­ bundle æ‹¥æœ‰å¤šä¸ªç‰ˆæœ¬ï¼Ÿ</li><li><strong>Similar dependencies ç›¸ä¼¼ä¾èµ–</strong> æ˜¯å¦å­˜åœ¨æœ‰ç›¸ä¼¼åŠŸèƒ½çš„ç›¸ä¼¼åº“å­˜åœ¨ï¼Ÿï¼ˆæ¯”å¦‚<em>moment</em>å’Œ<em>date-fns</em> æˆ–è€… <em>lodash</em> å’Œ <em>lodash-es</em>ï¼‰å°½åŠ›æ±‡æ€»æˆä¸€ä¸ªã€‚</li></ul><p>åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ Sean Larkin çš„æ–‡ç«  <a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">great analysis of webpack bundles</a>ã€‚</p><h3 id="Summing-up-å°ç»“"><a href="#Summing-up-å°ç»“" class="headerlink" title="Summing up å°ç»“"></a>Summing up å°ç»“</h3><ul><li>Use <code>webpack-dashboard</code> and <code>bundlesize</code> to stay tuned of how large your app is</li><li>Dig into what builds up the size with <code>webpack-bundle-analyzer</code></li></ul><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æ€»ç»“ï¼š</p><ul><li><strong>å‰”é™¤ä¸å¿…è¦çš„ä½“ç§¯</strong> æŠŠæ‰€æœ‰çš„ä»£ç éƒ½å‹ç¼©æœ€å°åŒ–ï¼Œå‰”é™¤æ— ç”¨ä»£ç ï¼Œå¢åŠ ä¾èµ–æ—¶ä¿æŒè°¨æ…å°å¿ƒã€‚</li><li><strong>é€šè¿‡è·¯ç”±æ‹†åˆ†ä»£ç </strong> åªåœ¨çœŸæ­£éœ€è¦çš„æ—¶å€™æ‰åŠ è½½ï¼Œå…¶ä½™éƒ¨åˆ†åšæ‡’åŠ è½½ã€‚</li><li><strong>ç¼“å­˜ä»£ç </strong> åº”ç”¨ç¨‹åºæŸäº›éƒ¨åˆ†ä»£ç æ›´æ–°é¢‘ç‡ä½äºå…¶ä»–éƒ¨åˆ†ä»£ç ï¼Œå¯ä»¥å°†è¿™äº›éƒ¨åˆ†æ‹†åˆ†æˆæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶ä»…é‡æ–°ä¸‹è½½ã€‚</li><li><strong>è·Ÿè¸ªä½“ç§¯å¤§å°</strong> ä½¿ç”¨  <a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a> å’Œ <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a> ç›‘æ§ä½ çš„ appã€‚æ¯éš”å‡ ä¸ªæœˆé‡æ–°æ£€æŸ¥ä¸€ä¸‹ä½ çš„åº”ç”¨çš„æ€§èƒ½ã€‚</li></ul><p>Webpack ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ æ›´å¿«åˆ›å»º app çš„å·¥å…·ã€‚å®ƒè¿˜å¸®åŠ©ä½¿ä½ çš„ app æˆä¸º <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">a Progressive Web App</a> ï¼Œä½ çš„åº”ç”¨æ‹¥æœ‰æ›´å¥½çš„ä½“éªŒä»¥åŠè‡ªåŠ¨åŒ–çš„å¡«å……å·¥å…·å°±åƒ<a href="https://developers.google.com/web/tools/lighthouse/" target="_blank" rel="noopener">Lighthouse</a>æ ¹æ®ç¯å¢ƒç»™å‡ºå»ºè®®ã€‚</p><p>ä¸è¦å¿˜è®°é˜…è¯» <a href="https://webpack.js.org/guides/" target="_blank" rel="noopener">webpack docs</a> - é‡Œé¢æä¾›äº†å¤§é‡çš„ä¼˜åŒ–ç›¸å…³çš„ä¿¡æ¯ã€‚</p><p>å¤šå¤šç»ƒä¹  <a href="https://github.com/GoogleChromeLabs/webpack-training-project" target="_blank" rel="noopener">with the training app</a>ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½œè€… &lt;a href=&quot;https://developers.google.com/web/resources/contributors/addyosmani&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Addy Osmani&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://developers.google.com/web/resources/contributors/iamakulov&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ivan Akulov&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸæ–‡ &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/webpack/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developers.google.com/web/fundamentals/performance/webpack/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PS. åœ¨ 20180211 ç¬”è€…ç¿»è¯‘è¿‡ä¸€æ¬¡ï¼Œå½“æ—¶ä¹Ÿæ²¡æœ‰å®Œå…¨ç†è§£å’Œä½¿ç”¨æ–‡ä¸­æåˆ°çš„ä¼˜åŒ–é¡¹ï¼Œè¿‘æœŸå·¥ä½œä¸­å› ä¸ºç”¨åˆ° Webpack 4.x å¯¹ç”Ÿäº§ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼ŒåŠ æ·±äº†ä¸€äº›ç†è§£ï¼Œæœ¬è¯‘æ–‡å¯¹åŸæœ‰è¯‘æ–‡è¡¥å……çš„ Webpack 4 å†…å®¹ï¼ŒåŒæ—¶å¯¹åŸè¯‘æ–‡è¿›è¡Œäº†æ ¡å¯¹å’Œä¸€äº›ç»†èŠ‚æªè¾çš„ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç¿»è¯‘" scheme="https://beanlee.github.io/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="Webpack" scheme="https://beanlee.github.io/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘Webpack 4 mode and optimization</title>
    <link href="https://beanlee.github.io/2018/04/18/blog-translate-webpack-4-mode-and-optimization/"/>
    <id>https://beanlee.github.io/2018/04/18/blog-translate-webpack-4-mode-and-optimization/</id>
    <published>2018-04-18T06:26:11.000Z</published>
    <updated>2018-04-18T09:15:50.273Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ–‡ <a href="https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a" target="_blank" rel="noopener">https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a</a></p><p>ä½œè€… <a href="https://medium.com/@sokra" target="_blank" rel="noopener">Tobias Koppers</a></p><p>webpack å¢åŠ äº†ä¸€ä¸ªæ¨¡å¼é…ç½®ï¼ˆmode optionï¼‰ã€‚ä¸‹é¢æ¥è§£é‡Šä¸€ä¸‹å…·ä½“å†…å®¹ã€‚</p><a id="more"></a><p><img src="https://img14.360buyimg.com/uba/s750x500_jfs/t17446/171/1782320374/354853/1568df4e/5ad6eac5Na2c1d8ee.jpg!cc_2x1" alt=""></p><p>webpack 4 å¢åŠ äº†ä¸€ä¸ª<code>æ¨¡å¼</code>é€‰é¡¹ï¼ˆ<code>mode</code> optionï¼‰ã€‚<strong>å¹¶ä¸”è¿™ä¸ªé…ç½®æ˜¯å¿…é¡»å­˜åœ¨çš„</strong>ã€‚ï¼ˆå®é™…ä¸Šå®ƒä¸æ˜¯å¿…é¡»çš„é…ç½®é¡¹ï¼Œä½†å¦‚æœä½ çœç•¥æ‰æ²¡æœ‰é…å°±ä¼šæœ‰è­¦å‘Šã€‚ï¼‰</p><p>webpack 4 ç›®å‰æœ‰<strong>ä¸¤ä¸ªé»˜è®¤é…ç½®</strong>ï¼Œ<code>development</code> å’Œ <code>production</code> ã€‚è¿™ä¸¤ä¸ªå€¼å¯ä»¥åœ¨ <code>mode</code> ä¸­è®¾ç½®ã€‚</p><p>è®¾ç½® <code>development</code> å°†ä¼šå¸¦ç»™ä½ æœ€å¥½*çš„å¼€å‘ä½“éªŒï¼Œå®ƒä¸“æ³¨äºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æµè§ˆå™¨ debug å·¥å…·</li><li>å¼€å‘å‘¨æœŸå†…çš„å¿«é€Ÿå¢é‡ç¼–è¯‘</li><li>è¿è¡Œæ—¶æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯</li></ul><p>ï¼ˆ*å®é™…ä¸Šè¿™é‡ŒæŒ‡æœ€å¥½çš„ä½“éªŒå–å†³äºä½ ä½¿ç”¨çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°½åŠ›åœ¨è¿™é‡Œå›Šæ‹¬äº†å¤§å¤šæ•°é€šç”¨éƒ¨åˆ†ï¼‰</p><p>è®¾ç½® <code>production</code> å°†ä¼šå¸¦ç»™ä½ åœ¨å‘å¸ƒåº”ç”¨æ—¶çš„ä¸€ç³»åˆ—æœ‰ç”¨çš„é»˜è®¤è®¾ç½®ï¼Œå®ƒä¸“æ³¨äºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æ›´å°çš„è¾“å‡ºåŒ…å°ºå¯¸</li><li>è¿è¡Œæ—¶é«˜æ•ˆçš„ä»£ç </li><li>å¿½ç•¥æ‰åªåœ¨å¼€å‘æ—¶å¯ç”¨ï¼ˆ<code>development-only</code>ï¼‰çš„ä»£ç </li><li>ä¸ä¼šæš´éœ²æºç æˆ–è€…æ–‡ä»¶è·¯å¾„</li><li>ç®€åŒ–ä½¿ç”¨æ‰“åŒ…åèµ„æºè¿‡ç¨‹</li></ul><p>æœ€åä¸€ç‚¹éå¸¸é‡è¦ã€‚å®ƒåŸºæœ¬æ„å‘³ç€ <code>production</code> ä¼šæä¾›ç»™ä½ ä¼˜åŒ–åçš„èµ„æºåŒ…ï¼Œä½†è¿™ä¸æ˜¯å®Œç¾çš„ä¼˜åŒ–æœ‰çš„èµ„æºåŒ…ã€‚è¿™é‡Œè¿˜å­˜åœ¨ç€å¾ˆå¤šå¯ä¼˜åŒ–ç‚¹ï¼Œä½†æ˜¯å®ƒä»¬ä¼šè®©ç»“æœæ›´éš¾ä½¿ç”¨ã€‚è¿™äº›ä¼˜åŒ–ç‚¹æ˜¯æœ‰æ„è¢«å¿½ç•¥çš„ï¼Œå› ä¸ºåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ›´çœ‹é‡å…¥é—¨çš„ä½“éªŒé«˜äºå®Œç¾çš„ä¼˜åŒ–ã€‚å¤§éƒ¨åˆ†ä¼˜åŒ–ç‚¹ä¹Ÿåªåœ¨å¤§å‹åº”ç”¨ä¸Šèµ·ä½œç”¨ã€‚</p><hr><p>éšç€è¿™ä¸ª <code>mode</code> é…ç½®çš„å¼•å…¥ï¼Œæˆ‘ä»¬å°è¯•å»å‡å°‘ build æ—¶å¿…è¦é…ç½®ã€‚æˆ‘ä»¬å°è¯•ç€å»ç”¨ä¸€äº›é»˜è®¤é¡¹å»è¦†ç›–é€šç”¨çš„é…ç½®ã€‚</p><p>ç„¶è€Œä»æˆ‘ä»¬çš„ç»éªŒæ¥çœ‹æˆ‘ä»¬ä¹ŸçŸ¥é“é»˜è®¤é…ç½®å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰äººã€‚ä¸åŒçš„å›¢é˜Ÿæœ‰ä¸åŒçš„éœ€æ±‚ï¼Œæœ‰æ—¶å€™ä¼šå› ä¸ºé—ç•™ä»£ç ã€æœ‰æ—¶å€™ä¼šå› ä¸ºä¸ªäººå–œå¥½ã€æœ‰æ—¶å€™ä¼šå› ä¸ºç‰¹æ®Šçš„åº”ç”¨æˆ–è€…æœ‰æ—¶å€™ä½¿ç”¨è€…ä¼šè®¤ä¸ºè¿™å¹¶ä¸æ˜¯æœ€å¥½é€šç”¨è§£å†³æ–¹æ¡ˆã€‚è®¸å¤šäººç¡®å®æƒ³è¦ä¿®æ”¹é»˜è®¤é…ç½®ä»¥é€‚åº”ä»–ä»¬è‡ªå·±çš„é¡¹ç›®ã€‚We got you covered. å¢åŠ  <code>mode</code> å¹¶ä¸æ„å‘³è¿™æˆ‘ä»¬ç§»é™¤æ‰äº†è¿™äº›é…ç½®ã€‚è¿™é‡Œé¢ä»ç„¶æ˜¯ä¸€åˆ‡çš†å¯é…ç½®ã€‚å®é™…ä¸Šæˆ‘ä»¬ä½¿å†…éƒ¨å¤§å¤šæ•°ä¼˜åŒ–éƒ½æ˜¯å¯é…ç½®çš„ï¼ˆä½ å¯ä»¥ç¦ç”¨æ‰ä»–ä»¬ï¼‰ã€‚</p><p><code>mode</code> é€‰é¡¹æ˜¯é€šè¿‡åœ¨é…ç½®ä¸­è®¾ç½®é»˜è®¤é¡¹å®ç°çš„ã€‚è¿™ä¸ªä¸ä¼šè¢«å…¶ä»–é…ç½®æ‰§è¡Œçš„ <code>mode</code> ä¹Ÿä¸ä¼šåšä»»ä½•è¡Œä¸ºã€‚</p><p>ä¸‹ä¸€éƒ¨åˆ†å°±ä¼šæ›´æ·±å…¥åœ°è®¨è®ºå› ä¸º<code>mode</code>æˆ–å…¶ä»–é€‰é¡¹è€Œå½±å“çš„é…ç½®ã€‚</p><hr><h3 id="devtool"><a href="#devtool" class="headerlink" title="devtool"></a>devtool</h3><p>åœ¨ <code>development</code> æ¨¡å¼ä¸‹é»˜è®¤æ˜¯ <code>eval</code>ã€‚å¦åˆ™ä¸ä½¿ç”¨ devtoolã€‚</p><p><code>eval</code> devtool æ²¡æœ‰æä¾›æœ€ä½³çš„è´¨é‡ï¼Œä½†æ˜¯æ‹¥æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚è¿™å°±æ˜¯æˆ‘ä»¬é€‰æ‹©çš„æŠ˜ä¸­æ–¹æ¡ˆã€‚çœ‹ä¸€çœ‹è¿™äº›é…ç½®çš„æ–‡æ¡£ï¼Œè¿™å¯ä»¥è·å–æ›´é«˜è´¨é‡çš„ sourcemapã€‚</p><ul><li>ğŸ“‰ğŸ“‰ğŸ“‰ç¼ºç‚¹ï¼šæ…¢ï¼Œbundle ä½“ç§¯å¤§</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šä¼˜åŒ– debug çš„ä½“éªŒ</li></ul><h3 id="cache"><a href="#cache" class="headerlink" title="cache"></a>cache</h3><p>åªåœ¨ <code>development</code> æ¨¡å¼ä¸‹å¯ç”¨ï¼Œå¦åˆ™ç¦ç”¨ç¼“å­˜ã€‚</p><p>ç¼“å­˜æ¨¡å—å¯ä»¥é¿å…åœ¨æ²¡æœ‰æ”¹å˜æ—¶é‡å»ºã€‚</p><p>åœ¨å†…å­˜ç¼“å­˜åªåœ¨ <code>watch</code> æ¨¡å¼ä¸‹æœ‰ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å‡è®¾ä½ åœ¨å¼€å‘æ—¶æ­£åœ¨ä½¿ç”¨ <code>watch</code> æ¨¡å¼ã€‚ä¸ç”¨ç¼“å­˜æ—¶ï¼Œå†…å­˜å ç”¨ç‡æ›´ä½ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šå†…å­˜å ç”¨</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å¿«çš„å¢é‡ç¼–è¯‘</li></ul><h3 id="module-unsafeCache"><a href="#module-unsafeCache" class="headerlink" title="module.unsafeCache"></a>module.unsafeCache</h3><p>åªåœ¨ <code>cache</code> å¯ç”¨æ—¶å¯ç”¨ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>ç¼“å­˜æœºæ¢°ä¾èµ–é¡¹å¯ä»¥é¿å…é‡æ–°è§£æå®ƒä»¬ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šå†…å­˜å ç”¨ï¼Œç¼“å­˜å…¥å£å¯èƒ½é”™è¯¯</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å¿«çš„å¢é‡ç¼–è¯‘</li></ul><h3 id="output-pathinfo"><a href="#output-pathinfo" class="headerlink" title="output.pathinfo"></a>output.pathinfo</h3><p>åªåœ¨ <code>development</code> æ¨¡å¼ä¸‹å¯ç”¨ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>è¿™äº›é¢å¤–çš„æ³¨é‡Šå¯¹äº debug å¾ˆæœ‰ä½œç”¨ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ <code>eval</code> devtoolã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šbundle ä½“ç§¯å¤§ï¼Œæš´éœ²è·¯å¾„ä¿¡æ¯</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šæå‡ç”Ÿæˆä»£ç çš„å¯é˜…è¯»æ€§</li></ul><h3 id="performance"><a href="#performance" class="headerlink" title="performance"></a>performance</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¯ç”¨ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>ä½“ç§¯é™åˆ¶åªå¯¹æœ€å°åŒ–èµ„æºèµ·ä½œç”¨ï¼ŒåŒæ—¶ä¼´éšç€æ€§èƒ½å¼€é”€ã€‚å› æ­¤å®ƒåªåœ¨ç”Ÿäº§æ¨¡å¼ä¸‹å¯ç”¨ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šå¯¹æ‰“åŒ… bundle ä½“ç§¯å¤§å°äº§å‡ºè­¦å‘Š</li></ul><h3 id="optimization-removeAvailableModules"><a href="#optimization-removeAvailableModules" class="headerlink" title="optimization.removeAvailableModules"></a>optimization.removeAvailableModules</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>å½“ä»–ä»¬åœ¨çˆ¶çº§ chunk groups ä¸­éƒ½å¯ç”¨æ—¶ï¼Œè¿™äº›æ¨¡å—ä¼šè¢«ç§»é™¤æ‰ã€‚å®ƒå¯ä»¥å‡å°‘èµ„æºåŒ…çš„ä½“ç§¯ã€‚å› ä¸ºæœ‰æ›´å°‘çš„ä»£ç ç”Ÿæˆï¼Œæ›´å°çš„èµ„æºåŒ…å°±æ„å‘³ç€æ›´å¿«çš„ build è¿‡ç¨‹ã€‚</p><ul><li>ğŸ“‰ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šbundle ä½“ç§¯ä¼˜åŒ–</li></ul><h3 id="optimization-removeEmptyChunks"><a href="#optimization-removeEmptyChunks" class="headerlink" title="optimization.removeEmptyChunks"></a>optimization.removeEmptyChunks</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>ç©º chunks ä¼šè¢«ç§»é™¤æ‰ã€‚è¿™äº›åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å‡å°‘ load ä¼šå¯¼è‡´æ›´å¿«çš„ buildã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å°‘çš„è¯·æ±‚</li></ul><h3 id="optimization-mergeDuplicateChunks"><a href="#optimization-mergeDuplicateChunks" class="headerlink" title="optimization.mergeDuplicateChunks"></a>optimization.mergeDuplicateChunks</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>ç›¸ç­‰çš„ chunks ä¼šè¢«åˆå¹¶ã€‚ç»“æœå°±æ˜¯æ›´å°‘çš„ç”Ÿæˆä»£ç ï¼Œæ›´å¿«çš„ buildã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å°‘çš„è¯·æ±‚å’Œä¸‹è½½</li></ul><h3 id="optimization-flagIncludedChunks"><a href="#optimization-flagIncludedChunks" class="headerlink" title="optimization.flagIncludedChunks"></a>optimization.flagIncludedChunks</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>ç¡®å®šä½œä¸ºå…¶ä»– chunks å­é›†çš„ chunksï¼Œå¹¶ä¸”è¿™æ ·æ–¹å¼å¯¹é½æ ‡è®°ï¼Œå³å½“åŠ è½½è¾ƒå¤§ chunks æ—¶ï¼Œä¸å¿…åŠ è½½å­é›†ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å°‘çš„è¯·æ±‚å’Œä¸‹è½½</li></ul><h3 id="optimization-occurrenceOrder"><a href="#optimization-occurrenceOrder" class="headerlink" title="optimization.occurrenceOrder"></a>optimization.occurrenceOrder</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>æä¾›æ›´å¸¸ç”¨çš„ ids æ›´å°ï¼ˆæ›´çŸ­ï¼‰çš„å€¼ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šbundle ä½“ç§¯ä¼˜åŒ–</li></ul><h3 id="optimization-providedExports"><a href="#optimization-providedExports" class="headerlink" title="optimization.providedExports"></a>optimization.providedExports</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>å°½å¯èƒ½åœ°ç¡®å®šæ¯ä¸€ä¸ª module çš„ exportsã€‚è¿™ä¸ªä¿¡æ¯è¢«ç”¨äºå…¶ä»–ä¼˜åŒ–æˆ–è€…ç”Ÿæˆä»£ç ã€‚ä¸ºäº†æ¶ˆé™¤æ­§ä¹‰ï¼šä¸º <code>export * from</code> ç”Ÿæˆæ›´æœ‰æ•ˆç‡çš„ä»£ç ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šbundle ä½“ç§¯ä¼˜åŒ–ï¼Œå…¶ä»–ä¼˜åŒ–éœ€æ±‚</li></ul><h3 id="optimization-usedExports"><a href="#optimization-usedExports" class="headerlink" title="optimization.usedExports"></a>optimization.usedExports</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>å°½å¯èƒ½åœ°ç¡®å®šæ¯ä¸€ä¸ª module çš„ exportsã€‚å®ƒä¾èµ–äº <code>optimization.providedExports</code>ã€‚è¿™ä¸ªä¿¡æ¯è¢«ç”¨äºå…¶ä»–ä¼˜åŒ–æˆ–è€…ç”Ÿæˆä»£ç ã€‚æ¶ˆé™¤æ­§ä¹‰ï¼šå¯¼å‡ºä¸ä¼šç”Ÿæˆæ— ç”¨çš„ exportsï¼Œ å½“æ‰€æœ‰çš„ç”¨é€”éƒ½è¢«å…¼å®¹çš„æ—¶å€™å¯¼å‡º names å°±æ˜¯é›¶ç¢çš„å•ç‹¬å­—ç¬¦å®šä¹‰ã€‚åœ¨æœ€å°åŒ–ä¸­ DCE ä¼šæœ‰ä¸€å¤„ï¼ŒåŒæ—¶ç§»é™¤æ‰æ— ç”¨çš„ exportsã€‚</p><ul><li>ğŸ“‰ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šbundle ä½“ç§¯ä¼˜åŒ–</li></ul><h3 id="optimization-sideEffects"><a href="#optimization-sideEffects" class="headerlink" title="optimization.sideEffects"></a>optimization.sideEffects</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>è®¤å¯åœ¨ <code>package.json</code> æˆ– <code>rules</code> ä¸­çš„ <code>sideEffects</code> æ ‡å¿—å»æ¶ˆé™¤ modulesã€‚ å®ƒä¾èµ– <code>optimization.providedExports</code>  å’Œ <code>optimization.usedExports</code>ã€‚è¿™äº›ä¾èµ–éƒ½æœ‰æ‰€å¼€é”€ï¼Œä½†æ˜¯æ¶ˆé™¤ä¾èµ–é€šè¿‡å‡å°‘ç”Ÿæˆä»£ç åœ¨æ€§èƒ½ä¸Šæœ‰ç§¯æçš„å½±å“ã€‚å®ƒä¹Ÿä¾èµ–äºä½ è‡ªå·±çš„ä»£ç ã€‚ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ï¼Œå»å°è¯•å§ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šbundle ä½“ç§¯ä¼˜åŒ–ï¼Œæ›´å°‘ç”Ÿæˆä»£ç </li></ul><h3 id="optimization-concatenateModules"><a href="#optimization-concatenateModules" class="headerlink" title="optimization.concatenateModules"></a>optimization.concatenateModules</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>å°è¯•æŸ¥æ‰¾æ¨¡å—å›¾ä¸­å¯ä»¥å®‰å…¨è¿æ¥åˆ°å•ä¸ªæ¨¡å—ä¸­çš„æ®µã€‚å®ƒä¾èµ–äº<code>optimization.providedExports</code> å’Œ <code>optimization.usedExports</code>ã€‚</p><ul><li>ğŸ“‰ğŸ“‰ğŸ“‰ç¼ºç‚¹ï¼šé¢å¤–çš„è¯­æ³•åˆ†æï¼Œä½œç”¨åŸŸåˆ†æå’Œå®šä¹‰é‡å‘½å</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šè¿è¡Œæ—¶æ€§èƒ½ã€bundle ä½“ç§¯ä¼˜åŒ–</li></ul><h3 id="optimization-splitChunks"><a href="#optimization-splitChunks" class="headerlink" title="optimization.splitChunks"></a>optimization.splitChunks</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>æŸ¥æ‰¾åœ¨ chunks ä¹‹é—´å“ªäº› module è¢«å…±äº«ï¼ŒåŒæ—¶å°†ä»–ä»¬æ‹†åˆ†åˆ°ç‹¬ç«‹çš„ chunks ä¸­ï¼Œç›®çš„æ˜¯å‡å°‘é‡å¤æˆ–è€…ä» application modules ä¸­åˆ†ç¦» vendor modulesã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šç®—æ³•æ¶ˆè€—ï¼Œé¢å¤–çš„è¯·æ±‚</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šæ›´å°‘ç”Ÿæˆä»£ç ï¼Œæ›´å¥½çš„ç¼“å­˜ï¼Œæ›´å°‘çš„ä¸‹è½½è¯·æ±‚</li></ul><h3 id="optimization-runtimeChunk"><a href="#optimization-runtimeChunk" class="headerlink" title="optimization.runtimeChunk"></a>optimization.runtimeChunk</h3><p>æ€»æ˜¯å¼€å¯ã€‚</p><p>ä¸º webpack è¿è¡Œæ—¶å’Œ chunk manifest åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ chunkã€‚è¿™ä¸ª chunk åº”è¯¥å†…è”åˆ° HTML ä¸­ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šæ›´å¤§çš„ HTML æ–‡ä»¶</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šæ›´å¥½çš„ç¼“å­˜</li></ul><h3 id="optimization-noEmitOnErrors"><a href="#optimization-noEmitOnErrors" class="headerlink" title="optimization.noEmitOnErrors"></a>optimization.noEmitOnErrors</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>å½“å‘ç”Ÿç¼–è¯‘é”™è¯¯çš„æ—¶å€™ä¸è¾“å‡ºèµ„æºåŒ…ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šæ— æ³•ä½¿ç”¨åº”ç”¨ç¨‹åºçš„èµ·ä½œç”¨çš„éƒ¨åˆ†</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šæ²¡æœ‰æŸåçš„ bundles</li></ul><h3 id="optimization-namedModules"><a href="#optimization-namedModules" class="headerlink" title="optimization.namedModules"></a>optimization.namedModules</h3><p>åªåœ¨ <code>development</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>å–ä»£æ•°å€¼å‹ IDï¼Œæä¾›ç»™ module æ›´æœ‰ç”¨çš„å‘½åã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šbundle ä½“ç§¯å¢åŠ </li><li>ğŸ“ˆä¼˜ç‚¹ï¼šæ›´å¥½çš„é”™è¯¯æŠ¥å‘Šå’Œ debug</li></ul><h3 id="optimization-nodeEnv"><a href="#optimization-nodeEnv" class="headerlink" title="optimization.nodeEnv"></a>optimization.nodeEnv</h3><p><code>mode</code> å€¼å¾—é»˜è®¤é¡¹ï¼š<code>development</code> æˆ–è€… <code>production</code>ã€‚</p><p>å®šä¹‰ <code>process.env.NODE_ENV</code> æˆä¸ºç¼–è¯‘æ—¶å¸¸é‡å€¼ã€‚è¿™å°±å…è®¸ç§»é™¤æ‰ development only çš„ä»£ç ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šå¼€å‘ç¯å¢ƒçš„ä»£ç ä¸ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ä¸åŒ</li><li>ğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šå‡å° bundle ä½“ç§¯ï¼Œæé«˜è¿è¡Œæ•ˆç‡</li></ul><h3 id="optimization-minimize"><a href="#optimization-minimize" class="headerlink" title="optimization.minimize"></a>optimization.minimize</h3><p>åªåœ¨ <code>production</code> æ¨¡å¼ä¸‹å¼€å¯ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>ä½¿ç”¨æœ€å°åŒ–å·¥å…·æ¥å‹ç¼©è¾“å‡ºçš„èµ„æºåŒ…ï¼Œæ¯”å¦‚ï¼ˆ<code>optimization.minimizer</code>é»˜è®¤ä½¿ç”¨çš„<code>uglify-js</code>ï¼‰ã€‚</p><ul><li>ğŸ“‰ğŸ“‰ğŸ“‰ç¼ºç‚¹ï¼šç¼–è¯‘é€Ÿåº¦é™ä½</li><li>ğŸ“ˆğŸ“ˆğŸ“ˆä¼˜ç‚¹ï¼šå‡å° bundle ä½“ç§¯</li></ul><h3 id="optimization-portableRecords"><a href="#optimization-portableRecords" class="headerlink" title="optimization.portableRecords"></a>optimization.portableRecords</h3><p>åœ¨æ–‡ä»¶å†…è®°å½•æ—¶å¯ç”¨ï¼Œå¦åˆ™ç¦ç”¨ã€‚</p><p>è®°å½•ä¸­ä½¿ç”¨çš„æ ‡è¯†ä¸ä¸Šä¸‹æ–‡ç›®å½•æœ‰å…³ã€‚</p><ul><li>ğŸ“‰ç¼ºç‚¹ï¼šå½±å“é€Ÿåº¦é™ä½</li><li>ğŸ“ˆä¼˜ç‚¹ï¼šè®°å½•ä¸ç›®å½•æ— å…³</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åŸæ–‡ &lt;a href=&quot;https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://medium.com/webpack/webpack-4-mode-and-optimization-5423a6bc597a&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€… &lt;a href=&quot;https://medium.com/@sokra&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Tobias Koppers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;webpack å¢åŠ äº†ä¸€ä¸ªæ¨¡å¼é…ç½®ï¼ˆmode optionï¼‰ã€‚ä¸‹é¢æ¥è§£é‡Šä¸€ä¸‹å…·ä½“å†…å®¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Webpack" scheme="https://beanlee.github.io/tags/Webpack/"/>
    
      <category term="æ„å»ºå·¥å…·" scheme="https://beanlee.github.io/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>ç§»åŠ¨ç«¯ HTTPS æŠ“åŒ…å·¥å…·é…ç½®è¯´æ˜</title>
    <link href="https://beanlee.github.io/2018/03/29/mobile-https-config/"/>
    <id>https://beanlee.github.io/2018/03/29/mobile-https-config/</id>
    <published>2018-03-29T10:53:55.000Z</published>
    <updated>2018-04-18T07:52:00.402Z</updated>
    
    <content type="html"><![CDATA[<p>æŠ•ç¨¿éƒ¨é—¨å…¬ä¼—å·ï¼Œåšäº†ä¸€äº›å¾®è°ƒï¼Œå¢åŠ äº† Android æœºå‹çš„ä¸€äº›è¯´æ˜ã€‚</p><p>2018-03-01 Beanlee</p><p>ç›¸ä¿¡å„ä½åœ¨ç§»åŠ¨ç«¯å¼€å‘è¿‡ç¨‹ä¸­ä¸€å®šé‡åˆ°æŠ“å–æ•°æ®åŒ…ã€æ‹¦æˆªè¯·æ±‚çš„åœºæ™¯ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»ç§»åŠ¨ç«¯åœ¨é’ˆå¯¹ HTTPS æŠ“åŒ…æ—¶çš„å‡ æ¬¾è½¯ä»¶çš„é…ç½®ï¼ˆåŒ…æ‹¬<a href="#Charles">Charles</a>ã€<a href="#Fiddler">Fiddler</a>ã€<a href="#Whistle">Whistle</a>ï¼‰ï¼Œä¸‹é¢ä¸¾ä¾‹å°†å·² iOS 11 ä¸ºä¾‹ï¼Œé™„å¸¦ Android æœºå‹é…ç½®æˆªå›¾ã€‚</p><a id="more"></a><h2 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a>Charles<b id="Charles"></b></h2><ul><li><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>æŒ‰ç…§ license æ”¶è´¹ï¼Œæ”¶è´¹åç»ˆèº«äº«å—å‡çº§ï¼Œä»…é™ OS X å¹³å°</li></ul><h3 id="HTTP-æŠ“åŒ…é…ç½®"><a href="#HTTP-æŠ“åŒ…é…ç½®" class="headerlink" title="HTTP æŠ“åŒ…é…ç½®"></a>HTTP æŠ“åŒ…é…ç½®</h3><h4 id="1-ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚"><a href="#1-ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚" class="headerlink" title="1.ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚"></a>1.ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚</h4><p>æŸ¥çœ‹æœ¬æœº IPï¼Œä½¿ç”¨ <code>ifconfig</code> å‘½ä»¤æŸ¥çœ‹æœ¬æœº IPï¼›æˆ–è€…æ‰“å¼€ç³»ç»Ÿè®¾ç½®æŸ¥çœ‹ IP å¦‚æˆªå›¾ï¼›</p><p>ä¾‹å¦‚ï¼šå½“å‰æœ¬æœº IP <code>192.168.191.4</code></p><p><img src="https://img20.360buyimg.com/uba/jfs/t16375/210/2520307643/222582/31ac0971/5ab0a175N3cbadb49.png.webp" alt="ifconfig"></p><p><img src="https://img10.360buyimg.com/uba/jfs/t17530/312/915989884/252348/b1b61faa/5ab0a1e7N47455815.png.webp" alt="wifi-config"></p><h4 id="2-è®¾ç½®æ‰‹æœº-iOS-ç½‘ç»œä»£ç†"><a href="#2-è®¾ç½®æ‰‹æœº-iOS-ç½‘ç»œä»£ç†" class="headerlink" title="2.è®¾ç½®æ‰‹æœº iOS ç½‘ç»œä»£ç†"></a>2.è®¾ç½®æ‰‹æœº iOS ç½‘ç»œä»£ç†</h4><p><code>è®¾ç½®</code> -&gt; <code>æ— çº¿å±€åŸŸç½‘</code> -&gt; <code>HTTP ä»£ç†</code> -&gt; <code>æ‰‹åŠ¨</code></p><p>æœåŠ¡å™¨ï¼š<code>192.168.191.4</code> ç«¯å£ï¼š<code>8888</code></p><p><img src="https://img30.360buyimg.com/uba/jfs/t19171/267/1165626521/82168/a242486c/5abdf072Nd89a456f.png.webp" alt="ios&amp;andoird-proxy-conf"></p><h4 id="3-é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª-App-æˆ–ç½‘é¡µï¼Œç”µè„‘ç«¯-Charles-ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡»-Allow"><a href="#3-é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª-App-æˆ–ç½‘é¡µï¼Œç”µè„‘ç«¯-Charles-ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡»-Allow" class="headerlink" title="3.é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª App æˆ–ç½‘é¡µï¼Œç”µè„‘ç«¯ Charles ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡» Allow"></a>3.é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª App æˆ–ç½‘é¡µï¼Œç”µè„‘ç«¯ Charles ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡» Allow</h4><p>æ­¤æ—¶å¯ä»¥åœ¨åº”ç”¨çš„ç•Œé¢ä¸­çœ‹åˆ° HTTP çš„è¯·æ±‚æ•°æ®äº†ã€‚</p><p>æ¥ä¸‹æ¥ç»§ç»­ HTTPS çš„é…ç½®ã€‚</p><h3 id="HTTPS-æŠ“åŒ…é…ç½®"><a href="#HTTPS-æŠ“åŒ…é…ç½®" class="headerlink" title="HTTPS æŠ“åŒ…é…ç½®"></a>HTTPS æŠ“åŒ…é…ç½®</h3><h4 id="1-ä¿¡ä»»è¯ä¹¦-æœ¬æœº"><a href="#1-ä¿¡ä»»è¯ä¹¦-æœ¬æœº" class="headerlink" title="1.ä¿¡ä»»è¯ä¹¦ æœ¬æœº"></a>1.ä¿¡ä»»è¯ä¹¦ æœ¬æœº</h4><p>æ‰“å¼€ Charles åå¦‚ä¸‹å›¾æ“ä½œï¼Œç”µè„‘ç«¯ä¿¡ä»»è¯ä¹¦ï¼Œ<strong>æ³¨æ„</strong> æ­¤å¤„é€‰æ‹©<code>system</code></p><p><img src="https://img13.360buyimg.com/uba/jfs/t16189/305/2463904253/229838/13248112/5ab0a246N431365b3.png.webp" alt="charles-install-root-cer"></p><p><img src="https://img30.360buyimg.com/uba/jfs/t15991/176/2548641977/433484/2e35454f/5ab0a26cN86d8f8c1.png.webp" alt="charles-install-root-cer-system"></p><h4 id="2-ä¿¡ä»»è¯ä¹¦-æ‰‹æœº"><a href="#2-ä¿¡ä»»è¯ä¹¦-æ‰‹æœº" class="headerlink" title="2.ä¿¡ä»»è¯ä¹¦ æ‰‹æœº"></a>2.ä¿¡ä»»è¯ä¹¦ æ‰‹æœº</h4><p>æ‰“å¼€ <code>Safari</code> åœ°å€è¾“å…¥ <code>192.168.191.4:8888</code> æˆ– <code>chls.pro/ssl</code> ç‚¹å‡»å®‰è£…ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºè¦æ±‚éœ€è¦è¾“å…¥æ‰‹æœºå¯†ç ï¼Œå®Œæˆåè¯ä¹¦å®‰è£…æˆåŠŸã€‚</p><p>æ­¤æ—¶æŸ¥çœ‹ <code>é€šç”¨</code> -&gt; <code>æè¿°æ–‡ä»¶</code> ä¸­ charles proxy ca å·²å˜æˆ<code>å·²éªŒè¯</code>ã€‚</p><p><strong>æ³¨æ„</strong> è‡ª iOS 10.3 ä»¥ä¸Šï¼Œè¿˜éœ€è¦å¤šä¸€æ­¥æ“ä½œï¼Œæ‰‹åŠ¨ä¿¡ä»»è‡ªå®šä¹‰æ ¹è¯ä¹¦ï¼Œæ‰èƒ½ç¡®ä¿è¯ä¹¦å®‰è£…å¹¶å·²å¯ç”¨ï¼›</p><p><code>å…³äºæœ¬æœº</code> -&gt; <code>è¯ä¹¦ä¿¡ä»»è®¾ç½®</code> å¯ç”¨ charles proxy ca æˆªå›¾è¯¦è§æ–‡ç« åº•éƒ¨<a href="#tips">é”¦å›Š</a></p><p><strong>æ³¨æ„</strong> Android æ‰‹æœºä¸éœ€è¦å®‰è£… Charles è¯ä¹¦ <a href="https://www.charlesproxy.com/documentation/using-charles/ssl-certificates/" target="_blank" rel="noopener">ssl-certificates</a></p><p>ä¸‹é¢æˆªå›¾ä¸­æ˜¯ Android ä»…å®‰è£…äº† Fiddler å’Œ Whistle çš„è¯ä¹¦æˆªå›¾ã€‚</p><p><img src="https://img30.360buyimg.com/uba/jfs/t18598/270/1201930732/57036/69b112d/5abdf133N1ef09cfe.png.webp" alt="android-cert"></p><h4 id="3-Charles-è®¾ç½®å¯ç”¨-SSL-Proxy"><a href="#3-Charles-è®¾ç½®å¯ç”¨-SSL-Proxy" class="headerlink" title="3. Charles è®¾ç½®å¯ç”¨ SSL Proxy"></a>3. Charles è®¾ç½®å¯ç”¨ SSL Proxy</h4><p><code>Proxy</code>-&gt;<code>SSL Proxy setting</code> Enabled SSL Proxying</p><p>åŒæ—¶æ·»åŠ å¸Œæœ›æ‹¦æˆªåˆ°çš„åŸŸåï¼Œä¾‹å¦‚ï¼š<code>*.jd.com</code> ç«¯å£ <code>443</code></p><p><img src="https://img14.360buyimg.com/uba/jfs/t17281/140/906435195/142935/49f55aa9/5ab0a4d4Nacbc29d6.png.webp" alt="charles-ssl-config01"></p><p><img src="https://img10.360buyimg.com/uba/jfs/t19591/182/853494454/73346/71990549/5ab0a4acN9ee93450.png.webp" alt="charles-ssl-config02"></p><p><strong>é…ç½®å®Œæˆ</strong> : )</p><h2 id="Fiddler"><a href="#Fiddler" class="headerlink" title="Fiddler"></a>Fiddler<b id="Fiddler"></b></h2><ul><li><a href="https://www.telerik.com/fiddler" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>å¾®è½¯å‡ºå“ï¼Œå…è´¹ï¼Œç”±äºéœ€è¦ .Net åº“ä»… Windows å¹³å°ï¼ˆä¹Ÿæœ‰ä¸€äº› Fiddler For mac / linux ä½†ä»…é™ beta ç‰ˆä¸”åŠŸèƒ½ä¸å®Œå–„ï¼Œè¿™é‡Œåªæ¨èåœ¨ Win å¹³å°ä½¿ç”¨ï¼‰</li></ul><h3 id="HTTP-æŠ“åŒ…"><a href="#HTTP-æŠ“åŒ…" class="headerlink" title="HTTP æŠ“åŒ…"></a>HTTP æŠ“åŒ…</h3><p>é…ç½®ä¸ <code>Charles</code> é…ç½®ç›¸åŒç«¯å£ç•¥æœ‰ä¸åŒï¼Œæ­¤å¤„ä¸å†é‡å¤ã€‚</p><p>æ€»ç»“å‡ å¤§æ­¥éª¤ï¼š</p><ol><li>ç§»åŠ¨ç«¯å’Œç”µè„‘åŒå¤„åŒä¸€å±€åŸŸç½‘å†…</li><li>æ‰‹æœºæˆ–ç§»åŠ¨è®¾å¤‡è®¾ç½®ç½‘ç»œä»£ç†å¯¹åº”ç”µè„‘ç«¯ IP å’Œ ç«¯å£</li></ol><p><img src="https://img14.360buyimg.com/uba/jfs/t14656/65/2745558691/37041/b26d6171/5ab0add4N3bd559a6.png.webp" alt="fiddler01"></p><h3 id="HTTPS-æŠ“åŒ…é…ç½®-1"><a href="#HTTPS-æŠ“åŒ…é…ç½®-1" class="headerlink" title="HTTPS æŠ“åŒ…é…ç½®"></a>HTTPS æŠ“åŒ…é…ç½®</h3><ul><li>å‹¾é€‰æ‹¦æˆª HTTPS è¯·æ±‚</li><li>å®‰è£…è¯ä¹¦ï¼ˆç”µè„‘ç«¯ &amp; æ‰‹æœºç«¯ï¼‰</li></ul><p><img src="https://img14.360buyimg.com/uba/jfs/t17401/70/901071906/48039/62c96f01/5ab0add7N4816f088.png.webp" alt="fiddler02"></p><h2 id="Whistle"><a href="#Whistle" class="headerlink" title="Whistle"></a>Whistle<b id="Whistle"></b></h2><ul><li><a href="https://avwo.github.io/whistle/" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>å›½äººå¼€å‘ï¼Œå¼€æº MIT åè®®ï¼ŒåŸºäº NodeJS è·¨å¹³å°</li><li><strong>æ¨è</strong> åŠŸèƒ½å¼ºå¤§ï¼Œéƒ¨é—¨å†…ä¹Ÿæœ‰å°ä¼™ä¼´åˆ†äº«è¿‡ä¸€æ¬¡ä½¿ç”¨ç»éªŒ</li></ul><h3 id="å·¥å…·å‡†å¤‡"><a href="#å·¥å…·å‡†å¤‡" class="headerlink" title="å·¥å…·å‡†å¤‡"></a>å·¥å…·å‡†å¤‡</h3><ul><li><code>nodejs v0.10.0+</code></li><li><code>npm i -g whistle</code></li><li><code>w2 start</code></li></ul><p>å®Œæˆä¸Šé¢å‡ æ­¥æ“ä½œåï¼Œæ­¤æ—¶ <code>8899</code> ç«¯å£å·²ç»å¸¸é©»åå°ã€‚</p><h3 id="ç•Œé¢"><a href="#ç•Œé¢" class="headerlink" title="ç•Œé¢"></a>ç•Œé¢</h3><p><img src="https://img14.360buyimg.com/uba/jfs/t17362/179/900501459/1903822/f445defb/5ab0bcecNf4b0f762.png.webp" alt="whistle"></p><h3 id="Chrome-æ’ä»¶"><a href="#Chrome-æ’ä»¶" class="headerlink" title="Chrome æ’ä»¶"></a>Chrome æ’ä»¶</h3><p>whistle æä¾›äº†ä¸€ä¸ªåŸºäº Chrome çš„æ’ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åˆ‡æ¢ä»£ç†ï¼ŒæŸ¥çœ‹ç½‘ç»œï¼Œç¼–è¾‘è§„åˆ™ç­‰ï¼Œä¸è¿‡å¾ˆé—æ†¾ä½œè€…å·²ç»å°†æ’ä»¶åœ¨ Web Store ä¸‹æ¶ï¼Œç°åœ¨æœç´¢ä¸åˆ°ï¼Œæˆ‘æŠŠæœ¬åœ° 0.10.0 ç‰ˆæœ¬æ‰“åŒ…æˆ crx ä¸Šä¼ åœ¨ Google Driver å¯ä»¥è®¿é—® <a href="https://drive.google.com/open?id=18RCuXBb_ml6OqLw-3PTSevcpJ81h-F27" target="_blank" rel="noopener">ä¸‹è½½</a></p><p>æˆ–è€…æ”¹ç”¨å¦å¤–ä¸€ä¸ªå¼ºå¤§çš„æ’ä»¶ <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">Proxy SwitchyOmega</a> è¯¥æ’ä»¶ä¹Ÿæ‹¥æœ‰å¼ºå¤§çš„ä»£ç†åŠŸèƒ½ï¼ŒåŒæ—¶æ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼Œå¯ä»¥è‡ªåŠ¨æ ¹æ®åŸŸåæˆ–ç«¯å£ç­‰è‡ªåŠ¨é€‰æ‹©æ˜¯å¦å¯ç”¨ä»£ç†ï¼Œä»¥åæœ‰æœºä¼šå¯ä»¥åˆ†äº«ä½¿ç”¨ Proxy SwitchOmega çš„ä½¿ç”¨ç»éªŒã€‚</p><h3 id="HTTPS-æ‹¦æˆªé…ç½®"><a href="#HTTPS-æ‹¦æˆªé…ç½®" class="headerlink" title="HTTPS æ‹¦æˆªé…ç½®"></a>HTTPS æ‹¦æˆªé…ç½®</h3><p><a href="https://avwo.github.io/whistle/webui/https.html" target="_blank" rel="noopener">whistle æ–‡æ¡£ https è®¾ç½®éƒ¨åˆ†</a></p><h2 id="HTTPS-æŠ“åŒ…é”¦å›Š"><a href="#HTTPS-æŠ“åŒ…é”¦å›Š" class="headerlink" title="HTTPS æŠ“åŒ…é”¦å›Š"></a>HTTPS æŠ“åŒ…é”¦å›Š<b id="tips"></b></h2><p><strong>æ³¨æ„</strong> è‡ª iOS 10.3 ä»¥åï¼Œæ— è®ºä½¿ç”¨ä¸Šé¢å“ªä¸€ç§å·¥å…·æŠ“åŒ…ï¼Œå®‰è£…å®Œ ca è¯ä¹¦ä»¥åï¼Œè¿˜éœ€è¦<strong>å¤šä¸€æ­¥æ“ä½œ</strong>ï¼Œæ‰èƒ½ç¡®ä¿è¯ä¹¦å®‰è£…å¹¶å·²å¯ç”¨ï¼›</p><p><code>é€šç”¨</code> -&gt; <code>å…³äºæœ¬æœº</code> -&gt; <code>è¯ä¹¦ä¿¡ä»»è®¾ç½®</code> -&gt; å¯ç”¨ç›¸å¯¹åº”çš„è¯ä¹¦ï¼Œå°±å¯ä»¥çœ‹åˆ°å·¥å…·ä¸­æŠ“å–åˆ°ç›¸åº”çš„ HTTPS è¯·æ±‚ã€‚</p><p><img src="https://img30.360buyimg.com/uba/jfs/t18550/32/1136654112/137090/91a83930/5abdf196N9bc228ff.png.webp" alt="ios-cer"></p><p>è¿™ä¸€ç‚¹è·Ÿè‹¹æœçš„ <strong>one more thing</strong> è²Œä¼¼æœ‰é‚£ä¹ˆä¸€ç‚¹ä¸è°‹è€Œåˆã€‚</p><p><strong>æ³¨æ„</strong> Android éƒ¨åˆ†æ‰‹æœºï¼ˆå¦‚å°ç±³ã€åä¸ºï¼‰æ— æ³•å®‰è£…è¯ä¹¦æ—¶å€™ï¼Œä¸å¦¨è¯•è¯•åœ¨ç”µè„‘ç«¯å°†è¯ä¹¦å¯¼å‡ºï¼Œæ‰“å¼€æ‰‹æœº FTP æˆ–è€…åˆ©ç”¨æ•°æ®çº¿ä¼ è¾“åˆ°æ‰‹æœºæŸä¸ªæ–‡ä»¶å¤¹ï¼Œç‚¹å¼€ WLAN é…ç½® -&gt; é«˜çº§è®¾ç½® -&gt; å®‰è£…è¯ä¹¦ é€‰æ‹©å¯¹åº”çš„è¯ä¹¦å®‰è£…å³å¯ã€‚äº¦æˆ–æ˜¯å› ä¸ºæƒé™é—®é¢˜æ— æ³•å®‰è£…ï¼Œæ‰“å¼€å®‰å…¨éšç§ï¼Œé€‰æ‹©ä¿¡ä»» <code>æœªçŸ¥æ¥æº</code>ã€‚</p><p>æ­¤åŠæ³•å¯¹äºå®‰è£…æµ‹è¯•ç‰ˆ APP ä¹Ÿç®¡ç”¨ :)</p><p>have fun :D</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŠ•ç¨¿éƒ¨é—¨å…¬ä¼—å·ï¼Œåšäº†ä¸€äº›å¾®è°ƒï¼Œå¢åŠ äº† Android æœºå‹çš„ä¸€äº›è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;2018-03-01 Beanlee&lt;/p&gt;
&lt;p&gt;ç›¸ä¿¡å„ä½åœ¨ç§»åŠ¨ç«¯å¼€å‘è¿‡ç¨‹ä¸­ä¸€å®šé‡åˆ°æŠ“å–æ•°æ®åŒ…ã€æ‹¦æˆªè¯·æ±‚çš„åœºæ™¯ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»ç§»åŠ¨ç«¯åœ¨é’ˆå¯¹ HTTPS æŠ“åŒ…æ—¶çš„å‡ æ¬¾è½¯ä»¶çš„é…ç½®ï¼ˆåŒ…æ‹¬&lt;a href=&quot;#Charles&quot;&gt;Charles&lt;/a&gt;ã€&lt;a href=&quot;#Fiddler&quot;&gt;Fiddler&lt;/a&gt;ã€&lt;a href=&quot;#Whistle&quot;&gt;Whistle&lt;/a&gt;ï¼‰ï¼Œä¸‹é¢ä¸¾ä¾‹å°†å·² iOS 11 ä¸ºä¾‹ï¼Œé™„å¸¦ Android æœºå‹é…ç½®æˆªå›¾ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç§»åŠ¨å¼€å‘" scheme="https://beanlee.github.io/tags/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>iOS HTTPS æŠ“åŒ…å·¥å…·é…ç½®è¯´æ˜</title>
    <link href="https://beanlee.github.io/2018/03/01/iOS-https/"/>
    <id>https://beanlee.github.io/2018/03/01/iOS-https/</id>
    <published>2018-03-01T10:53:55.000Z</published>
    <updated>2018-03-20T08:17:39.192Z</updated>
    
    <content type="html"><![CDATA[<p>ç›¸ä¿¡å„ä½åœ¨ç§»åŠ¨ç«¯å¼€å‘è¿‡ç¨‹ä¸­ä¸€å®šé‡åˆ°æŠ“å–è¯·æ±‚çš„åœºæ™¯ï¼Œæœ¬æ–‡ä¸»è¦æ˜¾ç¤º iOS 11 åœ¨ <a href="#Charles">Charles</a>ã€<a href="#Fiddler">Fiddler</a>ã€<a href="#Whistle">Whistle</a> ä¸‹HTTPSæŠ“åŒ…é…ç½®ï¼Œæ¬¢è¿ç•™è¨€åŒºè¡¥å……å…¶ä»–å·¥å…·ã€‚PS.ç•™è¨€ä½¿ç”¨ Disqus æ’ä»¶éœ€è¦<code>ç§‘å­¦ä¸Šç½‘</code>ã€‚</p><p>å·²ç»ç†Ÿæ‚‰ä»¥ä¸Šä¸‰ä¸ªå·¥å…·åŸºç¡€é…ç½®ï¼Œä»…ä»…éœ€è¦è§£å†³æŠ“åŒ… iOS ä¸‹ HTTPS é—®é¢˜çš„åŒå­¦å¯ä»¥ç›´æ¥æ‰“å¼€<a href="/2018/03/01/2018-03-01-iOS-https/#tips">é”¦å›Š</a></p><a id="more"></a><h2 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a>Charles<b id="Charles"></b></h2><ul><li><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>æŒ‰ç…§ license æ”¶è´¹ï¼Œæ”¶è´¹åç»ˆèº«äº«å—å‡çº§ï¼Œä»…é™ OS X å¹³å°</li></ul><h3 id="HTTP-æŠ“åŒ…"><a href="#HTTP-æŠ“åŒ…" class="headerlink" title="HTTP æŠ“åŒ…"></a>HTTP æŠ“åŒ…</h3><h4 id="1-ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚"><a href="#1-ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚" class="headerlink" title="1.ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚"></a>1.ç¡®ä¿æ‰‹æœºä¸ä¸»æœºå¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚</h4><p>æŸ¥çœ‹æœ¬æœº IPï¼Œä½¿ç”¨ <code>ifconfig</code> å‘½ä»¤æŸ¥çœ‹æœ¬æœº IPï¼›æˆ–è€…æ‰“å¼€ç³»ç»Ÿè®¾ç½®æŸ¥çœ‹ IP å¦‚æˆªå›¾ï¼›</p><p>å½“å‰æœ¬æœº IP 192.168.191.4</p><p><img src="https://img20.360buyimg.com/uba/jfs/t16375/210/2520307643/222582/31ac0971/5ab0a175N3cbadb49.png.webp" alt="ifconfig"></p><p><img src="https://img10.360buyimg.com/uba/jfs/t17530/312/915989884/252348/b1b61faa/5ab0a1e7N47455815.png.webp" alt="wifi-config"></p><h4 id="2-è®¾ç½®æ‰‹æœº-iOS-ç½‘ç»œä»£ç†"><a href="#2-è®¾ç½®æ‰‹æœº-iOS-ç½‘ç»œä»£ç†" class="headerlink" title="2.è®¾ç½®æ‰‹æœº iOS ç½‘ç»œä»£ç†"></a>2.è®¾ç½®æ‰‹æœº iOS ç½‘ç»œä»£ç†</h4><p><code>è®¾ç½®</code> -&gt; <code>æ— çº¿å±€åŸŸç½‘</code> -&gt; <code>HTTP ä»£ç†</code> -&gt; <code>æ‰‹åŠ¨</code></p><p>æœåŠ¡å™¨ï¼š<code>192.168.191.4</code> ç«¯å£ï¼š<code>8888</code></p><h4 id="3-é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª-App-æˆ–ç½‘é¡µï¼Œæœ¬æœº-charles-ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡»-Allow"><a href="#3-é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª-App-æˆ–ç½‘é¡µï¼Œæœ¬æœº-charles-ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡»-Allow" class="headerlink" title="3.é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª App æˆ–ç½‘é¡µï¼Œæœ¬æœº charles ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡» Allow"></a>3.é…ç½®å®Œæˆåï¼Œåœ¨æ‰‹æœºç«¯è®¿é—®ä»»ä½•ä¸€ä¸ª App æˆ–ç½‘é¡µï¼Œæœ¬æœº charles ä¼šå¼¹å‡ºæç¤ºï¼Œç‚¹å‡» Allow</h4><p>æ­¤æ—¶å·²ç»å¯ä»¥æŠ“å– HTTP æ•°æ®äº†</p><h3 id="HTTPS-æŠ“åŒ…"><a href="#HTTPS-æŠ“åŒ…" class="headerlink" title="HTTPS æŠ“åŒ…"></a>HTTPS æŠ“åŒ…</h3><h4 id="1-ä¿¡ä»»è¯ä¹¦-æœ¬æœº"><a href="#1-ä¿¡ä»»è¯ä¹¦-æœ¬æœº" class="headerlink" title="1.ä¿¡ä»»è¯ä¹¦ æœ¬æœº"></a>1.ä¿¡ä»»è¯ä¹¦ æœ¬æœº</h4><p>æ‰“å¼€ charles åå¦‚ä¸‹å›¾æ“ä½œï¼Œæœ¬æœºä¿¡ä»» charles è¯ä¹¦ï¼Œ<strong>æ³¨æ„</strong> æ­¤å¤„é€‰æ‹©<code>system</code></p><p><img src="https://img13.360buyimg.com/uba/jfs/t16189/305/2463904253/229838/13248112/5ab0a246N431365b3.png.webp" alt="charles-install-root-cer"></p><p><img src="https://img30.360buyimg.com/uba/jfs/t15991/176/2548641977/433484/2e35454f/5ab0a26cN86d8f8c1.png.webp" alt="charles-install-root-cer-system"></p><h4 id="2-ä¿¡ä»»è¯ä¹¦-æ‰‹æœº"><a href="#2-ä¿¡ä»»è¯ä¹¦-æ‰‹æœº" class="headerlink" title="2.ä¿¡ä»»è¯ä¹¦ æ‰‹æœº"></a>2.ä¿¡ä»»è¯ä¹¦ æ‰‹æœº</h4><p>æ‰“å¼€ <code>safari</code> åœ°å€è¾“å…¥<code>192.168.191.4:8888</code>æˆ–<code>chls.pro/ssl</code>ç‚¹å‡»å®‰è£…ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºè¦æ±‚éœ€è¦è¾“å…¥æ‰‹æœºå¯†ç ï¼Œå®Œæˆåè¯ä¹¦å®‰è£…æˆåŠŸã€‚</p><p>æ­¤æ—¶æŸ¥çœ‹<code>é€šç”¨</code>-&gt;<code>æè¿°æ–‡ä»¶</code>ä¸­ charles proxy ca å·²å˜æˆ<code>å·²éªŒè¯</code>ã€‚</p><p><strong>æ³¨æ„</strong> è‡ª iOS 10.3 ä»¥ä¸Šï¼Œè¿˜éœ€è¦å¤šä¸€æ­¥æ“ä½œï¼Œæ‰‹åŠ¨ä¿¡ä»»è‡ªå®šä¹‰æ ¹è¯ä¹¦ï¼Œæ‰èƒ½ç¡®ä¿è¯ä¹¦å®‰è£…å¹¶å·²å¯ç”¨ï¼›å¦‚å›¾æ‰€ç¤ºï¼›</p><p><code>å…³äºæœ¬æœº</code>-&gt;<code>è¯ä¹¦ä¿¡ä»»è®¾ç½®</code>å¯ç”¨ charles proxy ca æˆªå›¾è¯¦è§<a href="/2018/03/01/2018-03-01-iOS-https/#tips">é”¦å›Š</a></p><h4 id="3-Charles-è®¾ç½®å¯ç”¨-SSL-Proxy"><a href="#3-Charles-è®¾ç½®å¯ç”¨-SSL-Proxy" class="headerlink" title="3. Charles è®¾ç½®å¯ç”¨ SSL Proxy"></a>3. Charles è®¾ç½®å¯ç”¨ SSL Proxy</h4><p><code>Proxy</code>-&gt;<code>SSL Proxy setting</code> Enabled SSL Proxying</p><p>åŒæ—¶å¢åŠ å¸Œæœ›æŠ“å–çš„åŸŸåï¼Œä¾‹å¦‚ï¼š<code>*.jd.com</code>ç«¯å£ <code>443</code></p><p><img src="https://img14.360buyimg.com/uba/jfs/t17281/140/906435195/142935/49f55aa9/5ab0a4d4Nacbc29d6.png.webp" alt="charles-ssl-config01"></p><p><img src="https://img10.360buyimg.com/uba/jfs/t19591/182/853494454/73346/71990549/5ab0a4acN9ee93450.png.webp" alt="charles-ssl-config02"></p><p><strong>é…ç½®å®Œæˆ</strong> : )</p><h2 id="Fiddler"><a href="#Fiddler" class="headerlink" title="Fiddler"></a>Fiddler<b id="Fiddler"></b></h2><ul><li><a href="https://www.telerik.com/fiddler" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>å¾®è½¯å‡ºå“ï¼Œå…è´¹ï¼Œç”±äºéœ€è¦ .Net åº“ä»… Windows å¹³å°</li></ul><h3 id="HTTP-æŠ“åŒ…-1"><a href="#HTTP-æŠ“åŒ…-1" class="headerlink" title="HTTP æŠ“åŒ…"></a>HTTP æŠ“åŒ…</h3><p>é…ç½®ä¸ <code>Charles</code> é…ç½®ç›¸åŒç«¯å£ç•¥æœ‰ä¸åŒï¼Œæ­¤å¤„ä¸å†é‡å¤</p><p><img src="https://img14.360buyimg.com/uba/jfs/t14656/65/2745558691/37041/b26d6171/5ab0add4N3bd559a6.png.webp" alt="fiddler01"></p><h3 id="HTTPS-æŠ“åŒ…é…ç½®"><a href="#HTTPS-æŠ“åŒ…é…ç½®" class="headerlink" title="HTTPS æŠ“åŒ…é…ç½®"></a>HTTPS æŠ“åŒ…é…ç½®</h3><ul><li>å‹¾é€‰æ‹¦æˆª HTTPS è¯·æ±‚</li><li>å®‰è£…è¯ä¹¦ï¼ˆç”µè„‘ç«¯ &amp; æ‰‹æœºç«¯ï¼‰</li></ul><p><img src="https://img14.360buyimg.com/uba/jfs/t17401/70/901071906/48039/62c96f01/5ab0add7N4816f088.png.webp" alt="fiddler02"></p><h2 id="Whistle"><a href="#Whistle" class="headerlink" title="Whistle"></a>Whistle<b id="Whistle"></b></h2><ul><li><a href="https://avwo.github.io/whistle/" target="_blank" rel="noopener">å®˜ç½‘</a></li><li>å›½äººå¼€å‘ï¼Œå¼€æº MIT åè®®ï¼ŒåŸºäº NodeJS è·¨å¹³å°</li><li><strong>æ¨è</strong></li></ul><h3 id="å·¥å…·å‡†å¤‡"><a href="#å·¥å…·å‡†å¤‡" class="headerlink" title="å·¥å…·å‡†å¤‡"></a>å·¥å…·å‡†å¤‡</h3><ul><li><code>nodejs v0.10.0+</code></li><li><code>npm i -g whistle</code></li><li><code>w2 start</code></li></ul><p>å®Œæˆä¸Šé¢å‡ æ­¥æ“ä½œåï¼Œæ­¤æ—¶<code>8899</code>ç«¯å£å·²ç»å¸¸é©»åå°ã€‚</p><h3 id="ç•Œé¢"><a href="#ç•Œé¢" class="headerlink" title="ç•Œé¢"></a>ç•Œé¢</h3><p><img src="https://img14.360buyimg.com/uba/jfs/t17362/179/900501459/1903822/f445defb/5ab0bcecNf4b0f762.png.webp" alt="whistle"></p><h3 id="Chrome-æ’ä»¶"><a href="#Chrome-æ’ä»¶" class="headerlink" title="Chrome æ’ä»¶"></a>Chrome æ’ä»¶</h3><p>whistle æä¾›äº†ä¸€ä¸ªåŸºäº Chrome çš„æ’ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åˆ‡æ¢ä»£ç†ï¼ŒæŸ¥çœ‹ç½‘ç»œï¼Œç¼–è¾‘è§„åˆ™ç­‰ï¼Œä¸è¿‡å¾ˆé—æ†¾ä½œè€…å·²ç»å°†æ’ä»¶åœ¨ Web Store ä¸‹æ¶ï¼Œç°åœ¨æœç´¢ä¸åˆ°ï¼Œæˆ‘æŠŠæœ¬åœ° 0.10.0 ç‰ˆæœ¬æ‰“åŒ…æˆ crx ä¸Šä¼ åœ¨ Google Driver å¯ä»¥è®¿é—® <a href="https://drive.google.com/open?id=18RCuXBb_ml6OqLw-3PTSevcpJ81h-F27" target="_blank" rel="noopener">ä¸‹è½½</a></p><p>æˆ–è€…æ”¹ç”¨å¦å¤–ä¸€ä¸ªå¼ºå¤§çš„æ’ä»¶ <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">Proxy SwitchyOmega</a></p><h3 id="HTTPS-æ‹¦æˆªé…ç½®"><a href="#HTTPS-æ‹¦æˆªé…ç½®" class="headerlink" title="HTTPS æ‹¦æˆªé…ç½®"></a>HTTPS æ‹¦æˆªé…ç½®</h3><p><a href="https://avwo.github.io/whistle/webui/https.html" target="_blank" rel="noopener">whistle æ–‡æ¡£ https è®¾ç½®éƒ¨åˆ†</a></p><h2 id="iOS-11-HTTPS-æŠ“åŒ…é”¦å›Š"><a href="#iOS-11-HTTPS-æŠ“åŒ…é”¦å›Š" class="headerlink" title="iOS 11 HTTPS æŠ“åŒ…é”¦å›Š"></a>iOS 11 HTTPS æŠ“åŒ…é”¦å›Š<b id="tips"></b></h2><p><strong>æ³¨æ„</strong> è‡ª iOS 10.3 ä»¥åï¼Œæ— è®ºä½¿ç”¨ä¸Šé¢å“ªä¸€ç§å·¥å…·æŠ“åŒ…ï¼Œå®‰è£…å®Œ ca è¯ä¹¦ä»¥åï¼Œè¿˜éœ€è¦<strong>å¤šä¸€æ­¥æ“ä½œ</strong>ï¼Œæ‰èƒ½ç¡®ä¿è¯ä¹¦å®‰è£…å¹¶å·²å¯ç”¨ï¼›</p><p><code>é€šç”¨</code> -&gt; <code>å…³äºæœ¬æœº</code> -&gt; <code>è¯ä¹¦ä¿¡ä»»è®¾ç½®</code> -&gt; å¯ç”¨ç›¸å¯¹åº”çš„è¯ä¹¦ï¼Œå°±å¯ä»¥çœ‹åˆ°å·¥å…·ä¸­æŠ“å–åˆ°ç›¸åº”çš„ HTTPS è¯·æ±‚ã€‚</p><p><img src="https://img30.360buyimg.com/uba/jfs/t15088/54/2660693956/316519/d9619a8c/5ab0a393Nc6ecb629.png.webp" alt="ios-cer"></p><p>è¿™ç‚¹è·Ÿè‹¹æœçš„ <strong>one more thing</strong> è²Œä¼¼æœ‰é‚£ä¹ˆä¸€ç‚¹ä¸è°‹è€Œåˆã€‚</p><p>have fun :D</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç›¸ä¿¡å„ä½åœ¨ç§»åŠ¨ç«¯å¼€å‘è¿‡ç¨‹ä¸­ä¸€å®šé‡åˆ°æŠ“å–è¯·æ±‚çš„åœºæ™¯ï¼Œæœ¬æ–‡ä¸»è¦æ˜¾ç¤º iOS 11 åœ¨ &lt;a href=&quot;#Charles&quot;&gt;Charles&lt;/a&gt;ã€&lt;a href=&quot;#Fiddler&quot;&gt;Fiddler&lt;/a&gt;ã€&lt;a href=&quot;#Whistle&quot;&gt;Whistle&lt;/a&gt; ä¸‹HTTPSæŠ“åŒ…é…ç½®ï¼Œæ¬¢è¿ç•™è¨€åŒºè¡¥å……å…¶ä»–å·¥å…·ã€‚PS.ç•™è¨€ä½¿ç”¨ Disqus æ’ä»¶éœ€è¦&lt;code&gt;ç§‘å­¦ä¸Šç½‘&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å·²ç»ç†Ÿæ‚‰ä»¥ä¸Šä¸‰ä¸ªå·¥å…·åŸºç¡€é…ç½®ï¼Œä»…ä»…éœ€è¦è§£å†³æŠ“åŒ… iOS ä¸‹ HTTPS é—®é¢˜çš„åŒå­¦å¯ä»¥ç›´æ¥æ‰“å¼€&lt;a href=&quot;/2018/03/01/2018-03-01-iOS-https/#tips&quot;&gt;é”¦å›Š&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç§»åŠ¨å¼€å‘" scheme="https://beanlee.github.io/tags/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘åˆ©ç”¨ webpack åš web æ€§èƒ½ä¼˜åŒ–</title>
    <link href="https://beanlee.github.io/2018/02/11/blog-translate-web-performance-optimization-with-webpack-from-google/"/>
    <id>https://beanlee.github.io/2018/02/11/blog-translate-web-performance-optimization-with-webpack-from-google/</id>
    <published>2018-02-11T06:35:33.000Z</published>
    <updated>2018-04-18T06:42:53.665Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/addyosmani" target="_blank" rel="noopener">Addy Osmani</a>ï¼Œ<a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>åŸæ–‡ <a href="https://developers.google.com/web/fundamentals/performance/webpack/" target="_blank" rel="noopener">https://developers.google.com/web/fundamentals/performance/webpack/</a></p><a id="more"></a><h2 id="Instroduction-ä»‹ç»"><a href="#Instroduction-ä»‹ç»" class="headerlink" title="Instroduction ä»‹ç»"></a>Instroduction ä»‹ç»</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/addyosmani" target="_blank" rel="noopener">Addy Osmani</a></p><p>ç°ä»£ Web åº”ç”¨ç»å¸¸ç”¨åˆ°<code>bunding tool</code>æ¥åˆ›å»ºç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…æ–‡ä»¶ï¼ˆä¾‹å¦‚è„šæœ¬ã€æ ·å¼ç­‰ï¼‰ï¼Œæ‰“åŒ…æ–‡ä»¶æ˜¯éœ€è¦ä¼˜åŒ–å¹¶å‹ç¼©æœ€å°åŒ–ï¼ŒåŒæ—¶èƒ½å¤Ÿè¢«è®©ç”¨æˆ·æ›´å¿«åœ°ä¸‹è½½åˆ°ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šåˆ©ç”¨<code>webpack</code>æ¥è´¯ç©¿è¯´æ˜å¦‚ä½•ä¼˜åŒ–ç½‘ç«™èµ„æºã€‚è¿™æ ·å¯ä»¥å¸®åŠ©ç”¨æˆ·æ›´å¿«åœ°åŠ è½½ä½ çš„åº”ç”¨åŒæ—¶è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</p><p><img src="https://img20.360buyimg.com/uba/jfs/t15217/149/2229580840/12989/54324b99/5a815957N5bb3e0c6.png" alt="webpack-logo"></p><p>webpack ç›®å‰æ˜¯æœ€æµè¡Œçš„æ‰“åŒ…å·¥å…·ä¹‹ä¸€ï¼Œæ·±å…¥åœ°åˆ©ç”¨å®ƒçš„ç‰¹ç‚¹å»ä¼˜åŒ–ä»£ç ï¼Œå°†è„šæœ¬æ‹†åˆ†æˆé‡è¦å’Œéé‡è¦éƒ¨åˆ†ï¼Œè¿˜æœ‰å‰”é™¤æ— ç”¨çš„ä»£ç èƒ½å¤Ÿä¿è¯ä½ çš„åº”ç”¨ç»´æŒæœ€å°çš„å¸¦å®½å’Œè¿›ç¨‹æ¶ˆè€—ã€‚</p><p><img src="https://img14.360buyimg.com/uba/jfs/t17569/325/476871633/18187/a1e34f41/5a81597fNd77bb5b8.png" alt="code-splitting"></p><blockquote><p>Note: æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»ƒä¹ çš„åº”ç”¨æ¥æ¼”ç¤ºä¸‹é¢è¿™äº›ä¼˜åŒ–çš„æè¿°ã€‚å°½åŠ›æŠ½æ›´å¤šçš„æ—¶é—´æ¥ç»ƒä¹ è¿™äº› tips <a href="https://github.com/GoogleChromeLabs/webpack-training-project" target="_blank" rel="noopener"><code>webpack-training-project</code></a></p></blockquote><p>è®©æˆ‘ä»¬ä»ç°ä»£ web åº”ç”¨ä¸­æœ€è€—è´¹èµ„æºä¹‹ä¸€çš„ <code>Javascript</code> å¼€å§‹ã€‚</p><ul><li>å‡å°å‰ç«¯ä½“ç§¯</li><li>åˆ©ç”¨é•¿æ—¶ç¼“å­˜</li><li>ç›‘æ§å¹¶åˆ†æåº”ç”¨</li><li>æ€»ç»“</li></ul><hr><h2 id="Decrease-Front-end-Size-å‡å°‘å‰ç«¯ä½“ç§¯"><a href="#Decrease-Front-end-Size-å‡å°‘å‰ç«¯ä½“ç§¯" class="headerlink" title="Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯"></a>Decrease Front-end Size å‡å°‘å‰ç«¯ä½“ç§¯</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>å½“ä½ æ­£åœ¨ä¼˜åŒ–ä¸€ä¸ªåº”ç”¨æ—¶ï¼Œé¦–è¦äº‹æƒ…å°±æ˜¯å°½å¯èƒ½åœ°å°†å®ƒä½“ç§¯çš„å‡å°ã€‚ä¸‹é¢å°±æ˜¯åˆ©ç”¨ <code>webpack</code> å¦‚ä½•åšã€‚</p><h3 id="Enable-minification-å¯ç”¨æœ€å°åŒ–"><a href="#Enable-minification-å¯ç”¨æœ€å°åŒ–" class="headerlink" title="Enable minification å¯ç”¨æœ€å°åŒ–"></a>Enable minification å¯ç”¨æœ€å°åŒ–</h3><p>æœ€å°åŒ–æ˜¯é€šè¿‡å»é™¤å¤šä½™ç©ºæ ¼ã€ç¼©çŸ­å˜é‡åç­‰æ–¹å¼å‹ç¼©ä»£ç ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Original code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">array, iteratee</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">const</span> length = array == <span class="literal">null</span> ? <span class="number">0</span> : array.length;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>(length);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (++index &lt; length) &#123;</span><br><span class="line">    result[index] = iteratee(array[index], index, array);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Minified code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">n,r</span>)</span>&#123;<span class="keyword">let</span> t=<span class="number">-1</span>;<span class="keyword">for</span>(<span class="keyword">const</span> a=<span class="literal">null</span>==n?<span class="number">0</span>:n.length,l=<span class="built_in">Array</span>(a);++t&lt;a;)l[t]=r(n[t],t,n);<span class="keyword">return</span> l&#125;</span><br></pre></td></tr></table></figure><p>Webpack æ”¯æŒä¸¤ç§æ–¹å¼æœ€å°åŒ–ä»£ç ï¼šUglifyJS æ’ä»¶å’Œ<em>loader-specific options</em>ã€‚ä»–ä»¬å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚</p><p><a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">The UglifyJS plugin</a>åœ¨ bundle å±‚çº§ä¸­èµ·ä½œç”¨ï¼Œåœ¨ç¼–è¯‘ä¹‹åå‹ç¼© bundleã€‚ä¸‹é¢æ¥å±•ç¤ºå¦‚ä½•å·¥ä½œï¼š</p><p>1.ä»£ç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./comments.css'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2.Webpack æ‰“åŒ…åå¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part of)</span></span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">"render"</span>] = render;</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_css__ = __webpack_require__(<span class="number">1</span>);</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_css_js___default =</span><br><span class="line">__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__comments_css__);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3.ä½¿ç”¨ UglifyJS æ’ä»¶å‹ç¼©æœ€å°åŒ–åå¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// minified bundle.js (part of)</span></span><br><span class="line"><span class="meta">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">t</span>(<span class="params">e,n</span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"Rendered!"</span>)&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(n,<span class="string">"__esModule"</span>,&#123;<span class="attr">value</span>:!<span class="number">0</span>&#125;),n.render=t;<span class="keyword">var</span> o=r(<span class="number">1</span>);r.n(o)</span><br></pre></td></tr></table></figure></p><p>æ’ä»¶é›†æˆåœ¨ webpack ä¸­ï¼ŒæŠŠå®ƒçš„é…ç½®åœ¨<code>plugins</code>ä¸­å°±å¯ä»¥å¯ç”¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ç¬¬äºŒç§æ–¹å¼<em>loader-specific options</em> åˆ©ç”¨ loader optionsï¼Œå¯ä»¥å‹ç¼© Uglify æ’ä»¶æ— æ³•æœ€å°åŒ–çš„éƒ¨åˆ†ã€‚ä¸¾ä¾‹ï¼Œå½“ä½ åˆ©ç”¨<code>css-loader</code>å¼•å…¥ä¸€ä¸ª CSS æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶ä¼šç¼–è¯‘æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* comments.css */</span></span><br><span class="line"><span class="selector-class">.comment</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>â†“<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// minified bundle.js (part of)</span></span><br><span class="line">exports=<span class="built_in">module</span>.exports=__webpack_require__(<span class="number">1</span>)(),</span><br><span class="line">exports.push([<span class="built_in">module</span>.i,<span class="string">".comment &#123;\r\n  color: black;\r\n&#125;"</span>,<span class="string">""</span>]);</span><br></pre></td></tr></table></figure></p><p>UglifyJS ä¸èƒ½å‹ç¼©å­—ç¬¦ä¸²ã€‚è¦å‹ç¼©è¿™æ®µ css å†…å®¹ï¼Œéœ€è¦é…ç½® <em>loader</em> ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'css-loader'</span>, <span class="attr">options</span>: &#123; <span class="attr">minimize</span>: <span class="literal">true</span> &#125; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><blockquote><p>Note: UglifyJS æ’ä»¶ä¸èƒ½ç¼–è¯‘ ES2015+(ES2016)ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ çš„ diamante ä¸­ä½¿ç”¨ç±»ã€ç®­å¤´å‡½æ•°å’Œä¸€äº›æ–°ç‰¹æ€§è¯­æ³•ï¼Œä¸èƒ½ç¼–è¯‘æˆ ES5ï¼Œæ’ä»¶ä¼šæŠ›å¼‚å¸¸ã€‚<br>å¦‚æœéœ€è¦ç¼–è¯‘æ–°è¯­æ³•ï¼Œè¦ä½¿ç”¨ <a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a> åŒ…ã€‚ä¹Ÿæ˜¯é›†æˆåœ¨ webpack ä¸­ç›¸åŒçš„æ’ä»¶ï¼Œä½†æ˜¯æ›´æ–°ä¸€äº›ï¼Œèƒ½å¤Ÿæœ‰èƒ½åŠ›ç¼–è¯‘ ES2015+ã€‚</p></blockquote><h4 id="Further-reading"><a href="#Further-reading" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li><a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">The UglifyJsPlugin docs</a></li><li>Other popular minifiers: <a href="https://github.com/webpack-contrib/babel-minify-webpack-plugin" target="_blank" rel="noopener">Babel Minify</a>, <a href="https://github.com/roman01la/webpack-closure-compiler" target="_blank" rel="noopener">Google Closure Compiler</a></li></ul><h3 id="Specify-NODE-ENV-production-æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯"><a href="#Specify-NODE-ENV-production-æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯" class="headerlink" title="Specify NODE_ENV=production æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯"></a>Specify <code>NODE_ENV=production</code> æ˜ç¡®ç”Ÿäº§ç¯å¢ƒä¿¡æ¯</h3><p>å‡å°å‰ç«¯ä½“ç§¯çš„å¦å¤–ä¸€ä¸ªæ–¹æ³•å°±æ˜¯åœ¨ä»£ç ä¸­å°†<code>NODE_ENV</code><a href="https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" target="_blank" rel="noopener">ç¯å¢ƒå˜é‡</a>è®¾ç½®æˆ<code>production</code>ã€‚</p><p>Libraries ä¼šè¯»å–<code>NODE_ENV</code>å˜é‡åˆ¤æ–­ä»–ä»¬åº”è¯¥åœ¨é‚£ç§æ¨¡å¼ä¸‹å·¥ä½œ - å¼€å‘æ¨¡å¼ or ç”Ÿæˆæ¨¡å¼ã€‚å¾ˆå¤šåº“ä¼šåŸºäºè¿™ä¸ªå˜é‡æœ‰ä¸åŒçš„è¡¨ç°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“<code>NODE_ENV</code>æ²¡æœ‰è®¾ç½®æˆ<code>production</code>ï¼ŒVue.js ä¼šåšé¢å¤–çš„æ£€æŸ¥å¹¶ä¸”è¾“å‡ºä¸€äº›è­¦å‘Šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// â€¦</span></span><br></pre></td></tr></table></figure><p>React ä¹Ÿæ˜¯ç±»ä¼¼ - å¼€å‘æ¨¡å¼ä¸‹ build å¸¦æœ‰ä¸€äº›è­¦å‘Šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// react/index.js</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./cjs/react.production.min.js'</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./cjs/react.development.js'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// react/cjs/react.development.js</span></span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">warning$<span class="number">3</span>(</span><br><span class="line">  componentClass.getDefaultProps.isReactClassApproved,</span><br><span class="line">  <span class="string">'getDefaultProps is only used on classic React.createClass '</span> +</span><br><span class="line">  <span class="string">'definitions. Use a static property named `defaultProps` instead.'</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">// â€¦</span></span><br></pre></td></tr></table></figure><p>è¿™äº›æ£€æŸ¥å’Œè­¦å‘Šé€šå¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æ˜¯ä¸å¿…è¦çš„ï¼Œä½†æ˜¯ä»–ä»¬ä»ç„¶ä¿ç•™åœ¨ä»£ç ä¸­å¹¶ä¸”ä¼šå¢åŠ åº“çš„ä½“ç§¯ã€‚é€šè¿‡é…ç½® webpack çš„ <a href="https://webpack.js.org/plugins/define-plugin/" target="_blank" rel="noopener"><code>DefinePlugin</code></a> æ¥å‰”é™¤æ‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env.NODE_ENV'</span>: <span class="string">'"production"'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>DefinePlugin</code>ç”¨ç¡®å®šçš„å˜é‡æ›¿æ¢æ‰€æœ‰å­˜åœ¨çš„è¯´æ˜å˜é‡ã€‚åˆ©ç”¨ä¸‹é¢é…ç½®ï¼š</p><p>1.<code>DefinePlugin</code>å°†ç”¨<code>&quot;production&quot;</code>æ›¿æ¢åˆ°<code>process.env.NODE_ENV</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"production"</span> !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Note: å¦‚æœä½ åå‘æœ‰é€šè¿‡ CLI é…ç½®å˜é‡ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ <a href="https://webpack.js.org/plugins/environment-plugin/" target="_blank" rel="noopener">EnvironmentPlugin</a>ã€‚å®ƒå’Œ<code>DefinePlugin</code>ç±»ä¼¼ï¼Œä½†è¯»ç¯å¢ƒå¹¶ä¸”è‡ªåŠ¨æ›¿æ¢<code>process.env</code>è¡¨è¾¾å¼ã€‚</p></blockquote><p>2.<code>UglifyJS</code>ä¼šç§»é™¤æ‰æ‰€æœ‰<code>if</code>åˆ†æ”¯ - å› ä¸º<code>&quot;production&quot; !== &#39;production&#39;</code>æ°¸è¿œè¿”å› false ï¼Œæ’ä»¶ç†è§£ä»£ç å†…çš„åˆ¤æ–­åˆ†æ”¯å°†æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"production"</span> !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  warn(<span class="string">'props must be strings when using array syntax.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue/dist/vue.runtime.esm.js (without minification)</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'string'</span>) &#123;</span><br><span class="line">  name = camelize(val);</span><br><span class="line">  res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Note: ä¸ä¸€å®šå¼ºåˆ¶è¦æ±‚ä½¿ç”¨ <code>UglifyJSPlugin</code>ã€‚ä½ å¯ä»¥ä½¿ç”¨å…¶ä»–ä¸åŒçš„æœ€å°åŒ–å·¥å…·ï¼Œè¿™äº›é¡µæ”¯æŒç§»é™¤æ— ç”¨ä»£ç ï¼ˆä¾‹å¦‚ï¼Œthe <a href="https://github.com/webpack-contrib/babel-minify-webpack-plugin" target="_blank" rel="noopener">Babel Minify plugin</a> or the <a href="https://github.com/roman01la/webpack-closure-compiler" target="_blank" rel="noopener">Google Closure Compiler plugin</a>ï¼‰</p></blockquote><h4 id="Further-Reading"><a href="#Further-Reading" class="headerlink" title="Further Reading"></a>Further Reading</h4><ul><li><a href="https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" target="_blank" rel="noopener">What â€œenvironment variablesâ€ are</a></li><li>Webpack docs about: <a href="https://webpack.js.org/plugins/define-plugin/" target="_blank" rel="noopener"><code>DefinePlugin</code></a>, <a href="https://webpack.js.org/plugins/environment-plugin/" target="_blank" rel="noopener"><code>EnvironmentPlugin</code></a></li></ul><h3 id="Use-ES-Modules-ä½¿ç”¨-ES-æ¨¡å—"><a href="#Use-ES-Modules-ä½¿ç”¨-ES-æ¨¡å—" class="headerlink" title="Use ES Modules ä½¿ç”¨ ES æ¨¡å—"></a>Use ES Modules ä½¿ç”¨ ES æ¨¡å—</h3><p>ä¸‹é¢è¿™ä¸ªæ–¹å¼åˆ©ç”¨ <a href="https://ponyfoo.com/articles/es6-modules-in-depth" target="_blank" rel="noopener">ES modules</a> å‡å°å‰ç«¯ä½“ç§¯ã€‚</p><p>å½“ä½ ä½¿ç”¨ ES moduleï¼Œwebpack æœ‰èƒ½åŠ›å»åš tree-shakingã€‚Tree-shaking è´¯ç©¿æ•´ä¸ªä¾èµ–æ ‘ï¼Œæ£€æŸ¥é‚£äº›ä¾èµ–è¢«ä½¿ç”¨ï¼Œç§»é™¤æ— ç”¨ä¾èµ–ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä½¿ç”¨ ES module è¯­æ³•ï¼Œwebpack å¯ä»¥æ’é™¤æ‰æ— ç”¨ä»£ç ï¼š</p><p>1.ä¸€ä¸ªæœ‰å¤šä¸ª export çš„æ–‡ä»¶ï¼Œä½†æ˜¯ app åªéœ€è¦å…¶ä¸­ä¸€ä¸ªï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> render = <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">return</span> <span class="string">'Rendered!'</span>; &#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> commentRestEndpoint = <span class="string">'/rest/comments'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br></pre></td></tr></table></figure><p>2.webpack ç†è§£ <code>commentRestEndPoint</code>æ²¡æœ‰ä½¿ç”¨ï¼ŒåŒæ—¶ä¸èƒ½åœ¨ä¸€ä¸ª bundle ä¸­ç”Ÿæˆå•ç‹¬çš„ exportï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part that corresponds to comments.js)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="keyword">const</span> render = <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">return</span> <span class="string">'Rendered!'</span>; &#125;;</span><br><span class="line">  <span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">"a"</span>] = render;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> commentRestEndpoint = <span class="string">'/rest/comments'</span>;</span><br><span class="line">  <span class="comment">/* unused harmony export commentRestEndpoint */</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>3.<code>UglifyJSPlugin</code>ç§»é™¤æ— ç”¨å˜é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part that corresponds to comments.js)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">n,e</span>)</span>&#123;<span class="string">"use strict"</span>;<span class="keyword">var</span> r=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">"Rendered!"</span>&#125;;e.b=r&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœä»–ä»¬éƒ½æ˜¯æœ‰ ES module ç¼–å†™ï¼Œå°±æ˜¯ä¸ä¸€äº›åº“å¹¶å­˜æ—¶ä¹Ÿæ˜¯ç”Ÿæ•ˆçš„ã€‚</p><blockquote><p>Note: åœ¨ webpack ä¸­ï¼Œtree-shaking æ²¡æœ‰ minifier æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ã€‚ webpack ä»…ä»…ç§»é™¤äº†æ²¡æœ‰è¢«ç”¨åˆ°çš„ export å˜é‡ï¼›<code>UglifyJSPlugin</code>æ‰ä¼šç§»é™¤æ— ç”¨ä»£ç ã€‚æ‰€ä»¥å¦‚æœä½ ç¼–è¯‘æ‰“åŒ…æ—¶æ²¡æœ‰ä½¿ç”¨ minifierï¼Œæ‰“åŒ…åä½“ç§¯å¹¶ä¸ä¼šæ›´å°ã€‚ä½ ä¹Ÿå¯ä»¥ä¸ä¸€å®šä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚å…¶ä»–æœ€å°åŒ–çš„æ’ä»¶ä¹Ÿæ”¯æŒç§»é™¤ dead codeï¼ˆä¾‹å¦‚ï¼š<a href="https://github.com/webpack-contrib/babel-minify-webpack-plugin" target="_blank" rel="noopener">Babel Minify plugin</a> or <a href="https://github.com/roman01la/webpack-closure-compiler" target="_blank" rel="noopener">Google Closure Compiler plugin</a>ï¼‰</p></blockquote><blockquote><p>Warning: ä¸è¦å°† ES module ç¼–è¯‘åˆ° CommonJS ä¸­ã€‚ å¦‚æœä½ ä½¿ç”¨ Babel <code>babel-preset-env</code> or <code>babel-preset-es2015</code>ï¼Œæ£€æŸ¥ä¸€ä¸‹å½“å‰çš„é…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ ES <code>import</code> and <code>export</code> to CommonJS <code>require</code> and <code>module.exports</code>ã€‚é€šè¿‡è®¾ç½® option æ¥ç¦æ­¢æ‰<a href="https://github.com/babel/babel/tree/master/experimental/babel-preset-env" target="_blank" rel="noopener">Pass the <code>{ modules: false }</code> option</a>ã€‚</p></blockquote><h4 id="Futher-reading"><a href="#Futher-reading" class="headerlink" title="Futher reading"></a>Futher reading</h4><ul><li><a href="https://ponyfoo.com/articles/es6-modules-in-depth" target="_blank" rel="noopener">â€œES6 Modules in depthâ€</a></li><li>Webpack docs <a href="https://webpack.js.org/guides/tree-shaking/" target="_blank" rel="noopener">about tree shaking</a></li></ul><h3 id="Optimize-images-ä¼˜åŒ–å›¾ç‰‡"><a href="#Optimize-images-ä¼˜åŒ–å›¾ç‰‡" class="headerlink" title="Optimize images ä¼˜åŒ–å›¾ç‰‡"></a>Optimize images ä¼˜åŒ–å›¾ç‰‡</h3><p>å›¾ç‰‡åŸºæœ¬ä¼šå å±€é¡µé¢ä¸€åŠä»¥ä¸Šä½“ç§¯ã€‚è™½ç„¶å®ƒä»¬ä¸åƒ JavaScript é‚£ä¹ˆé‡è¦ï¼ˆæ¯”å¦‚å®ƒä»¬ä¸ä¼šé˜»æ­¢é¡µé¢æ¸²æŸ“ï¼‰ï¼Œä½†å›¾ç‰‡ä»ç„¶ä¼šå ç”¨æ‰ä¸€å¤§éƒ¨åˆ†å¸¦å®½ã€‚åˆ©ç”¨<code>url-loader</code>ï¼Œ<code>svg-url-loader</code>å’Œ<code>image-webpack-loader</code>æ¥åœ¨ webpack ä¸­è¿›è¡Œä¼˜åŒ–ã€‚</p><p><code>url-loader</code> å…è®¸å°†å°é™æ€æ–‡ä»¶æ‰“åŒ…è¿› appã€‚æ²¡æœ‰é…ç½®ï¼Œä»–éœ€è¦é€šè¿‡ fileï¼Œå°†å®ƒæ”¾åœ¨ç¼–è¯‘åçš„æ‰“åŒ… bundle å†…å¹¶è¿”å›ä¸€ä¸ªè¿™ä¸ªæ–‡ä»¶çš„ urlã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬æ³¨æ˜<code>limit</code>é€‰é¡¹ï¼Œå®ƒå°†ä¼š encode æˆæ›´å°çš„æ–‡ä»¶ base64 æ–‡ä»¶ urlã€‚è¿™æ˜¯å¯ä»¥å°†å›¾ç‰‡æ”¾åœ¨Javascript ä»£ç ä¸­ï¼ŒåŒæ—¶èŠ‚çœ HTTP è¯·æ±‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(jpe?g|png|gif)$/</span>,</span><br><span class="line">        loader: <span class="string">'url-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">// Inline files smaller than 10 kB (10240 bytes)</span></span><br><span class="line">          limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> imageUrl <span class="keyword">from</span> <span class="string">'./image.png'</span>;</span><br><span class="line"><span class="comment">// â†’ If image.png is smaller than 10 kB, `imageUrl` will include</span></span><br><span class="line"><span class="comment">// the encoded image: 'data:image/png;base64,iVBORw0KGgâ€¦'</span></span><br><span class="line"><span class="comment">// â†’ If image.png is larger than 10 kB, the loader will create a new file,</span></span><br><span class="line"><span class="comment">// and `imageUrl` will include its url: `/2fcd56a1920be.png`</span></span><br></pre></td></tr></table></figure><blockquote><p>Note: å†…è”å›¾ç‰‡å‡å°‘äº†ç‹¬ç«‹è¯·æ±‚çš„æ•°é‡ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ–¹å¼ï¼ˆ<a href="https://blog.octo.com/en/http2-arrives-but-sprite-sets-aint-no-dead/" target="_blank" rel="noopener">even with HTTP/2</a>ï¼‰ï¼Œä½†æ˜¯ä¼šå¢åŠ  bundleä¸‹è½½å’Œè½¬æ¢çš„æ—¶é—´å’Œå†…å­˜çš„æ¶ˆè€—ã€‚ä¸€å®šè¦ç¡®ä¿ä¸è¦åµŒå…¥è¶…å¤§å›¾ç‰‡æˆ–è€…è¾ƒå¤šçš„å›¾ç‰‡ - å¦åˆ™å¢åŠ çš„ bundle çš„æ—¶é—´å°†ä¼šæ©ç›–åšæˆå†…è”å›¾ç‰‡çš„æ”¶ç›Šã€‚</p></blockquote><p><code>svg-url-loader</code>ä¸<code>url-loader</code>ç±»ä¼¼ - éƒ½æ˜¯å°†ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding" target="_blank" rel="noopener">URL encoding</a>  encode æ–‡ä»¶ã€‚è¿™å¯¹å¯¹äº SVG å›¾ç‰‡å¾ˆå¥æ•ˆ - å› ä¸º SVG æ–‡ä»¶æ˜¯æ–‡æœ¬ï¼Œencoding åœ¨ä½“ç§¯ä¸Šæ›´æœ‰æ•ˆç‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.svg$/</span>,</span><br><span class="line">        loader: <span class="string">'svg-url-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">// Inline files smaller than 10 kB (10240 bytes)</span></span><br><span class="line">          limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">          <span class="comment">// Remove the quotes from the url</span></span><br><span class="line">          <span class="comment">// (theyâ€™re unnecessary in most cases)</span></span><br><span class="line">          noquotes: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Note: svg-url-loader æ‹¥æœ‰æ”¹å–„ IE æµè§ˆå™¨æ”¯æŒçš„ optionsï¼Œä½†æ˜¯åœ¨å…¶ä»–æµè§ˆå™¨ä¸­æ›´ç³Ÿç³•ã€‚å¦‚æœä½ éœ€è¦å…¼å®¹ IE æµè§ˆå™¨ï¼Œ<a href="https://github.com/bhovhannes/svg-url-loader#iesafe" target="_blank" rel="noopener">è®¾ç½® iesafe: true é€‰é¡¹</a></p></blockquote><p><code>image-webpack-loader</code>å‹ç¼©å›¾ç‰‡ä½¿ä¹‹å˜å°ã€‚å®ƒæ”¯æŒ JPGï¼ŒPNGï¼ŒGIF å’Œ SVGï¼Œå› ä¸ºæˆ‘ä»¬å°†ä¼šä½¿ç”¨å®ƒæ‰€æœ‰ç±»å‹ã€‚</p><p>è¿™ä¸ª loader ä¸ä¼šå°†å›¾ç‰‡åµŒå…¥åœ¨åº”ç”¨å†…ï¼Œå› æ­¤å®ƒå¿…é¡»ä¸<code>url-loader</code>å’Œ<code>svg-url-loader</code>é…åˆä½¿ç”¨ã€‚é¿å…å¤åˆ¶ç²˜è´´åˆ°ç›¸åŒçš„ rules ä¸­ï¼ˆä¸€ä¸ªç”¨äº JPG/PNG/GIF å›¾ç‰‡ï¼Œå¦ä¸€ä¸ªç”¨äº SVG å›¾ç‰‡ï¼‰ï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨<code>enforce: pre</code>ä½œä¸ºå•ç‹¬çš„ä¸€ä¸ª rule æ¶µç›–è¿™ä¸ª loaderï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(jpe?g|png|gif|svg)$/</span>,</span><br><span class="line">        loader: <span class="string">'image-webpack-loader'</span>,</span><br><span class="line">        <span class="comment">// This will apply the loader before the other ones</span></span><br><span class="line">        enforce: <span class="string">'pre'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é»˜è®¤ loader è®¾ç½®å°±å·²ç»å¯ä»¥æ»¡è¶³éœ€æ±‚äº† - ä½†å¦‚æœä½ æƒ³è¦æ·±å…¥é…ç½®ï¼Œè¯·æŸ¥çœ‹ <a href="https://github.com/tcoopman/image-webpack-loader#options" target="_blank" rel="noopener">the plugin options</a>ã€‚ä¸ºäº†é€‰æ‹©å“ªäº› options éœ€è¦æ˜ç¡®ï¼Œå¯ä»¥æŸ¥çœ‹ Addy Osmani çš„ <a href="https://images.guide/" target="_blank" rel="noopener">guide on image optimization</a></p><h4 id="Further-reading-1"><a href="#Further-reading-1" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li><a href="https://stackoverflow.com/questions/201479/what-is-base-64-encoding-used-for" target="_blank" rel="noopener">â€œWhat is base64 encoding used for?â€</a></li><li>Addy Osmaniâ€™s <a href="https://images.guide/" target="_blank" rel="noopener">guide on image optimization</a></li></ul><h3 id="Optimize-dependencies-ä¼˜åŒ–ä¾èµ–"><a href="#Optimize-dependencies-ä¼˜åŒ–ä¾èµ–" class="headerlink" title="Optimize dependencies ä¼˜åŒ–ä¾èµ–"></a>Optimize dependencies ä¼˜åŒ–ä¾èµ–</h3><p>å¹³å‡ä¸€åŠä»¥ä¸Šçš„ Javascript ä½“ç§¯å¤§å°æ¥æºäºä¾èµ–åŒ…ï¼Œå¹¶ä¸”è¿™äº›å¯èƒ½éƒ½ä¸æ˜¯å¿…è¦çš„ã€‚</p><p>ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´ï¼ŒLodashï¼ˆv4.17.4ï¼‰å¢åŠ äº†æœ€å°åŒ–ä»£ç çš„ 72KB å¤§å°åˆ° bundle ä¸­ã€‚ä½†æ˜¯å¦‚æœä½ ä»…ä»…ç”¨åˆ°å®ƒçš„20ä¸ªæ–¹æ³•ï¼Œå¤§çº¦ 65 KB ä»£ç æ²¡æœ‰ç”¨å¤„ã€‚</p><p>å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯ Moment.jsã€‚ V2.19.1ç‰ˆæœ¬æœ€å°åŒ–åæœ‰ 223KBï¼Œä½“ç§¯å·¨å¤§ - æˆªè‡³2017å¹´10æœˆä¸€ä¸ªé¡µé¢å†…çš„ Javascript å¹³å‡ä½“ç§¯æ˜¯ 452KBã€‚ä½†æ˜¯ï¼Œæœ¬åœ°æ–‡ä»¶çš„ä½“ç§¯å  170KBã€‚å¦‚æœä½ æ²¡æœ‰ç”¨åˆ° å¤šè¯­è¨€ç‰ˆ Moment.jsï¼Œè¿™äº›æ–‡ä»¶éƒ½ä¼šæ²¡æœ‰ç›®çš„åœ°ä½¿ bundle æ›´è‡ƒè‚¿ã€‚</p><p>æ‰€æœ‰è¿™äº›ä¾èµ–éƒ½å¯ä»¥è¢«è½»æ˜“ä¼˜åŒ–ã€‚æˆ‘ä»¬åœ¨ Github repo æ”¶é›†äº†ä¼˜åŒ–çš„å»ºè®®ï¼Œ<a href="https://github.com/GoogleChromeLabs/webpack-libs-optimizations" target="_blank" rel="noopener">check it out</a>ï¼</p><h3 id="Enable-module-concatenation-for-ES-modules-aka-scope-hoisting"><a href="#Enable-module-concatenation-for-ES-modules-aka-scope-hoisting" class="headerlink" title="Enable module concatenation for ES modules (aka scope hoisting)"></a>Enable module concatenation for ES modules (aka scope hoisting)</h3><p>å½“ä½ æ„å»º bundle æ—¶ï¼Œwebpack å°†æ¯ä¸€ä¸ª module å°è£…è¿› function ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;render&#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part  of)</span></span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">  <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__comments_js__ = __webpack_require__(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">Object</span>(__WEBPACK_IMPORTED_MODULE_0__comments_js__[<span class="string">"a"</span> <span class="comment">/* render */</span>])();</span><br><span class="line"></span><br><span class="line">&#125;),</span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  __webpack_exports__[<span class="string">"a"</span>] = render;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥å‰ï¼Œè¿™ä¹ˆåšæ˜¯ä½¿ CommonJS/AMD modules äº’ç›¸åˆ†ç¦»æ‰€å¿…é¡»çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¼šå¢åŠ ä½“ç§¯å¹¶ä¸”æ€§èƒ½è¡¨ç°å ªå¿§ã€‚</p><p>Webpack 2 ä»‹ç»äº† ES modules çš„æ”¯æŒï¼Œä¸åƒ CommonJS å’Œ AMD modules ä¸€æ ·ï¼Œè€Œæ˜¯èƒ½å¤Ÿä¸ç”¨å°†æ¯ä¸€ä¸ª module ç”¨ function å°è£…èµ·æ¥ã€‚åŒæ—¶ Webpack 3 åˆ©ç”¨<a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener"><code>ModuleConcatenationPlugin</code></a>å®Œæˆè¿™æ ·ä¸€ä¸ª bundleï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;render&#125; <span class="keyword">from</span> <span class="string">'./comments.js'</span>;</span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Unlike the previous snippet, this bundle has only one module</span></span><br><span class="line"><span class="comment">// which includes the code from both files</span></span><br><span class="line"><span class="comment">// ä¸å‰é¢çš„ä»£ç ä¸åŒï¼Œè¿™ä¸ª bundle åªæœ‰ä¸€ä¸ª moduleï¼ŒåŒæ—¶åŒ…å«ä¸¤ä¸ªæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bundle.js (part of; compiled with ModuleConcatenationPlugin)</span></span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">"__esModule"</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONCATENATED MODULE: ./comments.js</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Rendered!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONCATENATED MODULE: ./index.js</span></span><br><span class="line">  render();</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿåœ¨è¿™ä¸ª bundle ä¸­ï¼Œ module 0 éœ€è¦ module 1 çš„ render æ–¹æ³•ã€‚ä½¿ç”¨ <code>ModuleConcatenationPlugin</code>ï¼Œ<code>require</code>è¢«ç›´æ¥ç®€å•çš„æ›¿æ¢æˆ require å‡½æ•°ï¼ŒåŒæ—¶ module 1 è¢«åˆ é™¤åˆ é™¤æ‰äº†ã€‚è¿™ä¸ª bundle æ‹¥æœ‰æ›´å°‘çš„ modulesï¼Œå°±æœ‰æ›´å°‘çš„ modules æŸè€—ï¼</p><p>å¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åœ¨æ’ä»¶åˆ—è¡¨ä¸­å¢åŠ <code>ModuleConcatenationPlugin</code>ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><blockquote><p>Noteï¼šæƒ³è¦çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªåŠŸèƒ½ä¸æ˜¯é»˜è®¤å¯ç”¨ï¼ŸConcatenating modules å¾ˆæ£’ï¼Œ <a href="https://twitter.com/TheLarkInn/status/925800563144454144" target="_blank" rel="noopener">ä½†æ˜¯ä»–ä¼šå¢åŠ ç¼–è¯‘çš„æ—¶é—´åŒæ—¶ç ´å module çš„çƒ­æ›´æ–°</a>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåªåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨çš„åŸå› äº†ã€‚</p></blockquote><h4 id="Further-reading-2"><a href="#Further-reading-2" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack docs <a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener">for the ModuleConcatenationPlugin</a></li><li><a href="https://medium.com/webpack/brief-introduction-to-scope-hoisting-in-webpack-8435084c171f" target="_blank" rel="noopener">â€œBrief introduction to scope hoistingâ€</a></li><li>Detailed description of <a href="https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5" target="_blank" rel="noopener">what this plugin does</a></li></ul><h3 id="Use-externals-if-you-have-both-webpack-and-non-webpack-code-å¦‚æœä»£ç ä¸­åŒ…å«-webpack-å’Œé-webpack-çš„ä»£ç è¦ä½¿ç”¨-externals"><a href="#Use-externals-if-you-have-both-webpack-and-non-webpack-code-å¦‚æœä»£ç ä¸­åŒ…å«-webpack-å’Œé-webpack-çš„ä»£ç è¦ä½¿ç”¨-externals" class="headerlink" title="Use externals if you have both webpack and non-webpack code å¦‚æœä»£ç ä¸­åŒ…å« webpack å’Œé webpack çš„ä»£ç è¦ä½¿ç”¨ externals"></a>Use <code>externals</code> if you have both webpack and non-webpack code å¦‚æœä»£ç ä¸­åŒ…å« webpack å’Œé webpack çš„ä»£ç è¦ä½¿ç”¨ externals</h3><p>ä½ å¯èƒ½æ‹¥æœ‰ä¸€ä¸ªä½“ç§¯åºå¤§çš„å·¥ç¨‹ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä»£ç å¯ä»¥ä½¿ç”¨ webpack ç¼–è¯‘ï¼Œè€Œæœ‰ä¸€äº›ä»£ç åˆä¸èƒ½ã€‚æ¯”å¦‚ä¸€ä¸ªè§†é¢‘ç½‘ç«™ï¼Œæ’­æ”¾å™¨çš„ widget å¯èƒ½é€šè¿‡ webpack ç¼–è¯‘ï¼Œä½†æ˜¯å…¶å‘¨å›´é¡µé¢åŒºåŸŸå¯èƒ½ä¸æ˜¯ï¼š</p><p><img src="https://img30.360buyimg.com/uba/jfs/t15334/148/2273118093/210074/8260a296/5a81599dN148751d5.png" alt="video-hosting"></p><p>å¦‚æœä¸¤éƒ¨åˆ†ä»£ç æœ‰ç›¸åŒçš„ä¾èµ–ï¼Œä½ å¯ä»¥å…±äº«è¿™äº›ä¾èµ–ä»¥ä¾¿å‡å°‘é‡å¤ä¸‹è½½è€—æ—¶ã€‚<a href="https://webpack.js.org/configuration/externals/" target="_blank" rel="noopener">the webpackâ€™s <code>externals</code> option</a>å°±å¹²äº†è¿™ä»¶äº‹ - å®ƒç”¨å˜é‡æˆ–è€…å¤–éƒ¨å¼•ç”¨æ¥æ›¿ä»£ modulesã€‚</p><h4 id="å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ°-window-ä¸Šçš„æƒ…å†µ"><a href="#å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ°-window-ä¸Šçš„æƒ…å†µ" class="headerlink" title="å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ° window ä¸Šçš„æƒ…å†µ"></a>å¦‚æœä¾èµ–æ˜¯æŒ‚è½½åˆ° window ä¸Šçš„æƒ…å†µ</h4><p>å¦‚æœä½ çš„é webpack ä»£ç ä¾é è¿™äº›ä¾èµ–ï¼Œå®ƒä»¬æ˜¯æŒ‚è½½ window ä¸Šçš„å˜é‡ï¼Œå¯ä»¥å°†ä¾èµ–åç§° alias æˆå˜é‡åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  externals: &#123;</span><br><span class="line">    <span class="string">'react'</span>: <span class="string">'React'</span>,</span><br><span class="line">    <span class="string">'react-dom'</span>: <span class="string">'ReactDOM'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨è¿™ä¸ªé…ç½®ï¼Œwebpack å°†ä¸ä¼šæ‰“åŒ… <code>react</code> å’Œ <code>react-dom</code>åŒ…ã€‚å–è€Œä»£ä¹‹ï¼Œä»–ä»¬ä¼šè¢«æ›¿æ¢æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (part of)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, exports</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// A module that exports `window.React`. Without `externals`,</span></span><br><span class="line">  <span class="comment">// this module would include the whole React bundle</span></span><br><span class="line">  <span class="built_in">module</span>.exports = React;</span><br><span class="line">&#125;),</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module, exports</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// A module that exports `window.ReactDOM`. Without `externals`,</span></span><br><span class="line">  <span class="comment">// this module would include the whole ReactDOM bundle</span></span><br><span class="line">  <span class="built_in">module</span>.exports = ReactDOM;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å¦‚æœä¾èµ–æ˜¯å½“åš-AMD-åŒ…è¢«åŠ è½½çš„æƒ…å†µ"><a href="#å¦‚æœä¾èµ–æ˜¯å½“åš-AMD-åŒ…è¢«åŠ è½½çš„æƒ…å†µ" class="headerlink" title="å¦‚æœä¾èµ–æ˜¯å½“åš AMD åŒ…è¢«åŠ è½½çš„æƒ…å†µ"></a>å¦‚æœä¾èµ–æ˜¯å½“åš AMD åŒ…è¢«åŠ è½½çš„æƒ…å†µ</h4><p>å¦‚æœä½ çš„é webpack ä»£ç æ²¡æœ‰å°†ä¾èµ–æš´éœ²æŒ‚è½½åˆ° window ä¸Šï¼Œè¿™å°±æ›´å¤æ‚äº†ã€‚ä½†æ˜¯å¦‚æœé webpack ä»£ç ä½¿ç”¨ AMD åŒ…çš„å½¢å¼æ¶ˆè´¹äº†è¿™äº›ä¾èµ–ï¼Œä½ ä»ç„¶å¯ä»¥é¿å…é‡å¤çš„ä»£ç åŠ è½½ä¸¤æ¬¡ã€‚</p><p>å…·ä½“å¦‚ä½•åšå‘¢ï¼Ÿå°† webpack ä»£ç ç¼–è¯‘æˆä¸€ä¸ª AMD module åŒæ—¶åˆ«åæˆä¸€ä¸ªåº“çš„ URLsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  output: &#123; <span class="attr">libraryTarget</span>: <span class="string">'amd'</span> &#125;,</span><br><span class="line"></span><br><span class="line">  externals: &#123;</span><br><span class="line">    <span class="string">'react'</span>: &#123; <span class="attr">amd</span>: <span class="string">'/libraries/react.min.js'</span> &#125;,</span><br><span class="line">    <span class="string">'react-dom'</span>: &#123; <span class="attr">amd</span>: <span class="string">'/libraries/react-dom.min.js'</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Webpack å°†ä¼šæŠŠ bundle åŒ…è£…è¿› <code>define()</code>åŒæ—¶è®©å®ƒä¾èµ–äºè¿™äº›URLsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js (beginning)</span></span><br><span class="line">define([<span class="string">"/libraries/react.min.js"</span>, <span class="string">"/libraries/react-dom.min.js"</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; â€¦ &#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœé webpack ä»£ç ä½¿ç”¨ç›¸åŒçš„ URLs åŠ è½½ä¾èµ–ï¼Œè¿™äº›æ–‡ä»¶å°†ä¼šåŠ è½½ä¸€æ¬¡ - å¤šä½™çš„è¯·æ±‚ä¼šä½¿ç”¨ç¼“å­˜ã€‚</p><blockquote><p>Noteï¼šwebpack åªæ˜¯æ›¿æ¢é‚£äº›<code>externals</code>å¯¹è±¡ä¸­çš„å‡†ç¡®åŒ¹é…çš„ keys çš„å¼•ç”¨ã€‚è¿™æ„å‘³ç€å¦‚æœä½ çš„ä»£ç è¿™æ ·å†™<code>import React from &#39;react/umd/react.production.min.js&#39;</code>ï¼Œè¿™ä¸ªåº“æ˜¯ä¸ä¼šè¢« bundle æ’é™¤æ‰çš„ã€‚è¿™æ˜¯å› ä¸º - webpack å¹¶ä¸çŸ¥é“ <code>import &#39;react&#39;</code> å’Œ <code>import &#39;react/umd/react.production.min.js&#39;</code> æ˜¯åŒä¸€ä¸ªåº“ï¼Œè¿™æ ·æ¯”è¾ƒè°¨æ…ã€‚</p></blockquote><h4 id="Further-reading-3"><a href="#Further-reading-3" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack docs <a href="https://webpack.js.org/configuration/externals/" target="_blank" rel="noopener">on <code>externals</code></a></li></ul><h3 id="Summing-up-æ€»ç»“"><a href="#Summing-up-æ€»ç»“" class="headerlink" title="Summing up æ€»ç»“"></a>Summing up æ€»ç»“</h3><ul><li>Minimize your code with the <code>UglifyJsPlugin</code> and loader options</li><li>Remove the development-only code with the <code>DefinePlugin</code></li><li>Use ES modules to enable tree shaking</li><li>Compress images</li><li>Apply dependency-specific optimizations</li><li>Enable module concatenation</li><li>Use <code>externals</code> if this makes sense for you</li></ul><hr><h2 id="Make-use-of-long-term-caching-åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜"><a href="#Make-use-of-long-term-caching-åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜" class="headerlink" title="Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜"></a>Make use of long-term caching åˆ©ç”¨å¥½é•¿æ—¶ç¼“å­˜</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>åœ¨åšå®Œä¼˜åŒ–åº”ç”¨ä½“ç§¯ä¹‹åçš„ä¸‹ä¸€æ­¥æå‡åº”ç”¨åŠ è½½æ—¶é—´çš„å°±æ˜¯ç¼“å­˜ã€‚åœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ç¼“å­˜ä½œä¸ºåº”ç”¨çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·ä¼šåœ¨æ¯ä¸€æ¬¡è¯·æ±‚ä¸­å‡å°‘é‡æ–°ä¸‹è½½çš„æ¬¡æ•°ã€‚</p><h3 id="Use-bundle-versioning-and-cache-headers-ä½¿ç”¨-bundle-ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯"><a href="#Use-bundle-versioning-and-cache-headers-ä½¿ç”¨-bundle-ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯" class="headerlink" title="Use bundle versioning and cache headers ä½¿ç”¨ bundle ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯"></a>Use bundle versioning and cache headers ä½¿ç”¨ bundle ç‰ˆæœ¬å’Œç¼“å­˜å¤´ä¿¡æ¯</h3><p>åšç¼“å­˜é€šç”¨çš„è§£å†³åŠæ³•ï¼š</p><p>1.å‘Šè¯‰æµè§ˆå™¨ç¼“å­˜ä¸€ä¸ªæ–‡ä»¶å¾ˆé•¿æ—¶é—´ï¼ˆæ¯”å¦‚ä¸€å¹´ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Server header</span><br><span class="line">Cache-Control: max-age=31536000</span><br></pre></td></tr></table></figure><p>Noteï¼šå¦‚æœä½ ä¸ç†Ÿæ‚‰ <code>Cache-Control</code> åšäº†ä»€ä¹ˆï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ Jake Archibald çš„ç²¾å½©åšæ–‡ <a href="https://jakearchibald.com/2016/caching-best-practices/" target="_blank" rel="noopener">on caching best practices</a></p><p>2.å½“æ–‡ä»¶æ”¹å˜éœ€è¦å¼ºåˆ¶é‡æ–°ä¸‹è½½æ—¶å»é‡å‘½åè¿™äº›æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Before the change --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index-v15.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- After the change --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index-v16.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›æ–¹æ³•å¯ä»¥å‘Šè¯‰æµè§ˆå™¨ä¸‹è½½è¿™äº› JS æ–‡ä»¶ï¼Œå°†å…¶ç¼“å­˜èµ·æ¥ã€‚æµè§ˆå™¨å°†åªä¼šåœ¨æ–‡ä»¶åå‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè¯·æ±‚ç½‘ç»œï¼ˆæˆ–è€…ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µä¹Ÿä¼šè¯·æ±‚ï¼‰ã€‚</p><p>ä½¿ç”¨ webpackï¼Œä¹Ÿå¯ä»¥åšåŒæ ·çš„äº‹ï¼Œä½†å¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æ¥è§£å†³ï¼Œéœ€è¦æ˜ç¡®è¿™ä¸ªæ–‡ä»¶çš„ hash å€¼ã€‚ä½¿ç”¨ <a href="https://webpack.js.org/configuration/output/#output-filename" target="_blank" rel="noopener"><code>[chunkhash]</code></a> å¯ä»¥å°† <code>hash</code> å€¼åŒ…å«è¿›æ–‡ä»¶åä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./index.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.[chunkhash].js'</span>,</span><br><span class="line">        <span class="comment">// â†’ bundle.8e0d62a03.js</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>Note: webpack å¯èƒ½ä¼šç”Ÿæˆä¸åŒçš„ hash å³ä½¿ bundle ç›¸åŒ - æ¯”å¦‚ä½ é‡åäº†äº†ä¸€ä¸ªæ–‡ä»¶æˆ–è€…é‡æ–°åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ç¼–è¯‘äº†ä¸€ä¸ª bundleã€‚ <a href="https://github.com/webpack/webpack/issues/1479" target="_blank" rel="noopener">This is a bug.</a><br>å¦‚æœä½ éœ€è¦å°†æ–‡ä»¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>HtmlWebpackPlugin</code> æˆ–è€… <code>WebpackManifestPlugin</code>ã€‚</p></blockquote><p><code>HtmlWebpackPlugin</code> å¾ˆç®€å•ï¼Œä½†çµæ´»æ€§æ¬ ç¼ºä¸€äº›ã€‚ç¼–è¯‘æ—¶ï¼Œæ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬æ‰€æœ‰çš„ç¼–è¯‘åçš„èµ„æºæ–‡ä»¶ã€‚å¦‚æœä½ çš„ä¸šåŠ¡é€»è¾‘ä¸å¤æ‚ï¼Œè¿™å°±éå¸¸é€‚åˆä½ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.8e0d62a03.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>WebpackManifestPlugin</code>æ›´çµæ´»ä¸€äº›ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è§£å†³ä¸šåŠ¡è´Ÿè´£çš„éƒ¨åˆ†ã€‚ç¼–è¯‘æ—¶å®ƒä¼šç”Ÿæˆä¸€ä¸ª JSON æ–‡ä»¶ï¼Œè¿™æ–‡ä»¶ä¿å­˜è¿™æ²¡æœ‰ hash å€¼æ–‡ä»¶ä¸æœ‰ hash æ–‡ä»¶ä¹‹é—´çš„æ˜ å°„ã€‚æœåŠ¡ç«¯åˆ©ç”¨è¿™ä¸ª JSON å¯ä»¥è¯†åˆ«å‡ºé‚£ä¸ªæ–‡ä»¶æœ‰æ•ˆï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// manifest.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundle.js"</span>: <span class="string">"bundle.8e0d62a03.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Further-reading-4"><a href="#Further-reading-4" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Jake Archibald <a href="https://jakearchibald.com/2016/caching-best-practices/" target="_blank" rel="noopener">about caching best practices</a></li></ul><h3 id="Extract-dependencies-and-runtime-into-a-separate-file-å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶"><a href="#Extract-dependencies-and-runtime-into-a-separate-file-å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶" class="headerlink" title="Extract dependencies and runtime into a separate file å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶"></a>Extract dependencies and runtime into a separate file å°†ä¾èµ–å’Œè¿è¡Œç¯å¢ƒä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</h3><h4 id="Dependencies-ä¾èµ–åŒ…"><a href="#Dependencies-ä¾èµ–åŒ…" class="headerlink" title="Dependencies ä¾èµ–åŒ…"></a>Dependencies ä¾èµ–åŒ…</h4><p>App ä¾èµ–é€šå¸¸æƒ…å†µä¸‹è¶‹å‘äºæ¯”å®é™… app å†…ä»£ç ä¸­æ›´å°‘çš„å˜åŒ–ã€‚å¦‚æœä½ å°†ä»–ä»¬ç§»åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œæµè§ˆå™¨å°†å¯ä»¥æŠŠä»–ä»¬ç‹¬ç«‹ç¼“å­˜èµ·æ¥ - åŒæ—¶ä¸ä¼šæ¯æ¬¡ app ä»£ç æ”¹å˜æ—¶é‡æ–°ä¸‹è½½ã€‚</p><blockquote><p>Key Term: åœ¨ webpack çš„æŠ€æœ¯ä¸­ï¼Œåˆ©ç”¨ app ä»£ç æ‹†åˆ†æ–‡ä»¶è¢«ç§°ä¸º <code>chunks</code>ã€‚æˆ‘ä»¬åé¢ä¼šç”¨åˆ°è¿™ä¸ªåè¯ã€‚</p></blockquote><p>ä¸ºäº†å°†ä¾èµ–åŒ…æå–åˆ°å•ç‹¬çš„ chunk ä¸­ï¼Œä¸‹é¢åˆ†ä¸ºä¸‰æ­¥ï¼š</p><p>1.ä½¿ç”¨<code>[name].[chunkname].js</code>æ›¿æ¢<code>output</code>çš„æ–‡ä»¶åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// Before</span></span><br><span class="line">    filename: <span class="string">'bundle.[chunkhash].js'</span>,</span><br><span class="line">    <span class="comment">// After</span></span><br><span class="line">    filename: <span class="string">'[name].[chunkhash].js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“ webpack æ„å»ºåº”ç”¨æ—¶ï¼Œå®ƒä¼šç”¨ä¸€ä¸ªå¸¦æœ‰ chunk çš„åç§°æ¥æ›¿æ¢<code>[name]</code>ã€‚å¦‚æœæ²¡æœ‰æ·»åŠ <code>[name]</code>éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸é€šè¿‡ chunks ä¹‹é—´çš„ hash åŒºåˆ«æ¥æ¯”è¾ƒä»–ä»¬çš„åŒºåˆ« - é‚£å°±å¤ªéš¾äº†ï¼</p><p>2.å°†<code>entry</code>è½¬æˆä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// Before</span></span><br><span class="line">  entry: <span class="string">'./index.js'</span>,</span><br><span class="line">  <span class="comment">// After</span></span><br><span class="line">  entry: &#123;</span><br><span class="line">    main: <span class="string">'./index.js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œâ€mainâ€ å¯¹è±¡æ˜¯ä¸€ä¸ª chunk çš„åå­—ã€‚è¿™ä¸ªåå­—å°†ä¼šè¢«æ­¥éª¤ 1 é‡Œé¢çš„ <code>[name]</code>ä»£æ›¿ã€‚ç›®å‰ä¸ºæ­¢ï¼Œå¦‚æœä½ æ„å»ºä¸€ä¸ª appï¼Œchunk å°±ä¼šåŒ…æ‹¬æ•´ä¸ª app çš„ä»£ç  - å°±åƒæˆ‘ä»¬æ²¡æœ‰åšè¿™äº›æ­¥éª¤ä¸€æ ·ã€‚ä½†æ˜¯å¾ˆå¿«å°±ä¼šäº§ç”Ÿå˜åŒ–ã€‚</p><p>3.æ·»åŠ  <a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      <span class="comment">// A name of the chunk that will include the dependencies.</span></span><br><span class="line">      <span class="comment">// This name is substituted in place of [name] from step 1</span></span><br><span class="line">      name: <span class="string">'vendor'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// A function that determines which modules to include into this chunk</span></span><br><span class="line">      minChunks: <span class="function"><span class="params">module</span> =&gt;</span> <span class="built_in">module</span>.context &amp;&amp;</span><br><span class="line">        <span class="built_in">module</span>.context.includes(<span class="string">'node_modules'</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ’ä»¶å°†åŒ…æ‹¬å…¨éƒ¨<code>node_modules</code>è·¯å¾„ä¸‹çš„ modules åŒæ—¶å°†ä»–ä»¬ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«ç§°ä¸º <code>vendor.[chunkhash].js</code>ã€‚</p><p>å®Œæˆäº†ä¸Šé¢çš„æ­¥éª¤ï¼Œæ¯ä¸€æ¬¡ build éƒ½ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ã€‚æµè§ˆå™¨ä¼šå°†ä»–ä»¬å•ç‹¬ç¼“å­˜ - ä»¥ä¾¿ä»£ç å‘ç”Ÿæ”¹å˜æ—¶é‡æ–°ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: ac01483e8fec1fa70676</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 3816ms</span><br><span class="line">                           Asset   Size  Chunks             Chunk Names</span><br><span class="line">  ./main.00bab6fd3100008a42b0.js  82 kB       0  [emitted]  main</span><br><span class="line">./vendor.d9e134771799ecdf9483.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><h4 id="Webpack-runtime-code"><a href="#Webpack-runtime-code" class="headerlink" title="Webpack runtime code"></a>Webpack runtime code</h4><p>ä¸å¹¸çš„æ˜¯ï¼Œä»…ä»…æŠ½å–<code>vendor</code>æ˜¯ä¸å¤Ÿçš„ã€‚å¦‚æœä½ è¯•å›¾åœ¨åº”ç”¨ä»£ç ä¸­ä¿®æ”¹ä¸€äº›ä¸œè¥¿ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line">â€¦</span><br><span class="line">â€¦</span><br><span class="line"></span><br><span class="line"><span class="comment">// E.g. add this:</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Wat'</span>);</span><br></pre></td></tr></table></figure><p>ä½ ä¼šæ³¨æ„åˆ°<code>vendor</code>çš„ hash å€¼ä¹Ÿä¼šæ”¹å˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                           Asset   Size  Chunks             Chunk Names</span><br><span class="line">./vendor.d9e134771799ecdf9483.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                            Asset   Size  Chunks             Chunk Names</span><br><span class="line">./vendor.e6ea4504d61a1cc1c60b.js  47 kB       1  [emitted]  vendor</span><br></pre></td></tr></table></figure><p>å‘ç”Ÿè¿™æ ·çš„äº‹æ˜¯å› ä¸º webpack æ‰“åŒ…æ—¶ï¼Œä¸€éƒ¨åˆ† modules çš„ä»£ç ï¼Œæ‹¥æœ‰ <a href="https://webpack.js.org/concepts/manifest/" target="_blank" rel="noopener"><em>a runtime</em></a> - ç®¡ç†æ¨¡å—æ‰§è¡Œä¸€éƒ¨åˆ†ä»£ç ã€‚å½“ä½ å°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶æ—¶ï¼Œè¿™å°éƒ¨åˆ†ä»£ç åœ¨ chunk ids å’Œ åŒ¹é…çš„æ–‡ä»¶ä¹‹é—´å¼€å§‹äº†ä¸€ä¸ªæ˜ å°„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vendor.e6ea4504d61a1cc1c60b.js</span></span><br><span class="line">script.src = __webpack_require__.p + chunkId + <span class="string">"."</span> + &#123;</span><br><span class="line">  <span class="string">"0"</span>: <span class="string">"2f2269c7f0a55a5c1871"</span></span><br><span class="line">&#125;[chunkId] + <span class="string">".js"</span>;</span><br></pre></td></tr></table></figure><p>Webpack å°†æœ€æ–°ç”Ÿæˆçš„ chunk åŒ…å«åœ¨è¿™ä¸ª runtime å†…ï¼Œè¿™ä¸ª chunk å°±æ˜¯æˆ‘ä»¬ä»£ç ä¸­çš„<code>vendor</code>ã€‚ä¸æ­¤åŒæ—¶æ¯ä¸€æ¬¡ä»»ä½• <code>chunk</code> çš„æ”¹å˜ï¼Œè¿™ä¸€å°éƒ¨åˆ†ä»£ç ä¹Ÿæ”¹å˜ï¼Œå¯¼è‡´æ•´ä¸ª <code>vendor</code> <code>chunk</code> ä¹Ÿä¼šæ”¹å˜ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°† runtime è½¬ä¹‰åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œé€šè¿‡<code>CommonsChunkPlugin</code>åˆ›å»ºä¸€ä¸ªé¢å¤–çš„ç©ºçš„ chunkï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'vendor'</span>,</span><br><span class="line"></span><br><span class="line">      minChunks: <span class="function"><span class="params">module</span> =&gt;</span> <span class="built_in">module</span>.context &amp;&amp;</span><br><span class="line">        <span class="built_in">module</span>.context.includes(<span class="string">'node_modules'</span>),</span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// This plugin must come after the vendor one (because webpack</span></span><br><span class="line">    <span class="comment">// includes runtime into the last chunk)</span></span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// minChunks: Infinity means that no app modules</span></span><br><span class="line">      <span class="comment">// will be included into this chunk</span></span><br><span class="line">      minChunks: <span class="literal">Infinity</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®Œæˆè¿™ä¸€éƒ¨åˆ†æ”¹å˜ï¼Œæ¯ä¸€æ¬¡ build éƒ½å°†ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: ac01483e8fec1fa70676</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 3816ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">   ./main.00bab6fd3100008a42b0.js    82 kB       0  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       1  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å°†ä»–ä»¬åè¿‡æ¥é¡ºåºæ·»åŠ åˆ° index.html ä¸­ï¼Œä½ å°±æå®šäº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./runtime.79f17c27b335abc7aaf4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./vendor.26886caf15818fa82dfa.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./main.00bab6fd3100008a42b0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Further-reading-5"><a href="#Further-reading-5" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack guide <a href="https://webpack.js.org/guides/caching/" target="_blank" rel="noopener">on long term caching</a></li><li>Webpack docs <a href="https://webpack.js.org/concepts/manifest/" target="_blank" rel="noopener">about webpack runtime and manifest</a></li><li><a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">â€œGetting the most out of the CommonsChunkPluginâ€</a></li></ul><h3 id="Inline-webpack-runtime-to-save-an-extra-HTTP-request-å†…è”-webpack-runtime-èŠ‚çœé¢å¤–çš„-HTTP-è¯·æ±‚"><a href="#Inline-webpack-runtime-to-save-an-extra-HTTP-request-å†…è”-webpack-runtime-èŠ‚çœé¢å¤–çš„-HTTP-è¯·æ±‚" class="headerlink" title="Inline webpack runtime to save an extra HTTP request å†…è” webpack runtime èŠ‚çœé¢å¤–çš„ HTTP  è¯·æ±‚"></a>Inline webpack runtime to save an extra HTTP request å†…è” webpack runtime èŠ‚çœé¢å¤–çš„ HTTP  è¯·æ±‚</h3><p>ä¸ºäº†åšçš„æ›´å¥½ï¼Œå°½åŠ›æŠŠ webpack runtime å†…è”åœ¨ HTML è¯·æ±‚é‡Œã€‚ä¸‹é¢ä¸¾ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./runtime.79f17c27b335abc7aaf4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·åšï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">!<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">r</span>)</span>&#123;<span class="keyword">if</span>(t[r])<span class="keyword">return</span> t[r].exports;â€¦&#125;&#125; ([]);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ª runtime å¾ˆå°ï¼Œå†…è”å®ƒå¯ä»¥å¸®åŠ©ä½ èŠ‚çœ HTTP è¯·æ±‚ï¼ˆå°¤å…¶å¯¹ HTTP/1 é‡è¦ï¼›ä½†æ˜¯åœ¨ HTTP/2 å°±æ²¡æœ‰é‚£ä¹ˆé‡è¦äº†ï¼Œä½†æ˜¯ä»èƒ½å¤Ÿæé«˜æ•ˆç‡ï¼‰ã€‚</p><p>ä¸‹é¢å°±æ¥çœ‹çœ‹å¦‚ä½•åšã€‚</p><h4 id="å¦‚æœä½¿ç”¨-HtmlWebpackPlugin-æ¥ç”Ÿæˆ-HTML"><a href="#å¦‚æœä½¿ç”¨-HtmlWebpackPlugin-æ¥ç”Ÿæˆ-HTML" class="headerlink" title="å¦‚æœä½¿ç”¨ HtmlWebpackPlugin æ¥ç”Ÿæˆ HTML"></a>å¦‚æœä½¿ç”¨ HtmlWebpackPlugin æ¥ç”Ÿæˆ HTML</h4><p>å¦‚æœä½¿ç”¨ <a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener"><code>HtmlWebpackPlugin</code></a> æ¥ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œ<a href="https://github.com/rohitlodha/html-webpack-inline-chunk-plugin" target="_blank" rel="noopener"><code>InlineChunkWebpackPlugin</code></a> å°±è¶³å¤Ÿäº†ã€‚</p><h4 id="å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ-HTML"><a href="#å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ-HTML" class="headerlink" title="å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ HTML"></a>å¦‚æœä½¿ç”¨è‡ªå·±çš„å®šåˆ¶æœåŠ¡é€»è¾‘æ¥ç”Ÿæˆ HTML</h4><p>1.å°† <code>runtime</code> åç§°æ”¹æˆé™æ€çš„æ˜ç¡®çš„æ–‡ä»¶åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span>,</span><br><span class="line">      minChunks: <span class="literal">Infinity</span>,</span><br><span class="line">      filename: <span class="string">'runtime.js'</span>,</span><br><span class="line">        <span class="comment">// â†’ Now the runtime file will be called</span></span><br><span class="line">        <span class="comment">// â€œruntime.jsâ€, not â€œruntime.79f17c27b335abc7aaf4.jsâ€</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>2.ä»¥æ–¹ä¾¿çš„æ–¹å¼å°† runtime.js åµŒå…¥è¿›å»ã€‚æ¯”å¦‚ï¼šNode.js å’Œ Express</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> runtimeContent = fs.readFileSync(<span class="string">'./runtime.js'</span>, <span class="string">'utf-8'</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.send(<span class="string">`</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">    &lt;script&gt;<span class="subst">$&#123;runtimeContent&#125;</span>&lt;/script&gt;</span></span><br><span class="line"><span class="string">    â€¦</span></span><br><span class="line"><span class="string">  `</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h3><p>æœ‰æ—¶å€™ï¼Œé¡µé¢æ‹¥æœ‰æˆ–å¤šæˆ–å°‘çš„éƒ¨åˆ†ï¼š</p><ul><li>å¦‚æœä½ åœ¨ YouTube ä¸ŠåŠ è½½ä¸€ä¸ªè§†é¢‘é¡µé¢ï¼Œç›¸æ¯”è¯„è®ºåŒºåŸŸä½ æ›´åœ¨ä¹è§†é¢‘åŒºåŸŸã€‚è¿™å°±æ˜¯è§†é¢‘è¦æ¯”è¯„è®ºåŒºåŸŸé‡è¦ã€‚</li><li>å¦‚æœä½ åœ¨ä¸€ä¸ªæ–°é—»ç½‘ç«™æ‰“å¼€ä¸€ä¸ªæŠ¥é“ï¼Œç›¸æ¯”å¹¿å‘ŠåŒºåŸŸä½ æ›´å…³å¿ƒæ–‡ç« çš„å†…å®¹ã€‚è¿™å°±æ˜¯æ–‡å­—æ¯”å¹¿å‘Šæ›´é‡è¦ã€‚</li></ul><p>åœ¨è¿™äº›æ¡ˆä¾‹ä¸­ï¼Œé€šè¿‡ä»…ä¸‹è½½æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæ‡’åŠ è½½å‰©ä½™åŒºåŸŸèƒ½å¤Ÿæå‡æœ€åˆçš„åŠ è½½æ€§èƒ½ã€‚ä½¿ç”¨ <a href="https://webpack.js.org/api/module-methods/#import-" target="_blank" rel="noopener">the <code>import()</code> function</a> å’Œ <a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="noopener">code-splitting</a> è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// videoPlayer.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderVideoPlayer</span>(<span class="params"></span>) </span>&#123; â€¦ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// comments.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderComments</span>(<span class="params"></span>) </span>&#123; â€¦ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;renderVideoPlayer&#125; <span class="keyword">from</span> <span class="string">'./videoPlayer'</span>;</span><br><span class="line">renderVideoPlayer();</span><br><span class="line"></span><br><span class="line"><span class="comment">// â€¦Custom event listener</span></span><br><span class="line">onShowCommentsClick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">'./comments'</span>).then(<span class="function">(<span class="params">comments</span>) =&gt;</span> &#123;</span><br><span class="line">    comments.renderComments();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>import()</code>æ˜ç¡®è¡¨ç¤ºä½ æœŸæœ›åŠ¨æ€åœ°åŠ è½½ç‹¬ç«‹çš„ moduleã€‚å½“ webpack çœ‹åˆ° <code>import(&#39;./module.js&#39;)</code>æ—¶ï¼Œä»–å°±ä¼šå°†è¿™ä¸ª module ç§»åˆ°ç‹¬ç«‹çš„ chunk ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: 39b2a53cb4e73f0dc5b2</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 4273ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.f7e53d8e13e9a2745d6d.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.4f14b6326a80f4752a98.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”åªåœ¨ä»£ç æ‰§è¡Œåˆ° <code>import()</code> æ‰ä¼šä¸‹è½½ã€‚</p><p>è¿™å°†ä¼šè®© main bundle æ›´å°ï¼Œæå‡åˆå§‹åŠ è½½çš„æ—¶é—´ã€‚æ›´é‡è¦çš„æ˜¯æ”¹è¿›ç¼“å­˜ - å¦‚æœä½ ä¿®æ”¹ main chunk çš„ä»£ç ï¼Œå…¶ä»–éƒ¨åˆ†çš„ chunk ä¹Ÿä¸ä¼šå—å½±å“ã€‚</p><blockquote><p>Note: å¦‚æœä½¿ç”¨ Babel ç¼–è¯‘ä»£ç ï¼Œä½ ä¼šå› ä¸º Babel è¿˜ä¸è®¤è¯† <em>import()</em> è€Œé‡åˆ°è¯­æ³•é”™è¯¯æŠ›å‡ºæ¥ã€‚å¯ä»¥ä½¿ç”¨ <a href="https://www.npmjs.com/package/babel-plugin-syntax-dynamic-import" target="_blank" rel="noopener"><code>syntax-dynamic-import</code></a> è§£å†³è¿™ä¸ªé”™è¯¯ã€‚</p></blockquote><h4 id="Further-reading-6"><a href="#Further-reading-6" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack docs <a href="https://webpack.js.org/api/module-methods/#import-" target="_blank" rel="noopener">for the <code>import()</code> function</a></li><li>The JavaScript proposal <a href="https://github.com/tc39/proposal-dynamic-import" target="_blank" rel="noopener">for implementing the <code>import()</code> syntax</a></li></ul><h3 id="Split-the-code-into-routes-and-pages-æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­"><a href="#Split-the-code-into-routes-and-pages-æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­" class="headerlink" title="Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­"></a>Split the code into routes and pages æ‹†åˆ†ä»£ç åˆ°è·¯ç”±å’Œé¡µé¢ä¸­</h3><p>å¦‚æœä½ çš„åº”ç”¨æ‹¥æœ‰å¤šä¸ªè·¯ç”±æˆ–è€…é¡µé¢ï¼Œä½†æ˜¯ä»£ç ä¸­åªæœ‰å•ç‹¬ä¸€ä¸ª JS æ–‡ä»¶ï¼ˆä¸€ä¸ªå•ç‹¬çš„ main chunkï¼‰ï¼Œè¿™çœ‹èµ·æ¥ä½ æ­£åœ¨æ¯ä¸€ä¸ªè¯·æ±‚ä¸­èŠ‚çœé¢å¤–çš„ bytes å¸¦å®½ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“ç”¨æˆ·æ­£åœ¨è®¿é—®ä½ ç½‘ç«™çš„é¦–é¡µï¼š</p><p><img src="https://img10.360buyimg.com/uba/jfs/t17272/291/466883786/44644/f5b82d7c/5a8159b0N4fe9f50d.png" alt="site-home-page"></p><p>ä»–ä»¬å¹¶ä¸éœ€è¦åŠ è½½å¦å¤–ä¸åŒçš„é¡µé¢ä¸Šæ¸²æŸ“æ–‡ç« æ ‡é¢˜çš„çš„ä»£ç  - ä½†æ˜¯ä»–ä»¬è¿˜æ˜¯ä¼šåŠ è½½åˆ°è¿™æ®µä»£ç ã€‚æ›´ä¸¥é‡çš„æ˜¯å¦‚æœç”¨æˆ·ç»å¸¸åªè®¿é—®é¦–é¡µï¼ŒåŒæ—¶ä½ è¿˜ç»å¸¸æ”¹å˜æ¸²æŸ“æ–‡ç« æ ‡é¢˜çš„ä»£ç ï¼Œwebpack å°†ä¼šå¯¹æ•´ä¸ª bundle å¤±æ•ˆ - ç”¨æˆ·æ¯æ¬¡éƒ½ä¼šé‡å¤ä¸‹è½½å…¨éƒ¨ app çš„ä»£ç ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†ä»£ç æ‹†åˆ†åˆ°é¡µé¢é‡Œï¼ˆæˆ–è€…å•é¡µé¢åº”ç”¨çš„è·¯ç”±é‡Œï¼‰ï¼Œç”¨æˆ·å°±ä¼šåªä¸‹è½½å¯¹ä»–æœ‰æ„ä¹‰çš„ä»£ç ã€‚æ›´å¥½çš„æ˜¯ï¼Œæµè§ˆå™¨ä¹Ÿä¼šæ›´å¥½åœ°ç¼“å­˜ä»£ç ï¼šå½“ä½ æ”¹å˜é¦–é¡µçš„ä»£ç æ—¶ï¼Œwebpack åªä¼šè®©ç›¸åŒ¹é…çš„ chunk å¤±æ•ˆã€‚</p><h4 id="For-single-page-apps-å¯¹äºå•é¡µé¢åº”ç”¨"><a href="#For-single-page-apps-å¯¹äºå•é¡µé¢åº”ç”¨" class="headerlink" title="For single-page apps å¯¹äºå•é¡µé¢åº”ç”¨"></a>For single-page apps å¯¹äºå•é¡µé¢åº”ç”¨</h4><p>é€šè¿‡è·¯ç”±æ‹†åˆ†å¸¦é¡µé¢å¼•ç”¨ï¼Œä½¿ç”¨ <code>import()</code>ï¼ˆçœ‹çœ‹ <a href="https://developers.google.com/web/fundamentals/performance/webpack/use-long-term-caching#lazy-loading" target="_blank" rel="noopener">â€œLazy-load code that you donâ€™t need right nowâ€</a>è¿™éƒ¨åˆ†ï¼‰ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨ä¸€ä¸ªæ¡†æ¶ï¼Œç°åœ¨å·²ç»æœ‰æˆç†Ÿçš„æ–¹æ¡ˆï¼š</p><ul><li><a href="https://reacttraining.com/react-router/web/guides/code-splitting" target="_blank" rel="noopener">â€œCode Splittingâ€</a> in <code>react-router</code>â€˜s docs (for React)</li><li><a href="https://router.vuejs.org/en/advanced/lazy-loading.html" target="_blank" rel="noopener">â€œLazy Loading Routesâ€</a> in <code>vue-router</code>â€˜s docs (for Vue.js)</li></ul><h4 id="For-traditional-multi-page-apps-å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨"><a href="#For-traditional-multi-page-apps-å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨" class="headerlink" title="For traditional multi-page apps å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨"></a>For traditional multi-page apps å¯¹äºä¼ ç»Ÿçš„å¤šé¡µé¢åº”ç”¨</h4><p>é€šè¿‡é¡µé¢æ‹†åˆ†ä¼ ç»Ÿå¤šé¡µé¢åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ webpack çš„ <a href="https://webpack.js.org/concepts/entry-points/" target="_blank" rel="noopener"><em>entry points</em></a> ã€‚å¦‚æœä½ çš„åº”ç”¨æœ‰ä¸‰ç§é¡µé¢ï¼šä¸»é¡µã€æ–‡ç« é¡µã€ç”¨æˆ·è´¦æˆ·é¡µï¼Œé‚£å°±åˆ†å‚ä¸‰ä¸ª entriesï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    home: <span class="string">'./src/Home/index.js'</span>,</span><br><span class="line">    article: <span class="string">'./src/Article/index.js'</span>,</span><br><span class="line">    profile: <span class="string">'./src/Profile/index.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ¯ä¸€ä¸ª entry æ–‡ä»¶ï¼Œwebpack å°†æ„å»ºå‡ºç‹¬ç«‹çš„ä¾èµ–æ ‘ï¼Œå¹¶ä¸”å£°ç§°ä¸€ä¸ª bundleï¼Œå®ƒå°†é€šè¿‡ entry æ¥åªåŒ…æ‹¬ç”¨åˆ°çš„ modulesï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: 318d7b8490a7382bf23b</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 4273ms</span><br><span class="line">                            Asset     Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./home.91b9ed27366fe7e33d6a.js    18 kB       1  [emitted]  home</span><br><span class="line">./article.87a128755b16ac3294fd.js    32 kB       2  [emitted]  article</span><br><span class="line">./profile.de945dc02685f6166781.js    24 kB       3  [emitted]  profile</span><br><span class="line"> ./vendor.4f14b6326a80f4752a98.js    46 kB       4  [emitted]  vendor</span><br><span class="line">./runtime.318d7b8490a7382bf23b.js  1.45 kB       5  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œå¦‚æœä»…ä»…æ˜¯æ–‡ç« é¡µä½¿ç”¨ <em>Lodash</em> ï¼Œ<em>home</em> å’Œ <em>profile</em> çš„ bundle å°†ä¸ä¼šåŒ…å« lodash - åŒæ—¶ç”¨æˆ·ä¹Ÿä¸ä¼šåœ¨è®¿é—®é¦–é¡µçš„æ—¶å€™ä¸‹è½½åˆ°è¿™ä¸ªåº“ã€‚</p><p>æ‹†åˆ†ä¾èµ–æ ‘ä¹Ÿæœ‰ç¼ºç‚¹ã€‚å¦‚æœä¸¤ä¸ª entry points éƒ½ç”¨åˆ°äº† <em>loadash</em> ï¼ŒåŒæ—¶ä½ æ²¡æœ‰åœ¨ <em>vendor</em> ç§»é™¤æ‰ä¾èµ–ï¼Œä¸¤ä¸ª entry points å°†åŒ…æ‹¬ä¸¤ä¸ªé‡å¤çš„ <em>lodash</em> ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ - å®ƒä¼šå°†é€šç”¨çš„ä¾èµ–è½¬ç§»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      <span class="comment">// A name of the chunk that will include the common dependencies</span></span><br><span class="line">      name: <span class="string">'common'</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// The plugin will move a module into a common file</span></span><br><span class="line">      <span class="comment">// only if itâ€™s included into `minChunks` chunks</span></span><br><span class="line">      <span class="comment">// (Note that the plugin analyzes all chunks, not only entries)</span></span><br><span class="line">      minChunks: <span class="number">2</span>,    <span class="comment">// 2 is the default value</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>éšæ„ä½¿ç”¨<code>minChunks</code>çš„å€¼æ¥æ‰¾åˆ°æœ€ä¼˜çš„é€‰é¡¹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ æƒ³è¦å®ƒå°½å¯èƒ½ä½“ç§¯å°ï¼Œä½†å®ƒä¼šå¢åŠ  chunks çš„æ•°é‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œ3 ä¸ª chunkï¼Œ<code>minChunks</code> å¯èƒ½æ˜¯ 2 ä¸ªï¼Œä½†æ˜¯ 30 ä¸ª chunkï¼Œå®ƒå¯èƒ½æ˜¯ 8 ä¸ª - å› ä¸ºå¦‚æœä½ æŠŠå®ƒè®¾ç½®æˆ 2 ï¼Œè¿‡å¤šçš„ modules å°†ä¼šæ‰“åŒ…è¿›ä¸€ä¸ªé€šç”¨æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶æ›´è‡ƒè‚¿ã€‚</p><h4 id="Further-reading-7"><a href="#Further-reading-7" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack docs <a href="https://webpack.js.org/concepts/entry-points/" target="_blank" rel="noopener">about the concept of entry points</a></li><li>Webpack docs <a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener">about the CommonsChunkPlugin</a></li><li><a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">â€œGetting the most out of the CommonsChunkPluginâ€</a></li></ul><h3 id="Make-module-ids-more-stable-è®©-module-ide-æ›´ç¨³å®š"><a href="#Make-module-ids-more-stable-è®©-module-ide-æ›´ç¨³å®š" class="headerlink" title="Make module ids more stable è®© module ide æ›´ç¨³å®š"></a>Make module ids more stable è®© module ide æ›´ç¨³å®š</h3><p>å½“ç¼–è¯‘ä»£ç æ—¶ï¼Œwebpack ä¼šåˆ†é…ç»™æ¯ä¸€ä¸ª module ä¸€ä¸ª IDã€‚ä¹‹åï¼Œè¿™äº› ID å°±ä¼šè¢«<code>require()</code>å¼•ç”¨åˆ° bundle å†…éƒ¨ã€‚ä½ å¯ä»¥åœ¨ç¼–è¯‘è¾“å‡ºçš„å³ä¾§åœ¨ moudle è·¯å¾„ä¹‹å‰çœ‹åˆ°è¿™äº› IDï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.8ecaf182f5c85b7a8199.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.4e50a16675574df6a9e9.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>â†“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[0] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">[2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">[3] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br><span class="line">[4] ./comments.js 58 kB &#123;0&#125; [built]</span><br><span class="line">[5] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line"> + 1 hidden module</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº› ID æ˜¯ä½¿ç”¨è®¡æ•°å™¨è®¡ç®—å‡ºæ¥çš„ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ª module æ˜¯ ID 0ï¼Œç¬¬äºŒä¸ª moudle å°±æ˜¯ ID 1ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚è¿™æ ·çš„é—®é¢˜å°±åœ¨äºå½“ä½ æ–°å¢ä¸€ä¸ª module äº‹ï¼Œå®ƒä¼šå‡ºç°åœ¨åŸæ¥ module åˆ—è¡¨ä¸­çš„ä¸­é—´ï¼Œæ”¹å˜åé¢æ‰€æœ‰ module çš„ IDï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.5c82c0f337fcb22672b5.js    22 kB       0  [emitted]</span><br><span class="line">   ./main.0c8b617dfc40c2827ae3.js    82 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.26886caf15818fa82dfa.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.79f17c27b335abc7aaf4.js  1.45 kB       3  [emitted]  runtime</span><br><span class="line">   [0] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">   [2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">   [3] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ æˆ‘ä»¬å¢åŠ ä¸€ä¸ªæ–° module</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[4] ./webPlayer.js 24 kB &#123;1&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ ç°åœ¨çœ‹è¿™é‡Œåšäº†ä»€ä¹ˆï¼<code>comments.js</code>ç°åœ¨çš„ ID ç”± 4 å˜æˆäº† 5</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[5] ./comments.js 58 kB &#123;0&#125; [built]</span><br></pre></td></tr></table></figure><p>â†“ <code>ads.js</code> çš„ ID ç”± 5 å˜æˆ 6</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[6] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line">       + 1 hidden module</span><br></pre></td></tr></table></figure><p>è¿™å°†ä½¿åŒ…å«æˆ–ä¾èµ–äºå…·æœ‰æ›´æ”¹IDçš„æ¨¡å—çš„æ‰€æœ‰å—æ— æ•ˆ - å³ä½¿å®ƒä»¬çš„å®é™…ä»£ç æ²¡æœ‰æ›´æ”¹ã€‚åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œ_0_è¿™ä¸ª chunk å’Œ <em>main</em> chunk éƒ½ä¼šå¤±æ•ˆ - åªæœ‰<em>main</em>æ‰åº”è¯¥å¤±æ•ˆã€‚</p><p>ä½¿ç”¨<a href="https://webpack.js.org/plugins/hashed-module-ids-plugin/" target="_blank" rel="noopener"><code>HashedModuleIdsPlugin</code></a>æ’ä»¶æ”¹å˜module ID å¦‚ä½•è®¡ç®—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒåˆ©ç”¨ module è·¯å¾„çš„ hash æ¥æ›¿æ¢æ‰è®¡æ•°å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line">Hash: df3474e4f76528e3bbc9</span><br><span class="line">Version: webpack 3.8.1</span><br><span class="line">Time: 2150ms</span><br><span class="line">                           Asset      Size  Chunks             Chunk Names</span><br><span class="line">      ./0.6168aaac8461862eab7a.js  22.5 kB       0  [emitted]</span><br><span class="line">   ./main.a2e49a279552980e3b91.js    60 kB       1  [emitted]  main</span><br><span class="line"> ./vendor.ff9f7ea865884e6a84c8.js    46 kB       2  [emitted]  vendor</span><br><span class="line">./runtime.25f5d0204e4f77fa57a1.js  1.45 kB       3  [emitted]  runtime</span><br></pre></td></tr></table></figure><p>â†“ Here</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[3IRH] ./index.js 29 kB &#123;1&#125; [built]</span><br><span class="line">[DuR2] (webpack)/buildin/global.js 488 bytes &#123;2&#125; [built]</span><br><span class="line">[JkW7] (webpack)/buildin/module.js 495 bytes &#123;2&#125; [built]</span><br><span class="line">[LbCc] ./webPlayer.js 24 kB &#123;1&#125; [built]</span><br><span class="line">[lebJ] ./comments.js 58 kB &#123;0&#125; [built]</span><br><span class="line">[02Tr] ./ads.js 74 kB &#123;1&#125; [built]</span><br><span class="line">    + 1 hidden module</span><br></pre></td></tr></table></figure><p>æœ‰äº†è¿™ä¸ªæ–¹æ³•ï¼Œåªæœ‰ä½ é‡å‘½åæŠ¤ç€åˆ é™¤è¿™ä¸ª moudle å®ƒçš„ ID æ‰ä¼šå˜åŒ–ã€‚æ–°çš„ modules ä¸ä¼šå› ä¸º module ID äº’ç›¸å½±å“ã€‚</p><p>å¯ç”¨è¿™ä¸ªæ’ä»¶ï¼Œåœ¨é…ç½®ä¸­å¢åŠ  <em>plugins</em>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.HashedModuleIdsPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="Further-reading-8"><a href="#Further-reading-8" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Webpack docs <a href="https://webpack.js.org/plugins/hashed-module-ids-plugin/" target="_blank" rel="noopener">about the HashedModuleIdsPlugin</a></li></ul><h3 id="Summing-up"><a href="#Summing-up" class="headerlink" title="Summing up"></a>Summing up</h3><ul><li>Cache the bundle and differentiate between them by changing their names</li><li>Split the bundle into app code, vendor code and runtime</li><li>Inline the runtime to save an HTTP request</li><li>Lazy-load non-critical code with <code>import</code></li><li>Split code by routes/pages to avoid loading unnecessary stuff</li></ul><hr><h2 id="Monitor-and-analyze-the-app-ç›‘æ§å¹¶åˆ†æ"><a href="#Monitor-and-analyze-the-app-ç›‘æ§å¹¶åˆ†æ" class="headerlink" title="Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ"></a>Monitor and analyze the app ç›‘æ§å¹¶åˆ†æ</h2><p>ä½œè€… <a href="https://developers.google.com/web/resources/contributors/iamakulov" target="_blank" rel="noopener">Ivan Akulov</a></p><p>å³ä½¿å½“ä½ é…ç½®å¥½ä½ çš„ webpack è®©ä½ çš„åº”ç”¨å°½å¯èƒ½ä½“ç§¯è¾ƒå°çš„æ—¶å€™ï¼Œè·Ÿè¸ªè¿™ä¸ªåº”ç”¨å°±éå¸¸é‡è¦ï¼ŒåŒæ—¶äº†è§£é‡Œé¢åŒ…å«äº†ä»€ä¹ˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ å®‰è£…ä¸€ä¸ªä¾èµ–ï¼Œå®ƒå°†è®©ä½ çš„ app å¢åŠ ä¸¤å€å¤§å° - ä½†å¹¶æ²¡æœ‰æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ï¼</p><p>è¿™ä¸€éƒ¨åˆ†å°±æ¥è®²è§£ä¸€äº›èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£ä½ çš„ bundle çš„å·¥å…·ã€‚</p><h3 id="Keep-track-of-the-bundle-size-è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯"><a href="#Keep-track-of-the-bundle-size-è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯" class="headerlink" title="Keep track of the bundle size è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯"></a>Keep track of the bundle size è·Ÿè¸ªæ‰“åŒ…çš„ä½“ç§¯</h3><p>åœ¨å¼€å‘æ—¶å¯ä»¥ä½¿ç”¨<a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a>å’Œå‘½ä»¤è¡Œ<a href="https://github.com/siddharthkp/bundlesize" target="_blank" rel="noopener">bundlesize</a> æ¥ç›‘æ§ app çš„ä½“ç§¯ã€‚</p><h4 id="webpack-dashboard"><a href="#webpack-dashboard" class="headerlink" title="webpack-dashboard"></a>webpack-dashboard</h4><p><a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a>å¯ä»¥é€šè¿‡ä¾èµ–ä½“ç§¯å¤§å°ã€è¿›ç¨‹å’Œå…¶ä»–ç»†èŠ‚æ¥æ”¹è¿› webpack çš„è¾“å‡ºã€‚</p><p><img src="http://img30.360buyimg.com/uba/jfs/t16294/169/2125639991/38263/ad862ba/5a8159c0N0da38a60.png" alt="webpack-dashboard"></p><p>è¿™ä¸ª dashborad å¸®åŠ©æˆ‘ä»¬è·Ÿè¸ªå¤§å‹ä¾èµ– - å¦‚æœä½ å¢åŠ ä¸€ä¸ªä¾èµ–ï¼Œä½ å°±ç«‹åˆ»èƒ½åœ¨ Modules section å§‹ç»ˆçœ‹åˆ°å®ƒï¼</p><p>å¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦å®‰è£… <em>webpack-dashboard</em> åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dashboard --save-dev</span><br></pre></td></tr></table></figure><p> åŒæ—¶åœ¨é…ç½®çš„ plugins å¢åŠ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> DashboardPlugin = <span class="built_in">require</span>(<span class="string">'webpack-dashboard/plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> DashboardPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…å¦‚æœæ­£åœ¨ä½¿ç”¨åŸºäº Express dev server å¯ä»¥ä½¿ç”¨ <code>compiler.apply()</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compiler.apply(new DashboardPlugin());</span><br></pre></td></tr></table></figure><p>å¤šå°è¯• dashboard æ‰¾å‡ºæ”¹è¿›çš„åœ°æ–¹ï¼æ¯”å¦‚ï¼Œåœ¨ modules section æ»šåŠ¨æ‰¾åˆ°é‚£ä¸ªåº“ä½“ç§¯è¿‡å¤§ï¼ŒæŠŠå®ƒæ›¿æ¢æˆå°çš„å¯æ›¿ä»£çš„åº“ã€‚</p><h4 id="bundlesize"><a href="#bundlesize" class="headerlink" title="bundlesize"></a>bundlesize</h4><p><a href="https://github.com/siddharthkp/bundlesize" target="_blank" rel="noopener">bundlesize</a> å¯ä»¥éªŒè¯ webpack assets ä¸è¶…è¿‡æŒ‡å®šçš„å¤§å°ã€‚é€šè¿‡è‡ªåŠ¨åŒ– CI å°±å¯ä»¥çŸ¥æ™“ app æ˜¯å¦å˜çš„è¿‡äºè‡ƒè‚¿ï¼š</p><p><img src="https://img30.360buyimg.com/uba/jfs/t15808/165/2111159728/110001/633e93ab/5a8159cdN1c575a1f.jpg" alt="bundlesize"></p><p>é…ç½®å¦‚ä¸‹ï¼š</p><h5 id="Find-out-the-maximum-sizes-æ‰¾å‡ºæœ€å¤§ä½“ç§¯"><a href="#Find-out-the-maximum-sizes-æ‰¾å‡ºæœ€å¤§ä½“ç§¯" class="headerlink" title="Find out the maximum sizes æ‰¾å‡ºæœ€å¤§ä½“ç§¯"></a><strong>Find out the maximum sizes</strong> æ‰¾å‡ºæœ€å¤§ä½“ç§¯</h5><p>1.åˆ†æ app å°½å¯èƒ½å‡å°ä½“ç§¯ï¼Œæ‰§è¡Œç”Ÿäº§ç¯å¢ƒçš„ buildã€‚<br>2.åœ¨<code>package.json</code>ä¸­å¢åŠ <code>bundlesize</code>éƒ¨åˆ†ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundlesize"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/*"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.ä½¿ç”¨<code>npx</code>æ‰§è¡Œ<code>bundlesize</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx bundlesize</span><br></pre></td></tr></table></figure><p>å®ƒå°±ä¼šå°†æ¯ä¸€ä¸ªæ–‡ä»¶çš„ gzip å‹ç¼©åçš„ä½“ç§¯æ‰“å°å‡ºæ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PASS  ./dist/icon256.6168aaac8461862eab7a.png:  10.89KB PASS./dist/icon512.c3e073a4100bd0c28a86.png:  13.1KB PASS./dist/main.0c8b617dfc40c2827ae3.js:  16.28KB PASS./dist/vendor.ff9f7ea865884e6a84c8.js:  31.49KB</span><br></pre></td></tr></table></figure><p>4.æ¯ä¸€ä¸ªä½“ç§¯å¢åŠ 10-20%ï¼Œä½ å°†å¾—åˆ°æœ€å¤§ä½“ç§¯ã€‚è¿™ä¸ª10-20ï¼…çš„å¹…åº¦å¯ä»¥è®©ä½ åƒå¾€å¸¸ä¸€æ ·å¼€å‘åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶è­¦å‘Šä½ ï¼Œå½“å®ƒçš„å¤§å°å¢é•¿å¤ªå¤šã€‚</p><h5 id="Enable-bundlesize-å¯ç”¨-bundlesize"><a href="#Enable-bundlesize-å¯ç”¨-bundlesize" class="headerlink" title="Enable bundlesize å¯ç”¨ bundlesize"></a><strong>Enable <code>bundlesize</code></strong> å¯ç”¨ bundlesize</h5><p>5.å®‰è£…<em>bundlesize</em>å¼€å‘ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install bundlesize --save-dev</span><br></pre></td></tr></table></figure><p>6.åœ¨<code>package.json</code>ä¸­çš„<code>bundlesize</code>éƒ¨åˆ†ï¼Œå£°æ˜å…·ä½“çš„æœ€å¤§å€¼ã€‚å¯¹äºæŸä¸€äº›æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œä½ å¯ä»¥å•ç‹¬æ ¹æ®æ–‡ä»¶ç±»å‹æ¥è®¾ç½®æœ€å¤§ä½“ç§¯å¤§å°ï¼Œè€Œä¸éœ€è¦æ ¹æ®æ¯ä¸€ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"bundlesize"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/*.png"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"16 kB"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/main.*.js"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"20 kB"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"path"</span>: <span class="string">"./dist/vendor.*.js"</span>,</span><br><span class="line">      <span class="attr">"maxSize"</span>: <span class="string">"35 kB"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.å¢åŠ ä¸€ä¸ª npm è„šæœ¬æ¥æ‰§è¡Œæ£€æŸ¥ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"check-size"</span>: <span class="string">"bundlesize"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.é…ç½®è‡ªåŠ¨åŒ– CI æ¥åœ¨æ¯ä¸€æ¬¡ push æ—¶æ‰§è¡Œ<code>npm run check-size</code>åšæ£€æŸ¥ã€‚ï¼ˆå¦‚æœä½ åœ¨ Github ä¸Šå¼€å‘é¡¹ç›®ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨<a href="https://github.com/siddharthkp/bundlesize#2-build-status" target="_blank" rel="noopener">integrate <code>bundlesize</code> with GitHub</a>ã€‚ï¼‰</p><p>è¿™å°±å…¨éƒ¨äº†ï¼ç°åœ¨å¦‚æœä½ è¿è¡Œ<code>npm run check-size</code>æˆ–è€… push ä»£ç ï¼Œä½ å°±ä¼šçœ‹åˆ°è¾“å‡ºçš„æ–‡ä»¶æ˜¯å¦è¶³å¤Ÿå°ï¼š</p><p><img src="https://img14.360buyimg.com/uba/jfs/t14890/146/2205111432/17457/fa7f748a/5a8159dcN17378d16.png" alt="bundlesize-output-success"></p><p>æˆ–è€…ä¸‹é¢å¤±è´¥çš„æƒ…å†µ</p><p><img src="https://img11.360buyimg.com/uba/jfs/t16969/198/453213154/26368/834a1c7f/5a8159e8Nc1f5ffe8.png" alt="bundlesize-output-failure"></p><h4 id="Further-reading-9"><a href="#Further-reading-9" class="headerlink" title="Further reading"></a>Further reading</h4><ul><li>Alex Russell <a href="https://infrequently.org/2017/10/can-you-afford-it-real-world-web-performance-budgets/" target="_blank" rel="noopener">about the real-world loading time we should target</a></li></ul><h3 id="Analyze-why-the-bundle-is-so-large-åˆ†æ-bundle-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§"><a href="#Analyze-why-the-bundle-is-so-large-åˆ†æ-bundle-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§" class="headerlink" title="Analyze why the bundle is so large åˆ†æ bundle ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§"></a>Analyze why the bundle is so large åˆ†æ bundle ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§</h3><p>ä½ æƒ³è¦æ·±æŒ– bundle å†…ï¼Œçœ‹çœ‹é‡Œé¢å…·ä½“å“ªäº› module å ç”¨å¤šå¤§ç©ºé—´ã€‚<a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a></p><p>(Screen recording from <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">github.com/webpack-contrib/webpack -bundle-analyzer</a>)</p><p>webpack-bundle-analyzer å¯ä»¥æ‰«æ bundle åŒæ—¶æ„å»ºä¸€ä¸ªæŸ¥çœ‹å†…éƒ¨çš„å¯è§†åŒ–çª—å£ã€‚ä½¿ç”¨è¿™ä¸ªå¯è§†åŒ–å·¥å…·æ‰¾åˆ°è¿‡å¤§æˆ–è€…ä¸å¿…è¦çš„ä¾èµ–ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªåˆ†æå™¨ï¼Œéœ€è¦å®‰è£…<code>webpack-bundle-analyzer</code>åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer --save-dev</span><br></pre></td></tr></table></figure><p>åœ¨ config ä¸­å¢åŠ æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> BundleAnalyzerPlugin = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> BundleAnalyzerPlugin(),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç”Ÿäº§ç¯å¢ƒçš„ build è¿™ä¸ªæ’ä»¶å°±ä¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªæ˜¾ç¤ºçŠ¶æ€çš„é¡µé¢ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé¡µé¢ä¼šæ˜¾ç¤ºè¯­æ³•åˆ†æåçš„æ–‡ä»¶ä½“ç§¯ï¼ˆåœ¨ bundle å‡ºç°çš„æ–‡ä»¶ï¼‰ã€‚æ‚¨å¯èƒ½æƒ³æ¯”è¾ƒ gzip çš„å¤§å°ï¼Œå› ä¸ºè¿™æ›´æ¥è¿‘å®é™…ç”¨æˆ·çš„ä½“éªŒï¼›ä½¿ç”¨å·¦è¾¹çš„è¾¹æ æ¥åˆ‡æ¢å°ºå¯¸ã€‚</p><blockquote><p>Note: å¦‚æœä½ ä½¿ç”¨ <a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener">ModuleConcatenationPlugin</a>ï¼Œå®ƒå¯èƒ½åœ¨webpack-bundle-analyzerè¾“å‡ºæ—¶åˆå¹¶ä¸€éƒ¨åˆ† moduleï¼Œä½¿å¾—æŠ¥å‘Šå°ä¸€äº›ç»†èŠ‚ã€‚å¦‚æœä½ ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œåœ¨æ‰§è¡Œåˆ†æçš„æ—¶å€™éœ€è¦ç¦ç”¨æ‰ã€‚</p></blockquote><p>ä¸‹é¢æ˜¯æŠ¥å‘Šä¸­éœ€è¦çœ‹ä»€ä¹ˆï¼š</p><ul><li><strong>å¤§å‹ä¾èµ–</strong> ä¸ºä»€ä¹ˆä½“ç§¯è¿™ä¹ˆå¤§ï¼Ÿæ˜¯å¦æœ‰æ›´å°çš„æ›¿ä»£åŒ…ï¼ˆæ¯”å¦‚ Preact æ›¿ä»£ Reactï¼‰ï¼Ÿç”¨äº†å…¨éƒ¨ä»£ç ï¼ˆæ¯”å¦‚ Moment.js åŒ…å«å¤§é‡çš„æœ¬åœ°å˜é‡ <a href="https://github.com/GoogleChromeLabs/webpack-libs-optimizations#moment" target="_blank" rel="noopener">that are often not used and could be dropped</a>ï¼‰ï¼Ÿ</li><li><strong>é‡å¤ä¾èµ–</strong> æ˜¯å¦åœ¨ä¸åŒæ–‡ä»¶ä¸­çœ‹åˆ°ç›¸åŒçš„åº“ï¼Ÿï¼ˆä½¿ç”¨<em>CommonsChunkPlugin</em>å°†ä»–ä»¬ç§»åˆ°ä¸€ä¸ªé€šç”¨æ–‡ä»¶å†…ï¼‰äº¦æˆ–æ˜¯åœ¨åŒä¸€ä¸ªåº“ä¸­ bundle æ‹¥æœ‰å¤šä¸ªç‰ˆæœ¬ï¼Ÿ</li><li><strong>ç›¸ä¼¼ä¾èµ–</strong> æ˜¯å¦å­˜åœ¨æœ‰ç›¸ä¼¼åŠŸèƒ½çš„ç›¸ä¼¼åº“å­˜åœ¨ï¼Ÿï¼ˆæ¯”å¦‚<em>moment</em>å’Œ<em>date-fns</em> æˆ–è€… <em>lodash</em> å’Œ <em>lodash-es</em>ï¼‰å°½åŠ›æ±‡æ€»æˆä¸€ä¸ªã€‚</li></ul><p>åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ Sean Larkin çš„æ–‡ç«  <a href="https://medium.com/webpack/webpack-bits-getting-the-most-out-of-the-commonschunkplugin-ab389e5f318" target="_blank" rel="noopener">great analysis of webpack bundles</a>ã€‚</p><h3 id="Summing-up-1"><a href="#Summing-up-1" class="headerlink" title="Summing up"></a>Summing up</h3><ul><li>Use <code>webpack-dashboard</code> and <code>bundlesize</code> to stay tuned of how large your app is</li><li>Dig into what builds up the size with <code>webpack-bundle-analyzer</code></li></ul><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æ€»ç»“ä¸€ä¸‹ï¼š</p><ul><li><strong>å‰”é™¤ä¸å¿…è¦çš„ä½“ç§¯</strong> æŠŠæ‰€æœ‰çš„éƒ½å‹ç¼©ï¼Œå‰”é™¤æ— ç”¨ä»£ç ï¼Œå¢åŠ ä¾èµ–æ˜¯ä¿æŒè°¨æ…å°å¿ƒã€‚</li><li><strong>é€šè¿‡è·¯ç”±æ‹†åˆ†ä»£ç </strong> åªåœ¨çœŸæ­£éœ€è¦çš„æ—¶å€™æ‰åŠ è½½ï¼Œå…¶ä»–çš„éƒ¨åˆ†åšæ¥åŠ è½½ã€‚</li><li><strong>ç¼“å­˜ä»£ç </strong> åº”ç”¨ç¨‹åºçš„æŸäº›éƒ¨åˆ†æ›´æ–°é¢‘ç‡ä½äºå…¶ä»–éƒ¨åˆ†ï¼Œå°†è¿™äº›éƒ¨åˆ†æ‹†åˆ†æˆæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶ä»…é‡æ–°ä¸‹è½½ã€‚</li><li><strong>è·Ÿè¸ªä½“ç§¯å¤§å°</strong> ä½¿ç”¨  <a href="https://github.com/FormidableLabs/webpack-dashboard/" target="_blank" rel="noopener">webpack-dashboard</a> å’Œ <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a> ç›‘æ§ä½ çš„ appã€‚æ¯éš”å‡ ä¸ªæœˆé‡æ–°æ£€æŸ¥ä¸€ä¸‹ä½ çš„åº”ç”¨çš„æ€§èƒ½ã€‚</li></ul><p>Webpack ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ æ›´å¿«åˆ›å»º app çš„å·¥å…·ã€‚å®ƒè¿˜å¸®åŠ©ä½¿ä½ çš„ app æˆä¸º <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">a Progressive Web App</a> ï¼Œä½ çš„åº”ç”¨æ‹¥æœ‰æ›´å¥½çš„ä½“éªŒä»¥åŠè‡ªåŠ¨åŒ–çš„å¡«å……å·¥å…·å°±åƒ<a href="https://developers.google.com/web/tools/lighthouse/" target="_blank" rel="noopener">Lighthouse</a>æ ¹æ®ç¯å¢ƒç»™å‡ºå»ºè®®ã€‚</p><p>ä¸è¦å¿˜è®°é˜…è¯» <a href="https://webpack.js.org/guides/" target="_blank" rel="noopener">webpack docs</a> - é‡Œé¢æä¾›äº†å¤§é‡çš„ä¼˜åŒ–çš„ä¿¡æ¯ã€‚</p><p>å¤šå¤šç»ƒä¹  <a href="https://github.com/GoogleChromeLabs/webpack-training-project" target="_blank" rel="noopener">with the training app</a>ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½œè€… &lt;a href=&quot;https://developers.google.com/web/resources/contributors/addyosmani&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Addy Osmani&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://developers.google.com/web/resources/contributors/iamakulov&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ivan Akulov&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸæ–‡ &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/webpack/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developers.google.com/web/fundamentals/performance/webpack/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç¿»è¯‘" scheme="https://beanlee.github.io/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="Webpack" scheme="https://beanlee.github.io/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘NPM vs Bower vs Browserify vs Gulp vs Grunt vs Webpack</title>
    <link href="https://beanlee.github.io/2016/06/17/NPM-vs-Bower-vs-Browserify-vs-Gulp-vs-Grunt-vs-Webpack/"/>
    <id>https://beanlee.github.io/2016/06/17/NPM-vs-Bower-vs-Browserify-vs-Gulp-vs-Grunt-vs-Webpack/</id>
    <published>2016-06-17T06:35:33.000Z</published>
    <updated>2018-02-27T04:24:49.991Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡åœ¨ Stack overflow çœ‹åˆ°çš„ä¸€ç¯‡é—®é¢˜å’Œå›ç­”ï¼Œå¯¹äºè‡ªå·±æœ‰ä¸€äº›è§£æƒ‘</p><a id="more"></a><p><a href="http://stackoverflow.com/questions/35062852/npm-vs-bower-vs-browserify-vs-gulp-vs-grunt-vs-webpack" target="_blank" rel="noopener">Source Link</a></p><h2 id="ä½œè€…é—®é¢˜"><a href="#ä½œè€…é—®é¢˜" class="headerlink" title="ä½œè€…é—®é¢˜"></a>ä½œè€…é—®é¢˜</h2><blockquote><p>æè¿°ï¼šæˆ‘æ­£åœ¨è¯•ç€æ€»ç»“å…³äºæœ€æµè¡Œçš„ Javascript åŒ…ç®¡ç†å™¨ï¼Œæ‰“åŒ…å™¨å’Œä»»åŠ¡æ‰§è¡Œå™¨çš„çŸ¥è¯†ã€‚å¦‚æœæœ‰é”™è¯¯è¯·çº æ­£æˆ‘ã€‚</p></blockquote><ul><li><code>npm</code> &amp; <code>bower</code> æ˜¯åŒ…ç®¡ç†å·¥å…·ã€‚ä»–ä»¬åªæ˜¯å°†ä¾èµ–æ–‡ä»¶ä¸‹è½½ï¼Œå¹¶ä¸çŸ¥é“åœ¨ä¸‹è½½è¿™äº›æ–‡ä»¶çš„åŸºç¡€ä¸Šå¦‚ä½•ç¼–è¯‘é¡¹ç›®ã€‚ä»–ä»¬çŸ¥é“çš„æ˜¯åœ¨è·å–æ‰€æœ‰ä¾èµ–ä¹‹åå»è°ƒç”¨ <code>webpack</code>/<code>gulp</code>/<code>grunt</code> ã€‚</li><li><code>bower</code> å¾ˆåƒ <code>npm</code> ï¼Œä½†æ˜¯ç¼–è¯‘ä¾èµ–æ ‘ä¸åœ¨è¡Œï¼ˆä¸åƒ <code>npm</code> é‚£æ ·é€’å½’ç€è¿›è¡Œï¼‰ã€‚æ„å‘³ç€ <code>npm</code> è·å–æ¯ä¸€ä¾èµ–ï¼ˆå¯èƒ½è·å–å‡ æ¬¡ç›¸åŒçš„æ–‡ä»¶ï¼‰ï¼Œç„¶è€Œ <code>bower</code> æœŸæœ›ä½ æ‰‹åŠ¨å»åŒ…å«å­ä¾èµ–ã€‚æœ‰æ—¶å€™ <code>bower</code> å’Œ <code>npm</code> å¯ä»¥ä¸€èµ·è¢«ä½¿ç”¨ï¼Œåˆ†åˆ«ä½œç”¨å‰ç«¯å’Œåç«¯ï¼ˆåœ¨å‰ç«¯æ¯ä¸€mbéƒ½å¾ˆé‡è¦ï¼‰ã€‚</li><li><code>glup</code> å’Œ <code>gulp</code> æ˜¯ä»»åŠ¡è¿è¡Œå™¨ï¼Œç›®çš„æ˜¯å°†èƒ½å¤Ÿè¢«è‡ªåŠ¨åŒ–çš„æ‰€æœ‰äº‹ä»»åŠ¡è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚ï¼ˆæ¯”å¦‚ç¼–è¯‘css/sassï¼Œå¤„ç†å›¾ç‰‡ï¼Œæ‰“åŒ…è¿˜æœ‰æœ€å°åŒ–æ··æ·†ä»£ç ï¼‰ã€‚</li><li><code>grunt</code> vs <code>gulp</code> ï¼ˆå°±åƒ<code>maven</code> vs <code>gradle</code> æˆ–æ˜¯ é…ç½® vs ç¼–ç ï¼‰ã€‚Grunt æ˜¯åŸºäºåˆ†ç¦»ç‹¬ç«‹çš„ä»»åŠ¡é…ç½®çš„ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡å¼€å§‹ï¼å¤„ç†ï¼å…³é—­æ–‡ä»¶ã€‚Gulp éœ€è¦å°‘é‡ä»£ç ï¼Œå¹¶ä¸”åŸºäº node streamsï¼Œé‚£å…è®¸å®ƒç¼–è¯‘é“¾ï¼ˆw/oé‡å¤æ‰“å¼€ç›¸åŒæ–‡ä»¶ï¼‰è€Œä¸”æ‰§è¡Œå¾ˆå¿«ã€‚</li><li><code>webpack</code> (<code>webpack-dev-server</code>) å¯¹äºæˆ‘æ¥è¯´ï¼Œå®ƒæ˜¯ä»»åŠ¡æ‰§è¡Œå™¨éšç€å˜åŒ–çƒ­åŠ è½½ï¼Œé‚£äº›å…è®¸ä½ å¿˜è®°å…³äºæ‰€æœ‰js/cssçš„ç›‘è§†å™¨ã€‚</li><li><code>npm</code>/<code>bower</code>+plugin å¯ä»¥æ›¿ä»£ä»»åŠ¡è¿è¡Œå™¨ã€‚ä»–ä»¬çš„èƒ½åŠ›ç»å¸¸äº¤å‰å› æ­¤å¦‚æœä½ éœ€è¦ä½¿ç”¨ <code>gulp</code>/<code>grunt</code> åœ¨ npm+plugin ä¹‹ä¸Šæ—¶å­˜åœ¨ç€ä¸åŒçš„æ½œåœ¨å½±å“ã€‚ä½†æ˜¯ä»»åŠ¡è¿è¡Œå™¨å¤„ç†å¤æ‚ä»»åŠ¡å®šä¹‰çš„æ›´å¥½ï¼ˆæ¯”å¦‚ â€œåœ¨æ¯ä¸€ä¸ªç¼–è¯‘æ‰“åŒ…ï¼Œä»ES6è½¬ä¹‰æˆES5ï¼Œåœ¨æ‰€æœ‰æµè§ˆå™¨ä»¿çœŸå™¨ä¸Šè¿è¡Œï¼Œåˆ¶ä½œé•œåƒè¿˜æœ‰é€šè¿‡ftpéƒ¨ç½²åˆ°dropboxâ€ï¼‰ã€‚</li><li><code>browserify</code> å…è®¸ä¸ºæµè§ˆå™¨æ‰“åŒ…nodeæ¨¡å—ã€‚<code>browserify</code> vs <code>node&#39;s require</code> å°±åƒ <a href="https://addyosmani.com/writing-modular-js/" target="_blank" rel="noopener">AMD vs CommonJS</a></li></ul><h3 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h3><ul><li>ä»€ä¹ˆæ˜¯ webpack å’Œ webpack-dev-server ï¼Ÿå®˜æ–¹æ–‡æ¡£è¯´å®ƒæ˜¯æ¨¡å—æ‰“åŒ…å™¨ï¼Œä½†å¯¹äºæˆ‘è€Œè¨€ï¼Œå®ƒçŸ¥è¯†ä»»åŠ¡è¿è¡Œå·¥å…·ã€‚æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</li><li>ä½ åœ¨å“ªé‡Œç”¨åˆ° browserify ï¼Ÿæˆ‘ä»¬èƒ½ä¸èƒ½å’Œ nodeï¼ES6 ä¸€æ ·åšï¼Ÿ</li><li>ä½ ä»€ä¹ˆæ—¶å€™åœ¨ npm + plugins åŸºç¡€ä¸Šä½¿ç”¨ <code>gulp</code>/<code>grunt</code> ï¼Ÿ</li></ul><h2 id="Beat-Answer"><a href="#Beat-Answer" class="headerlink" title="Beat Answer"></a>Beat Answer</h2><p><code>Webpack</code> å’Œ <code>Browerify</code> åšäº†å¾ˆå¤šç›¸åŒçš„å·¥ä½œï¼Œæ¯”å¦‚ç”¨äºåœ¨ä¸€ä¸ªæµè§ˆå™¨ç¯å¢ƒé’Ÿæ‰“åŒ…ä½ çš„æ¨¡å—ã€‚è¿™ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ª Node ç‰¹å¾ï¼Œå®ƒä¸åœ¨æµè§ˆå™¨ä¸­å­˜åœ¨ï¼Œå¹¶ä¸” ES6 ä¸­çš„ <code>import</code> è¿˜æ²¡æœ‰åœ¨ä»»ä½•æµè§ˆå™¨ä¸­å®ç°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦è¢«æ‰“åŒ…ã€‚ä½†æ˜¯ï¼Œä»–ä»¬åœ¨å¾ˆå¤šæ–¹å¼ä¸Šæ˜¯æœ‰åŒºåˆ«çš„ï¼Œ<code>Webpack</code> é»˜è®¤æä¾›å¾ˆå¤šå·¥å…·ï¼ˆæ¯”å¦‚ä»£ç æ‹†åˆ†ï¼‰ï¼Œ<code>Browerify</code> åªèƒ½åœ¨ä¸‹è½½æ’ä»¶ä¹‹åæ‰èƒ½åšè¿™äº›ï¼Œä½†æ˜¯ä½¿ç”¨è¿™ä¸¤ç§éƒ½èƒ½å®ç°ç›¸ä¼¼çš„æ•ˆæœã€‚å®ƒå–å†³äºä¸ªäººä¹ æƒ¯ï¼ˆæˆ‘å¸¸ä½¿ç”¨ <code>Webpack</code> ï¼‰ã€‚<code>Webpack</code> ä¸æ˜¯ä¸€ä¸ªä»»åŠ¡è¿è¡Œå™¨ï¼Œå®ƒåªæ˜¯ä½ é€šè¿‡CLIæˆ–ä»»åŠ¡è¿è¡Œå™¨ç›´æ¥è¿è¡Œæ–‡ä»¶çš„ä¸€ä¸ªä¸­é—´è¿‡ç¨‹å™¨ã€‚</p><p><code>Webpack-dev-server</code> æä¾›ç±»ä¼¼äº <code>Browser-sync</code> - å®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥å°†ä½ çš„ app éƒ¨ç½²çš„æœåŠ¡ï¼Œå¹¶ä¸”éªŒè¯ä½ çš„å‰ç«¯å¼€å‘è¿›ç¨‹ç›´æ¥é€šè¿‡ dev-server è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨æˆ–è€…åœ¨æ²¡æœ‰çƒ­éƒ¨ç½²çš„æƒ…å†µä¸‹ä¼ æ’­å˜åŒ–ï¼ˆæ¯”å¦‚ React componentsï¼‰ã€‚</p><p>æˆ‘ä¸ºäº†é¡¹ç›®çš„å®Œæ•´å’Œç®€å•çš„ä»»åŠ¡ç¼–å†™å·²ç»ä½¿ç”¨<code>Gulp</code>ï¼Œä½†æ˜¯æˆ‘åæ¥å‘ç°æˆ‘æ—¢ä¸éœ€è¦<code>Gulp</code>ä¹Ÿä¸éœ€è¦<code>Grunt</code>ã€‚æ‰€æœ‰æˆ‘éœ€è¦çš„éƒ½å¯ä»¥ä½¿ç”¨<code>npm</code>ç»„åˆè„šæœ¬å»è¿è¡Œç¬¬ä¸‰æ–¹å·¥å…·åˆ©ç”¨å®ƒä»¬çš„ API å®Œæˆã€‚åœ¨<code>Gulp</code>ï¼Œ<code>Grunt</code>å’Œ<code>npm script</code>ä¹‹é—´é€‰æ‹©å–å†³äºä½ çš„éœ€è¦ã€JS ç»éªŒå’Œä½ å·¥ä½œæ—¶çš„å¼€å‘ç»éªŒã€‚</p><p>å½“ç„¶<code>Gulp</code>ä¸­çš„ä»»åŠ¡æ˜¯æ˜“è¯»çš„ï¼Œç”šè‡³ä¸JSä¸æ˜¯å¾ˆç›¸ä¼¼ï¼Œå®ƒè¿˜æ˜¯å¼•ç”¨å’Œå­¦ä¹ å¦ä¸€ä¸ªå·¥å…·ï¼Œå¹¶ä¸”æˆ‘ä¸ªäººå€¾å‘äºç¼©å°æˆ‘çš„ä¾èµ–å¹¶ä¸”ä¿æŒç®€å•ã€‚å¦å¤–ä¸€é¢ï¼Œä½¿ç”¨npmç»„åˆè„šæœ¬å’Œè¿è¡Œæ–‡ä»¶ï¼ˆé…ç½®å’Œæ‰§è¡Œ<code>Webpack</code>æ–‡ä»¶ä¸­å‡½æ•°ï¼‰æ›¿ä»£è¿™äº›ä»»åŠ¡æ˜¯æ›´å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚ä½†æ˜¯é‡è¦çš„æ˜¯ä»–ä»¬ä¸‰ä¸ªçš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚</p><p>ä¸¾ä¾‹è¯´æˆ‘å»ºè®®ä½ çœ‹ä¸€çœ‹ <a href="https://github.com/kriasoft/react-starter-kit" target="_blank" rel="noopener">react starter project</a> ï¼Œå®ƒå¯ä»¥å‘ä½ å¾ˆå¥½çš„å±•ç¤º<code>npm</code>ç»„åˆè„šæœ¬ï¼Œ<code>Webpack</code>å’Œ<code>browser-sync</code>ã€‚å³ä½¿ä½ å¯ä»¥å¤„ç†ä½ çš„æºæ–‡ä»¶ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Gulp</code>æˆ–è€…<code>Grunt</code>è¿è¡Œä½ çš„å¼€å‘æœåŠ¡ï¼Œæˆ‘æ›´å–œæ¬¢ç¬¬ä¸€ä¸ªé€‰é¡¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€ç¯‡åœ¨ Stack overflow çœ‹åˆ°çš„ä¸€ç¯‡é—®é¢˜å’Œå›ç­”ï¼Œå¯¹äºè‡ªå·±æœ‰ä¸€äº›è§£æƒ‘&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç¿»è¯‘" scheme="https://beanlee.github.io/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="Webpack" scheme="https://beanlee.github.io/tags/Webpack/"/>
    
      <category term="NPM" scheme="https://beanlee.github.io/tags/NPM/"/>
    
  </entry>
  
  <entry>
    <title>Simple HTTP Server on OSX</title>
    <link href="https://beanlee.github.io/2016/05/31/Simple-HTTP-Server-on-OSX/"/>
    <id>https://beanlee.github.io/2016/05/31/Simple-HTTP-Server-on-OSX/</id>
    <published>2016-05-31T06:18:32.000Z</published>
    <updated>2018-02-27T04:23:12.972Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆå¤šé¡¹ç›®åœ¨å¼€å‘å‰æœŸæˆ–è€…ä»…æœ‰ HTML/CSS/JS æ–‡ä»¶ï¼Œæœ¬åœ°æƒ³è¦é¢„è§ˆæ•ˆæœè€Œä¸å¸Œæœ›æœ¬åœ°å¯åŠ¨ Apache æˆ–è€… Nginx éš¾å…æœ‰äº›éº»çƒ¦ï¼ŒMac OSX å…¶å®å†…ç½®Pythonï¼Œé€šè¿‡ä¸‹é¢ä¸¤æ¡å‘½ä»¤å°±å¯ä»¥å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªç®€å• HTTP æœåŠ¡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>cd path/project/folder</span><br><span class="line"><span class="meta">$</span>python -m SimpleHTTPServer 8080</span><br></pre></td></tr></table></figure><p>Tada, thus you have got a HTTP server which port is 8080.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">control + c // stop it</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¾ˆå¤šé¡¹ç›®åœ¨å¼€å‘å‰æœŸæˆ–è€…ä»…æœ‰ HTML/CSS/JS æ–‡ä»¶ï¼Œæœ¬åœ°æƒ³è¦é¢„è§ˆæ•ˆæœè€Œä¸å¸Œæœ›æœ¬åœ°å¯åŠ¨ Apache æˆ–è€… Nginx éš¾å…æœ‰äº›éº»çƒ¦ï¼ŒMac OSX å…¶å®å†…ç½®Pythonï¼Œé€šè¿‡ä¸‹é¢ä¸¤æ¡å‘½ä»¤å°±å¯ä»¥å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªç®€å• HTTP æœåŠ¡ã€‚&lt;/p&gt;
&lt;figure class=&quot;h
      
    
    </summary>
    
      <category term="Mac" scheme="https://beanlee.github.io/categories/Mac/"/>
    
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘I know how to program, but I don&#39;t know what to program</title>
    <link href="https://beanlee.github.io/2016/05/19/WANQU-Program-Beginning/"/>
    <id>https://beanlee.github.io/2016/05/19/WANQU-Program-Beginning/</id>
    <published>2016-05-19T14:10:01.000Z</published>
    <updated>2018-02-27T04:22:10.489Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ¹¾åŒºç®€è¯„ï¼šè¿™æ˜¯å¾ˆå¤šåˆå­¦ç¼–ç¨‹çš„äººï¼Œå°¤å…¶æ˜¯é€šè¿‡å¤§å­¦é‡Œçš„ç¼–ç¨‹è¯¾å­¦ä¹ å†™ç¨‹åºçš„äººé¢ä¸´çš„é—®é¢˜ã€‚é™¤äº†åˆ·ç¼–ç¨‹ç«èµ›é¢˜ã€åšè¯¾åç¼–ç¨‹é¢˜å¤–ï¼Œå†™ç¨‹åºèƒ½åšä»€ä¹ˆï¼Ÿæ–‡ç« ç»™çš„å»ºè®®æˆ‘èµåŒï¼šå…ˆå°è¯•å»å†™è‡ªå·±ä¹Ÿä¼šç”¨åˆ°çš„è‡ªåŠ¨åŒ–çš„å°å·¥å…·ã€‚å¦‚æœé¡ºåºåè¿‡æ¥ï¼Œå·²ç»çŸ¥é“è¦åšä»€ä¹ˆäº†ï¼ˆæ¯”å¦‚åšç½‘ç«™ã€åšæŸä¸ªå…·ä½“åŠŸèƒ½çš„appã€åšæŸä¸ªæœ‰å®é™…ç”¨é€”çš„å·¥å…·ï¼‰ï¼Œå†å»å­¦ç¼–ç¨‹ï¼Œä¼šä¸ä¼šæ•ˆæœæ›´å¥½ï¼Ÿ</p></blockquote><a id="more"></a><h2 id="ã€è¯‘ã€‘æˆ‘çŸ¥é“å¦‚ä½•ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ‹¿æ¥å¹²ä»€ä¹ˆ"><a href="#ã€è¯‘ã€‘æˆ‘çŸ¥é“å¦‚ä½•ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ‹¿æ¥å¹²ä»€ä¹ˆ" class="headerlink" title="ã€è¯‘ã€‘æˆ‘çŸ¥é“å¦‚ä½•ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ‹¿æ¥å¹²ä»€ä¹ˆ"></a>ã€è¯‘ã€‘æˆ‘çŸ¥é“å¦‚ä½•ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ‹¿æ¥å¹²ä»€ä¹ˆ</h2><p><a href="http://www.devdungeon.com/content/i-know-how-program-i-dont-know-what-program?utm_source=wanqu.co&amp;utm_campaign=Wanqu+Daily&amp;utm_medium=ios" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p><p>å½“æˆ‘é¢å¯¹åˆšå…¥é—¨çš„å¼€å‘è€…æ—¶æ€»æœ‰ä¸€ä¸ªé‡å¤çš„ä¸»é¢˜ã€‚ä»–ä»¬å·²ç»æŠŠä»–ä»¬çš„æ—¶é—´æŠ•å…¥åˆ°å­¦ä¹ ä¸€é—¨æˆ–è€…ä¸¤é—¨ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€ä¸Šï¼Œå¹¶ä¸”ä»–ä»¬è½»æ¾åœ°å®Œæˆä¸€äº›ç¼–ç¨‹ç»ƒä¹ ï¼Œä½†æ˜¯ä»–ä»¬ä¸çŸ¥é“æ€ä¹ˆæ¥å—ä»–ä»¬å·²ç»å­¦ä¹ çš„ä¸œè¥¿ã€‚é€šå¸¸æ¥è¯´ï¼Œå°±åƒâ€œæˆ‘çŸ¥é“å¦‚ä½•ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“ç¼–å†™ä»€ä¹ˆç¨‹åºâ€ã€‚æ ‡å¿—æ€§çš„å›ç­”æ˜¯â€œå®Œæˆä¸€äº›ç¼–ç¨‹æŒ‘æˆ˜â€ï¼Œâ€œç»™å¼€æºé¡¹ç›®è´¡çŒ®ä»£ç â€æˆ–è€…æ˜¯â€œåšä¸€æ¬¾æ¸¸æˆâ€ã€‚</p><p>å®Œæˆç¼–ç¨‹æŒ‘æˆ˜æœ‰ç›Šäºè„‘åŠ›ç»ƒä¹ ï¼Œä½†æ˜¯å®ƒä»¬å´åœ¨äººä»¬å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ–°ç¨‹åºä¸Šçš„å¸®åŠ©å¾ˆå°‘ã€‚ç»™å¼€æºé¡¹ç›®è´¡çŒ®ä»£ç æ˜¯ä¸€ä¸ªæé«˜çš„æ–¹å¼ã€‚ä½ å¯èƒ½ä¼šå­¦ä¹ åˆ°ä¸€ä¸ªçœŸå®é¡¹ç›®æ˜¯å¦‚ä½•æ¶æ„çš„ï¼Œå¹¶ä¸”åœ¨ç¼–ç¨‹è¯­è¨€æ–¹é¢æå‡ä½ çš„æŠ€å·§ï¼Œä½†æ˜¯ä¸ä¼šå­¦ä¹ åˆ°å¾ˆå¤šçš„å…³äºä¸€ä¸ªé¡¹ç›®æ•´ä¸ªç”Ÿå‘½ç¯çš„å†…å®¹ã€‚æŸäº›é¡¹ç›®éå¸¸å¤æ‚ï¼Œè¿™å¯èƒ½ä¼šå¯¹æ–°æ‰‹æ¥è¯´æ˜¯éå¸¸ææ€–çš„äº‹ã€‚ç¼–å†™ä¸€æ¬¾æ¸¸æˆæ˜¯å¦ä¸€ä¸ªæé«˜çš„æ–¹å¼ã€‚æ¸¸æˆæ˜¯æœ‰è¶£çš„ï¼æˆ‘ä»¥å‰æ›¾å¼€å§‹ç”¨ QBASIC ç¼–å†™æ¸¸æˆã€‚ç„¶è€Œå‘ç”Ÿäº†åŒæ ·çš„å›°å¢ƒã€‚â€œæˆ‘æƒ³è¦åšä¸€ä¸ªæ¸¸æˆï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“åšä»€ä¹ˆæ¸¸æˆâ€ã€‚</p><p>æ•™å¯¼éŸ³ä¹ç³»å­¦ç”Ÿè·Ÿç¼–ç¨‹ä¸€æ ·ï¼Œæˆ‘å·²ç»æ„è¯†åˆ°åœ¨éŸ³ä¹ç³»å­¦ç”Ÿä¸­å­˜åœ¨åŒæ ·çš„æ¨¡å¼ã€‚â€œæˆ‘çŸ¥é“å…¨éƒ¨çš„å’Œå¼¦ï¼Œå¹¶ä¸”æˆ‘å¼¹å¥å¾ˆç†Ÿç»ƒï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ€ä¹ˆæ ·å†™ä¸€é¦–æ­Œæ›²ã€‚â€åœ¨éŸ³ä¹ä¸­ï¼Œæˆ‘ä»¬ç¡®å®æœ‰ä¸€ä¸ªå¾ˆå¥½çš„è§£ç­”ã€‚åœ¨å­¦ä¹ åˆ›ä½œä¸­æœ‰ä¸€ä¸ªé€”å¾„ã€‚éŸ³ä¹å®¶é€šå¸¸ä¸ä»…ä»…ä»ä¸€å¼€å§‹å°±å†™è‡ªå·±çš„éŸ³ä¹ã€‚æœ‰äº›éŸ³ä¹å®¶æ°¸è¿œä¸ä¼šå‘æ‹¼å‡‘éŸ³ä¹å’ŒèŠ±æ‰ä¸€ç”Ÿæ—¶é—´æ¼”å¥ä»–äººéŸ³ä¹çš„æ–¹å‘å‘å±•ã€‚åœ¨ç¼–ç¨‹çš„ä¸–ç•Œï¼Œæ€åº¦æœ‰ä¸€ç‚¹ä¸åŒã€‚</p><p>åœ¨è½¯ä»¶ç¤¾åŒºæœ‰ä¸€ä¸ªè§„åˆ™æ˜¯â€œä¸è¦é‡å¤å‘æ˜è½®å­â€ã€‚å½“ä¸€ä¸ªæˆç†Ÿç¨³å®šçš„é€‰æ‹©å­˜åœ¨æ—¶ï¼Œå¦‚æœä½ é‡å†™ä¸€ä¸ªåº“é€šå¸¸æ˜¯ä¸è¢«èµæˆçš„ã€‚è™½ç„¶è¿™å¯¹äºä¸€èˆ¬äººæ¥è¯´æ˜¯ä¸€ä¸ªå¥½çš„è§„åˆ™ï¼Œä½†æ–°æ‰‹ä¸åº”è¯¥å®³æ€•é‡å¤å‘æ˜è½®å­ã€‚å½“ä¸ºäº†å­¦ä¹ æˆ–è€…ç»ƒä¹ å®Œæˆæ—¶ï¼Œå‘æ˜è½®å­æ˜¯å¯ä»¥çš„ï¼å®ƒæ˜¯å­¦ä¹ ä¸­ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼Œç¼–å†™ä½ è‡ªå·±ç‰ˆæœ¬çš„ lsï¼Œmvï¼Œwget æˆ–è€… cowsay å‘½ä»¤ã€‚å¦‚æœä½ æƒ³è¦èµ°æ¸¸æˆè·¯çº¿é‚£å¯ä»¥å…‹éš† Pongï¼ŒTetris æˆ–è€… Space Invaders æ¸¸æˆã€‚å®ƒä»¬ä¸éœ€è¦å…¨éƒ¨ç›¸åŒçš„ç‰¹ç‚¹æˆ–è€…ç²¾ç¡®å¤åˆ¶ï¼Œä½†æ˜¯ä½ å¯ä»¥å¸¦ç€ä½ çš„ç›®æ ‡å’Œç©ºç™½çš„è®¡åˆ’å¼€å§‹ç¼–ç¨‹ï¼Œä½ è¦æŠŠæ¸¸æˆå®ç°å‡ºæ¥ã€‚</p><ul><li><a href="https://github.com/greatcodeclub/pong" target="_blank" rel="noopener">pong</a></li><li><a href="https://github.com/Aerolab/blockrain.js" target="_blank" rel="noopener">blockrain.js</a> &amp; <a href="https://github.com/Hextris/hextris" target="_blank" rel="noopener">Hextris</a></li><li><a href="https://github.com/dwmkerr/spaceinvaders" target="_blank" rel="noopener">spaceinvaders</a> &amp; <a href="https://github.com/fat/space-tweet" target="_blank" rel="noopener">space-tweet</a></li></ul><p><img src="http://78renz.com1.z0.glb.clouddn.com/blog-20160519.png?imageslim" alt="games"></p><p>åœ¨ä½ å†™ç¨‹åºä¹‹å‰ä¸è¦æœ‰â€™å¿…é¡»æœ‰ä¸ªæœ€ä½³çš„ idea æ‰å¼€å§‹åŠ¨æ‰‹â€™è¿™ç§å¿µå¤´ã€‚æˆ‘è§åˆ°è¿‡åœ¨éŸ³ä¹å®¶ä¸­æœ‰ç›¸åŒçš„å¿ƒæ€ã€‚åœ¨ä»–ä»¬ç¬¬ä¸€æ¬¡å°è¯•æ—¶å°±åŠªåŠ›åˆ›é€ ä¸€ä¸ªé«˜æ°´å¹³ï¼Œè¿™èŠ±è´¹ä»–ä»¬å…¨éƒ¨çš„ç²¾åŠ›æŠ•å…¥åˆ°ä¸€é¦–ä¹æ›²ä¸­ã€‚é•¿è¿œçš„æ˜¯ä½ å°†ä¼šå†™å‡ºå¾ˆå¤šå¾ˆå¤šä¹æ›²ï¼Œä¸ä»…ä»…æ˜¯è¿™ä¸€é¦–ã€‚ä½ å®Œæˆçš„ç¬¬ä¸€æ”¯ä¹æ›²å¯èƒ½ä¸å¥½ï¼Œä½ å¾ˆå¯èƒ½æŠ›å¼ƒå®ƒã€‚è¿™æ²¡ä»€ä¹ˆã€‚åœ¨ä½ ç¬¬ä¸€æ¬¡å°è¯•æ—¶ï¼Œä¸è¦è¯•ç€æƒ³è¦å†™å‡ºæœ€å¥½çš„ç« èŠ‚ã€‚ä½ éœ€è¦å­¦ä¹ è°±æ›²çš„è¿‡ç¨‹ã€‚åœ¨ä½ å†™å¥½ç¨‹åºä¹‹å‰ä½ å°†ä¼šç¼–å†™å‡ºç³Ÿç³•çš„ç¨‹åºã€‚è¿ˆè¿‡å®ƒï¼Œå¾æœå®ƒï¼Œè·å–ç»éªŒä½ å°±èƒ½å¼€å§‹åœ¨éœ€æ±‚ä¸Šè‡ªç”±åˆ›ä½œå‘æŒ¥ã€‚</p><p>æˆ‘ä»¬å‘Šè¯‰äººä»¬ç”¨â€œHello , worldâ€åšå¼€ç«¯ã€‚å› ä¸ºè¿™æ˜¯ä»–ä»¬è¡Œç¨‹çš„ä¸€ä¸ªç‚¹ï¼Œå®Œæˆè¿™ä¸ªä»¥ä¸ºè¿™å¾æœäº†ä¸€ä¸ªåŸºç¡€åŸç†ã€‚ä½ å°±ç†è§£äº†å¦‚ä½•ç¼–è¯‘ï¼Œå¦‚ä½•è¿è¡Œï¼Œå¦‚ä½•è°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ä¸”ç»™å®ƒä¼ é€’å‚æ•°ã€‚ç¼–å†™ä¸€ä»½å·²ç»å­˜åœ¨è½¯ä»¶çš„å…‹éš†ç‰ˆæœ¬æ˜¯å¦å¤–ä¸€ä¸ªå¤§çš„è¿›æ­¥ï¼Œè·Ÿ hello world åŒç­‰é‡è¦ã€‚å½“ä½ å®Œæˆå®ƒæ—¶ï¼Œä½ å·²ç»å…‹æœäº†å¾ˆå¤šæŒ‘æˆ˜ã€‚ä½ å·²ç»å‘ç°å“ªé‡Œå¼€å§‹ï¼Œå¦‚ä½•è®¡åˆ’ï¼Œæ€ä¹ˆç»„ç»‡ï¼Œå¦‚ä½•å¤„ç† bug ï¼Œç»™å®ƒä¸€ä¸ªäººä¸ºçš„å¤„ç†ï¼Œå¹¶ä¸”æ‰“åŒ…æœ€åå®ƒå°±æˆä¸ºä¸€ä¸ªå¯ç”¨çš„ç‰ˆæœ¬ã€‚å³ä½¿ä½ ç¼–å†™ä¸€ä¸ªç®€å•ç¨‹åºçš„å…‹éš†ç‰ˆæœ¬ï¼Œä½ ä¹Ÿèƒ½å­¦ä¹ åˆ°å…¨éƒ¨è¿‡ç¨‹ã€‚</p><p>ä½ å¯èƒ½ä¼šå¥½å¥‡å¦‚ä½•å…‹éš†å·²ç»å­˜åœ¨çš„é¡¹ç›®ï¼Œå®ƒå°†å¸®åŠ©ä½ äº§ç”Ÿä¸€äº›æ–°æƒ³æ³•ã€‚æ¯”å¦‚åƒéŸ³ä¹ï¼Œå®ƒéœ€è¦åˆ›æ–°ã€‚æ¼”å¥ä»–äººçš„ä¹æ›²æ€ä¹ˆåšæ‰èƒ½å¸®åŠ©ä½ è°±å†™è‡ªå·±çš„ä¹è°±å‘¢ï¼Ÿä½ å¿…é¡»é¦–å…ˆç†è§£å…¶ä»–äººã€‚ä½ å¿…é¡»å»äº†è§£ä»–ä»¬å¦‚ä½•åˆ›ä½œçš„ï¼Œè¿˜æœ‰ä»–ä»¬ä½¿ç”¨äº†ä»€ä¹ˆæ¨¡å¼ã€‚å½“ä½ åšå®Œè¿™äº›è¶³å¤Ÿæ—¶é—´ä½ å°±å¼€å§‹ç€çœ¼ä»¥åï¼Œå¹¶ä¸”ä½ å·²ç»æœ‰ä¸°å¯Œçš„çŸ¥è¯†ç”¨æ¥æ€»ç»“ã€‚ä½ å°†ä»ä¸åŒåœ°æ–¹å­¦ä¹ åˆ°çš„å°éƒ¨åˆ†éŸ³èŠ‚ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä¸”é‡å¤ä¸€äº›ä½ äº†è§£çš„æ¨¡å¼ã€‚ä½ å¯èƒ½æ”¹è¿›ï¼Œç»„åˆï¼Œæˆ–è€…å®Œå…¨æ‰“ç ´ä½ å­¦ä¹ åˆ°çš„è¿™äº›æ¨¡å¼ã€‚å°±åƒä»–ä»¬æ‰€è¯´çš„ï¼Œä½ éœ€è¦äº†è§£è§„åˆ™ç›®çš„æ˜¯ç”¨æ¥çªç ´ä»–ä»¬ã€‚åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¹Ÿæœ‰é€šç”¨çš„æ¨¡å¼æ¯”å¦‚ MVC ã€‚è¿™æ˜¯ä¸€ä¸ªç¨³å®šçš„è¢«æ¥å—çš„ç¼–å†™è½¯ä»¶çš„æ¨¡å¼ã€‚åœ¨éŸ³ä¹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰é€šç”¨çš„æ¨¡å¼ã€‚æ¯”å¦‚ <a href="https://en.wikipedia.org/wiki/I%E2%80%93V%E2%80%93vi%E2%80%93IV_progression" target="_blank" rel="noopener">I-V-vi-IV</a>ã€‚å½“ç„¶å®ƒä¸æ˜¯å”¯ä¸€çš„ä¸€ä¸ªï¼Œä½†å®ƒæ˜¯å·²çŸ¥å¾ˆå¥½çš„ä¸€ä¸ªæ¨¡å¼ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™æ˜¯ç»éªŒå’Œåˆ›æ–°çš„ä¸€ä¸ªç»„åˆã€‚åˆ›æ–°æ˜¯ä¸€éƒ¨åˆ†äººä»¬ç»å¸¸åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­è¢«å¿½ç•¥çš„ä½†ä»–éå¸¸é‡è¦ã€‚ä½ æ›¾ç•™æ„è¿‡æœ‰å¤šå°‘ç¨‹åºå‘˜ä¹ŸåŒæ ·æ˜¯ä½œæ›²å®¶å—ï¼Ÿä¹æ›²åŒ…å«å¾ˆå¤šæŠ€æœ¯ä¸Šåˆ†æï¼Œæ¶æ„ï¼Œæ¨¡å¼å°½ç®¡å¾ˆå¤šäººè®¤ä¸ºä»–æ˜¯ä¸€ä¸ªçº¯ç²¹çš„åˆ›ä½œè¡Œä¸ºã€‚ç¼–ç¨‹æ˜¯ç»å¸¸è¢«çœ‹æˆæŠ€æœ¯æ€§çš„åŠ¨ä½œå°½ç®¡å®ƒå¤šæ•°æ˜¯åˆ›ä½œæ€§çš„è¡Œä¸ºã€‚ä½ å¯ä»¥åœ¨å¤åˆ¶å…¶ä»–é¡¹ç›®è¿‡ç¨‹ä¸­åŸ¹å…»åˆ›æ–°æ€§ã€‚ä¼´éšç€ä½ é€æ¸å®Œæˆä»–ä»¬ï¼Œä½ å°†ä¼šå‘ç°ä½ æœ‰äº†è‡ªå·±æ–°çš„æƒ³æ³•å»æ”¹è¿›ç¨‹åºï¼ŒæŠ‘æˆ–æ˜¯ä¸€ä¸ªæ–°çš„å¸¦æœ‰äº›è®¸ä¸ªæ€§çš„ç‰¹ç‚¹è¢«æ·»åŠ è¿›å»ã€‚å®ƒå°†ä¼šä¸ºæ–°é¡¹ç›®å¯å‘æ€è·¯ã€‚åˆ›æ–°éšæ—¶ä¼šå‡ºç°ï¼Œä½†æ˜¯ä½ éœ€è¦å…ˆå­¦ä¹ å¦‚ä½•æŠŠå®ƒé¦–å…ˆè°±å†™æˆæ­Œæ›²ã€‚</p><p>æ€»æœ‰ä¸€å¤©ï¼Œä½ å°†ä¼šå‘ç°ä½ å°†èƒ½å¤Ÿä¸ºæ‰€æœ‰äº‹ç¼–ç¨‹ã€‚ä½ å¯ä»¥è®©ä»»åŠ¡è‡ªåŠ¨åŒ–å¹¶ä¸”å¤„ç†é—®é¢˜ç†Ÿç»ƒã€‚å½“ä½ é¢å¯¹å°†ä¼šä½¿ä½ æ²¡æœ‰æ—¶é—´åº”å¯¹çš„è¯¸å¤šäº‹æƒ…æ—¶ï¼Œä½ å¤„ç†èµ·æ¥ä¹Ÿä¼šæ²¡æœ‰é—®é¢˜çš„ã€‚ä½ ä¹Ÿå°†æœ‰èƒ½åŠ›éšæ—¶è§£å†³é—®é¢˜ã€‚â€œå“¦ï¼Œè¿™æœ‰ä¸€ä¸ª100ä¸ªSheetçš„è¡¨æ ¼éœ€è¦è¢«æ ¼å¼åŒ–ï¼Œæ‹†åˆ†æˆæ–‡ä»¶ï¼Œè½¬æˆä¸€ä¸ª CSV æ–‡ä»¶ï¼Ÿé©¬ä¸Šå°±è§£å†³ï¼â€ä¸è¦è€½è¯¯æ—¶é—´å»å°è¯•åšæœªæ¥æœ€å¥½çš„äº‹ã€‚ç¼–å†™ä¸€äº›ä½ å°†ä¼šä½¿ç”¨åˆ°çš„ä¸œè¥¿ã€‚å…¶ä»–é¡¹ç›®çš„ç‚¹å­ä¹Ÿä¼šéšä¹‹è€Œæ¥ã€‚</p><p>ä½ ä»¬ä¸­æœ‰å¤šå°‘äººå·²ç»å¤„äºä½ æƒ³è±¡çš„â€œæˆ‘ä¸çŸ¥é“å†™ä»€ä¹ˆç¨‹åºï¼Ÿâ€è¿™ç§çš„çŠ¶æ€ï¼Ÿä½ æ˜¯æ€ä¹ˆè§£å†³å®ƒçš„ï¼Ÿå¦‚æœå¤„äºè¿™ç§çŠ¶æ€ä½ æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ</p><p><a href="http://www.devdungeon.com/content/i-know-how-program-i-dont-know-what-program?utm_source=wanqu.co&amp;utm_campaign=Wanqu+Daily&amp;utm_medium=ios" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p><p>æ¹¾åŒºæ—¥æŠ¥æ¨è</p><blockquote><p>è±†å­ç®€è¯„ï¼šå¯¹è‡ªå·±æœ‰ä¸€äº›å¯å‘ï¼Œç°åœ¨è½¬èŒä¸“é—¨åšå‰ç«¯ç›¸å…³çš„å·¥ä½œæ—¶é—´ä¸é•¿ï¼Œä» J2EE SQL  â€¦ åˆ° HTML CSS Javascript NodeJS â€¦ ã€‚è™½ç„¶å¯ä»¥è¾¾åˆ°åŸºæœ¬ç†Ÿæ‚‰ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥èŠ±è´¹ä¸é•¿çš„æ—¶é—´è¿™æ ·ä¸€ä¸ªçŠ¶æ€ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„åŠæ³•åœ¨æ¥è§¦åˆ°ä¸€ä¸ªæ–°æŠ€æœ¯æˆ–æ¡†æ¶æ—¶ï¼ŒçŸ­æ—¶é—´åœ°æ‹¿ç€è¿™äº›â€œæ–°å·¥å…·â€å»åšäº‹ï¼Œå…¶ä¸­åŸå› å¾ˆç±»ä¼¼äºâ€œI Know how to program, but I donâ€™t know what to program.â€ï¼Œå…ˆé€ ä¸€äº›è‡ªå·±èƒ½ç”¨å¾—ä¸Šçš„è½®å­å§ï¼Œåœ¨è‡ªå·±çš„ Lab é¡µå¤šæ›´æ–°ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      è¯‘æ–‡è®¡åˆ’
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="https://beanlee.github.io/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="ç¿»è¯‘" scheme="https://beanlee.github.io/tags/%E7%BF%BB%E8%AF%91/"/>
    
  </entry>
  
  <entry>
    <title>Notes Of 360 Front-End Lesson</title>
    <link href="https://beanlee.github.io/2015/11/22/Notes-Of-360FE-Lesson/"/>
    <id>https://beanlee.github.io/2015/11/22/Notes-Of-360FE-Lesson/</id>
    <published>2015-11-22T15:32:19.000Z</published>
    <updated>2018-04-19T16:12:02.042Z</updated>
    
    <content type="html"><![CDATA[<p>360å‰ç«¯è®­ç»ƒè¥ç¬”è®°<br><a id="more"></a></p><h1 id="360å‰ç«¯è®­ç»ƒè¥è¯¾å ‚ç¬”è®°-ï¼-å¥‡èˆå›¢ä¸Facebookç•…èŠå¤§å‰ç«¯"><a href="#360å‰ç«¯è®­ç»ƒè¥è¯¾å ‚ç¬”è®°-ï¼-å¥‡èˆå›¢ä¸Facebookç•…èŠå¤§å‰ç«¯" class="headerlink" title="360å‰ç«¯è®­ç»ƒè¥è¯¾å ‚ç¬”è®° ï¼ å¥‡èˆå›¢ä¸Facebookç•…èŠå¤§å‰ç«¯"></a>360å‰ç«¯è®­ç»ƒè¥è¯¾å ‚ç¬”è®° ï¼ å¥‡èˆå›¢ä¸Facebookç•…èŠå¤§å‰ç«¯</h1><h2 id="HTTP-2-æ·±å…¥æµ…å‡º"><a href="#HTTP-2-æ·±å…¥æµ…å‡º" class="headerlink" title="HTTP/2 æ·±å…¥æµ…å‡º"></a>HTTP/2 æ·±å…¥æµ…å‡º</h2><ul><li>å±ˆå…‰å®‡ Ququè€å¸ˆ <a href="https://imququ.com" target="_blank" rel="noopener">JerryQu çš„å°ç«™</a></li></ul><h3 id="Before-HTTP-2"><a href="#Before-HTTP-2" class="headerlink" title="Before HTTP/2"></a>Before HTTP/2</h3><p>åº”ç”¨å±‚åè®®ï¼ŒåŸºäºTCP<br>HTTP 0.9 æ²¡æœ‰è¯·æ±‚å¤´ï¼ŒGET<br>HTTP 1.0 å¢åŠ è¯·æ±‚ï¼å“åº”å¤´ï¼Œå¯ä»¥å“åº”mediaï¼Œcontent-typeï¼Œrefereæ¥æº<br>HTTP 1.1 æ”¯æŒæŒä¹…è¿æ¥ï¼Œkeep-aliveï¼Œæ”¯æŒä¼ è¾“ç¼–ç ï¼Œcontent-lengthï¼Œè¯·æ±‚èŒƒå›´rangeï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰ï¼Œcache-control,expires<br>SPDYåè®®æˆªæ­¢2015</p><p>ç»Ÿè®¡ï¼šé¡µé¢å¤§å°å’Œè¿æ¥æ•°ï¼ŒåŒä¸€ä¸ªé¡µé¢å¤šåŸŸå<br>TCPä¸€ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªè¯·æ±‚<br>keep-aliveã€ç®¡é“pipeliningï¼ˆåˆå¹¶è¯·æ±‚ï¼‰ã€åŸŸåæ•£åˆ—ï¼ˆå¤šåŸŸåå¢åŠ å¹¶å‘è¿æ¥æ•°ï¼‰ã€åè®®å¼€é”€ã€åˆå¹¶è¯·æ±‚ï¼ˆæ”¹å†™Ajaxï¼Œé›ªç¢§å›¾ã€cssjsåˆå¹¶ã€cssjså†…è”ã€å›¾ç‰‡å’ŒéŸ³é¢‘å†…è”base64ã€é˜»å¡æ¸²æŸ“ï¼Œæ ·å¼å†…è”ï¼ˆå¤šç”¨äºç§»åŠ¨ç«¯ï¼Œæ„ŸçŸ¥ç¼“å­˜ï¼‰</p><p>inputæ ‡ç­¾typeï¼textæ˜¯é»˜è®¤å€¼<br>H2Oï¼Œcan I useã€cleartextåå•†ï¼ŒHTTPSï¼Œmozillaå…è´¹è¯ä¹¦ï¼Œå…¨çƒå·²ç»å¼€é€šHTTPSç½‘ç«™å 63%</p><p>chromeåœ¨éHTTPSç¦ç”¨å…³äºè®¾å¤‡ä½¿ç”¨çš„APIï¼ŒALPN<br>HTTPï¼2-enabledï¼Œnet-internals/#http2ã€Wireshark<br>ä¼˜åŒ–ï¼ŒTLSï¼Œéå¯¹ç§°åŠ å¯†ï¼Œè¯ä¹¦å‡å°‘å±‚çº§ï¼ŒECCè¯ä¹¦ï¼ˆå¾ˆå°ï¼Œä½†æ˜¯å…¼å®¹æ€§é—®é¢˜ï¼Œvistaæ‰å¼€å§‹æ”¯æŒï¼Œç§»åŠ¨ç«¯å¯ä»¥è€ƒè™‘ï¼‰<br>HSTSï¼Œå¼ºåˆ¶HTTPSã€TLSå®‰å…¨æ¸…å•SSL</p><h3 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP/2"></a>HTTP/2</h3><ul><li>ä¼˜åŒ–</li></ul><p>ä¼˜åŒ–ï¼šå‡å°‘DNSæŸ¥è¯¢ï¼Œå‡å°‘åŸŸåã€å¯ç”¨é¢„è¯»ï¼Œå‡å°‘é‡å®šå‘ï¼Œä½¿ç”¨CDNï¼Œå‹ç¼©ï¼ˆPNGoutï¼Œpngcrushï¼‰ã€HTTPç¼“å­˜<br>ä¸éœ€è¦ï¼šåŸŸåæ•£åˆ—ï¼Œèµ„æºåˆå¹¶ï¼Œèµ„æºå†…è”</p><ul><li>æœ€ä½³å®è·µ</li></ul><p>å¯¹HTTP/2ä¼˜åŒ–çš„åŸŸåæ•£åˆ—ï¼Œå¤šåŸŸåæŒ‡å‘åŒä¸€IP<br>æ„ŸçŸ¥ç¼“å­˜èµ„æºå†…è”æˆ–è€…é€šè¿‡ serverï¼pushï¼Œcookie æ ‡è®°å†…è”è¿‡èµ„æº server-push<br>åŸºäºnodeçš„node-http2</p><p>Google QUICåè®®ï¼ŒåŸºäºUDPåè®®</p><h2 id="Why-React-Matters"><a href="#Why-React-Matters" class="headerlink" title="Why React Matters?"></a>Why React Matters?</h2><ul><li>ç‚ºä»€éº¼ React ç‰›ï¼Ÿ</li><li>Facebook é»„å£«æ——</li></ul><ul><li>Predictable/Immutable</li><li>React Native For iOS &amp; Android</li><li>ImmutableJS</li></ul><h2 id="ES6-ES7-Node-Project-ThinkJS"><a href="#ES6-ES7-Node-Project-ThinkJS" class="headerlink" title="ES6/ES7 Node Project, ThinkJS"></a>ES6/ES7 Node Project, ThinkJS</h2><ul><li>å¦‚ä½•ä½¿ç”¨ES6/ES7å¼€å‘NodeJSé¡¹ç›®</li><li>ææˆé“¶ ThinkJS ä½œè€… @360é½èˆå›¢</li></ul><ul><li>callbackã€promiseï¼Œasync functions</li><li>babel javascript compile</li><li>æ›´å¤šç‰¹æ€§ï¼Œclassï¼ŒArrowsï¼Œenhanced object literalsï¼Œtemplate</li><li>æ€§èƒ½é—®é¢˜ï¼Œclassï¼Œgenerators</li><li>è‡ªåŠ¨æ›´æ–°ï¼Œfs.watchï¼ˆé‡å¯nodeæœåŠ¡ï¼‰ï¼Œchokidarï¼Œnodemonitorï¼›é—®é¢˜ï¼Œæ— æ³•ä¿å­˜ä¸´æ—¶æ•°æ®</li><li>è§£å†³æ–¹æ¡ˆï¼Œçƒ­æ›´æ–°ï¼Œä¾èµ–æ–‡ä»¶æ›´æ–°</li><li>require.cacheï¼Œè§£å†³ä¾èµ–å’Œç¼“å­˜ï¼Œé‡å†™requireæ–¹æ³•</li><li>ThinkJSè§£å†³æ–¹æ¡ˆ<a href="https://www.thinkjs.org" target="_blank" rel="noopener">ThinkJS</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;360å‰ç«¯è®­ç»ƒè¥ç¬”è®°&lt;br&gt;
    
    </summary>
    
      <category term="Note" scheme="https://beanlee.github.io/categories/Note/"/>
    
    
      <category term="Front-End" scheme="https://beanlee.github.io/tags/Front-End/"/>
    
      <category term="Javascript" scheme="https://beanlee.github.io/tags/Javascript/"/>
    
      <category term="ReactJS" scheme="https://beanlee.github.io/tags/ReactJS/"/>
    
      <category term="NodeJS" scheme="https://beanlee.github.io/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>July And August</title>
    <link href="https://beanlee.github.io/2015/07/26/Jul-And-Aug/"/>
    <id>https://beanlee.github.io/2015/07/26/Jul-And-Aug/</id>
    <published>2015-07-26T07:02:20.000Z</published>
    <updated>2018-04-19T16:12:09.197Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç³Ÿç³•çš„ä¸ƒæœˆï¼Œå¹¸è¿çš„å…«æœˆ</p></blockquote><p>ä¸ƒä¸‹å…«ä¸Š</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ç³Ÿç³•çš„ä¸ƒæœˆï¼Œå¹¸è¿çš„å…«æœˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ƒä¸‹å…«ä¸Š&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="https://beanlee.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Try My Best</title>
    <link href="https://beanlee.github.io/2015/07/19/Try-My-Best/"/>
    <id>https://beanlee.github.io/2015/07/19/Try-My-Best/</id>
    <published>2015-07-19T08:47:21.000Z</published>
    <updated>2018-04-19T16:12:16.636Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Be who you are and say what you feel, because those who mind donâ€™t matter and those who matter donâ€™t mind.</p><p>â€“ Bernard Baruch</p></blockquote><a id="more"></a><h2 id="æœºé‡-Opportunity"><a href="#æœºé‡-Opportunity" class="headerlink" title="æœºé‡ Opportunity"></a>æœºé‡ Opportunity</h2><p>è¿™é‡Œå…ˆè¦å¯¹æˆ‘æ‹’ç»è¿‡å…¬å¸é“ä¸€å£°æŠ±æ­‰ï¼Œä¹Ÿå¯¹åŸå…¬å¸å¯¹æˆ‘æœ‰çŸ¥é‡ä¹‹æ©çš„å‰ BOSS è¯´ä¸€å£°â€œæ„Ÿè°¢å¯¹æˆ‘çš„è®¤å¯ï¼Œæ„Ÿè°¢èƒ½å¤Ÿå†æ¬¡ç»™æˆ‘æœºä¼šï¼Œåªå¯æƒœâ€˜å›å½’â€™ç°åœ¨ä¸æ˜¯æˆ‘æƒ³åšçš„äº‹â€ã€‚</p><p>å¾ˆå¹¸è¿çš„æ˜¯ï¼Œé«˜ä¸­åŒå­¦çš„å‰åŒäº‹æ‰€åœ¨å…¬å¸æœ‰ä¸€ä¸ªå²—ä½ç©ºç¼ºï¼Œé€šè¿‡å¤šæ–¹é¢çš„äº†è§£å’Œè€ƒè™‘ï¼Œè¿™æ˜¯ä¸€æ¬¡éå¸¸å¥½çš„æœºä¼šã€‚</p><p>å‘¨å››æˆ‘ä¼šå‚åŠ å¤è¯•ï¼Œè¿™å®¶å…¬å¸ä¹‹å‰åªåœ¨å…³æ³¨ç§»åŠ¨äº’è”æ–°é—»ä¸­æ— æ„ä¸­æ‰«è¿‡ï¼Œç”±äºä¸€ç›´æ²¡æœ‰åœ¨å·¥ä½œä¸­æŠ•å…¥åˆ°ç§»åŠ¨äº’è”ä¸­ï¼Œæ‰€ä»¥ä¹Ÿä»æ¥æ²¡æœ‰è®¤çœŸå…³æ³¨è¿‡ï¼Œæœ‰ä¸€äº›å› ç¼˜çš„æ˜¯ï¼Œä¸€èµ·åœ¨åŒ—äº¬å¥‹æ–—çš„åŒå­¦æ— æ„ä¸­æé†’ï¼Œå¦‚æœæƒ³è½¬èŒå‰ç«¯ç›¸å…³ã€‚</p><h2 id="å‡†å¤‡-Prepare"><a href="#å‡†å¤‡-Prepare" class="headerlink" title="å‡†å¤‡ Prepare"></a>å‡†å¤‡ Prepare</h2><p>æ•´ä¸ª7æœˆï¼Œæˆ‘éƒ½åœ¨ä¸ºå¯»æ‰¾æ–°æœºä¼šè€Œå‡†å¤‡ï¼ˆä¸­é—´æŠ½ç©ºå’Œå¥³æœ‹å‹ä¸€èµ·å»äº†ä¸€è¶Ÿå¦é—¨çŸ­æœŸæ—…è¡Œï¼‰ï¼Œæ—©åœ¨ä¸€å¹´å‰æ¥åˆ° JD ä¹‹å‰å°±æœ‰æœ‹å‹è·Ÿæˆ‘è¯´è¿‡ï¼Œè¦æƒ³å¥½ä¸ºä»€ä¹ˆè·³æ§½ï¼Œå¯¹äºè‡ªå·±è€Œè¨€ï¼Œä¸ºä»€ä¹ˆè¦å¯»æ‰¾æ–°æœºä¼šï¼Ÿ</p><ul><li>æ˜¯å¦æ˜¯è‡ªå·±æ„Ÿå…´è¶£æƒ³åšçš„ï¼Ÿæˆ–è€…è¯´èƒ½ä¸èƒ½åœ¨è¿™ä»½æ–°å·¥ä½œæ‰¾åˆ°ä¹è¶£ï¼Ÿæƒ³æ¸…æ¥šè¦åšä»€ä¹ˆï¼Ÿ</li><li>åœ¨è¿™ä»½æ–°å·¥ä½œæœ‰å¤šå¤§çš„ä¸Šå‡ç©ºé—´ï¼Ÿ</li><li>èƒ½å¦æ»¡è¶³è–ªèµ„æ”¶å…¥é¢„æœŸï¼Ÿ</li></ul><p>ä¸ºäº†åœ¨è¿™æ¬¡é¢è¯•ï¼Œæˆ‘ç‰¹åˆ«é’ˆå¯¹è¿™å®¶å·¥ä½œåšäº†å¾ˆå¤šå‡†å¤‡å·¥ä½œï¼Œå› ä¸ºç”µè¯é¢ä¹‹åï¼Œæœ‰ä¸€ä¸ª on-site é¢è¯•ï¼Œéœ€è¦æå‰åœ¨çº¿é™æ—¶å®Œæˆä¸‰ä¸ªç®—æ³•é¢˜ï¼Œäºæ˜¯ç¿»å‡ºä»¥å‰çš„ä¹¦æ¶è¡¥äº†ä¸€äº›ç®—æ³•å’Œæ•°æ®ç»“æ„ç›¸å…³çš„çŸ¥è¯†ï¼Œè™½ç„¶å¦‚æ­¤è¿˜æ˜¯æ²¡æœ‰åœ¨ç­”é¢˜å½“å¤©è¡¨ç°å‡ºè®©è‡ªå·±æ»¡æ„çš„æ°´å¹³ï¼Œè¿˜å¥½æŠŠé¢˜ç›®è®°ä¸‹æ¥è‡ªå·±ç§ä¸‹é‡Œå†åšä¸€æ¬¡ã€‚</p><p>å› ä¸ºæ˜¯å¤–ä¼ï¼Œå·¥ä½œè¯­è¨€æ˜¯è‹±è¯­ï¼Œå› æ­¤ä¸“é—¨å‡†å¤‡å£è¯­ï¼<code>Practice! Practice! Practice!</code> </p><p>åœ¨ Glassdoor, Quora ç­‰ç­‰ç½‘ç«™æŸ¥è¯¢å…³äºè¿™ä¸ªå…¬å¸çš„ä¿¡æ¯ä»¥åŠé¢è¯•ç»éªŒï¼Œåœ¨linkedinã€V2EXã€çŸ¥ä¹ã€å¾®åšSNSä¸Šæœç´¢ä»–ä»¬å‘˜å·¥å’Œç›¸å…³ä¿¡æ¯ã€‚</p><h2 id="å°½åŠ›-Try"><a href="#å°½åŠ›-Try" class="headerlink" title="å°½åŠ› Try"></a>å°½åŠ› Try</h2><p>æœ€è¿‘ä¸€å‘¨æˆ‘å·²ç»åœ¨å……åˆ†è°ƒæ•´è‡ªå·±ï¼ŒåŒ…æ‹¬å…¬å¸ç›®å‰å·¥ä½œè¿›åº¦æ§åˆ¶ï¼Œè¿‘æœŸçš„ä½œæ¯è°ƒæ•´ï¼Œå¸Œæœ›èƒ½å¤Ÿæœ‰ä¸€ä¸ªéå¸¸å¥½çš„çŠ¶æ€æ¥å‚åŠ å¤è¯•ï¼Œä¸´é˜µç£¨æªä¸€ç›´ä¸æ˜¯æˆ‘ä¸­æ„åšäº‹çš„æ–¹å¼ï¼Œè™½ç„¶åšäº†å¾ˆå¤šå‡†å¤‡ï¼Œä½†æ›´å¤šçš„è¿˜æ˜¯éœ€è¦å¹³æ—¶çš„ç§¯ç´¯ã€ç»éªŒä»¥åŠä¸´åœºå‘æŒ¥ï¼Œå¸Œæœ›èƒ½å¤Ÿæœ‰ä¸ªå¥½ç»“æœï¼å¦‚æœé¢è¯•é€šè¿‡ï¼Œä¸€å®šè¦ä»”ç»†æ•´ç†ä¸€ä»½é¢ç»ã€‚</p><blockquote><p>æœ€å¥½çš„ä¼‘æ¯ï¼Œå°±æ˜¯é‡æ–°ç‡ƒèµ·ç”Ÿæ´»çš„æ¿€æƒ…ï¼</p></blockquote><hr><h2 id="å…¶ä»–-Others"><a href="#å…¶ä»–-Others" class="headerlink" title="å…¶ä»– Others"></a>å…¶ä»– Others</h2><p>ç›®å‰å…¬å¸åœ¨åšä¸€ä»¶äº‹ï¼Œæœ‰ä¸€ä¸ªç»éªŒåˆ†äº«ï¼š<br>ç½‘ç«™åœ¨æ”¯æŒ http å’Œ https åŒåè®®ï¼Œé¡µé¢å¼€å‘è¿‡ç¨‹ä¸­æœ‰ä¸€å¤„ tips</p><p><code>å¦‚æœé™æ€æ–‡ä»¶æ²¡æœ‰å•ç‹¬æ”¾åœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šï¼Œè¿™ç§é—®é¢˜å¯ä»¥ç›´æ¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„è§£å†³ã€‚</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"//url/abc/bcd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//url/mnb/xxx.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">async</span> <span class="attr">defer</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨é“¾æ¥ä¸­ä¸å¿…å†™ <code>https://</code> æˆ– <code>http://</code> Javascript ä¸­ä¹Ÿå¯ä»¥é€šè¿‡ document æ¥è·å–å½“å‰é¡µé¢çš„åè®®<code>document.location.protocol</code></p><p>å¦‚æœä¸€å®šè¦åœ¨é¡µé¢å†™ç»å¯¹è·¯å¾„åŒ…æ‹¬åè®®å¤´å¯ä»¥è¿™æ ·å†™<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hp = (<span class="string">"https:"</span> == <span class="built_in">document</span>.location.protocol ? <span class="string">"https://"</span> : <span class="string">"http:"</span>);</span><br></pre></td></tr></table></figure></p><p>è®¿é—®é€Ÿåº¦ä¼˜åŒ–ç­–ç•¥å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š<br>è¯·æ±‚ä¼˜åŒ–ã€å‹ç¼©åˆå¹¶ã€æ— çŠ¶æ€åŸŸåï¼ˆå‡å°‘cookieä¼ è¾“ï¼‰ã€ä¸Šä¼ é™æ€æœåŠ¡å™¨å¦‚ CDNï¼ˆæ¨æ¨¡å¼å“åº”æ…¢ï¼Œä¸»åŠ¨æ‹‰æ¨¡å‹æ›´æ–°å“åº”å¿«ï¼‰</p><hr><p>2015ä¸‹åŠå¹´è¯»ä¹¦å•ï¼ˆæš‚å®šï¼‰</p><p>æŠ€æœ¯æ–¹å‘</p><ul><li>Javascript é«˜çº§ç¨‹åºè®¾è®¡</li><li>ä½ ä¸çŸ¥é“çš„ Javascriptï¼ˆä¸Šå·ï¼‰</li><li>CSS æƒå¨æŒ‡å—</li><li>Javascript è®¾è®¡æ¨¡å¼</li></ul><p>éæŠ€æœ¯æ–¹å‘</p><ul><li>ä»0åˆ°1</li><li>ç¾Šæ¯›æˆ˜è®°</li><li>å¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³</li><li>æ–­èˆç¦»</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Be who you are and say what you feel, because those who mind donâ€™t matter and those who matter donâ€™t mind.&lt;/p&gt;
&lt;p&gt;â€“ Bernard Baruch&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="blog" scheme="https://beanlee.github.io/categories/blog/"/>
    
    
      <category term="ç”Ÿæ´»" scheme="https://beanlee.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Questions Of Front-End</title>
    <link href="https://beanlee.github.io/2015/06/27/Question-Of-Front-End/"/>
    <id>https://beanlee.github.io/2015/06/27/Question-Of-Front-End/</id>
    <published>2015-06-27T00:32:19.000Z</published>
    <updated>2018-04-19T16:12:23.819Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ç«¯é—®é¢˜æ€»ç»“æ•´ç†ï¼ŒæŒç»­æ›´æ–°å’Œå­¦ä¹ ï¼Œæ‰¾åˆ°æƒ³åšçš„å°±åŠ æ²¹åšä¸ªè¡ŒåŠ¨æ´¾å§ï¼</p><a id="more"></a><blockquote><p>åƒä¸‡ä¸è¦ä¸ºäº†å½“å‰ä¸å¥½è€Œè·³æ§½ï¼Œä¸€å®šæ˜¯è¦å› ä¸ºå°†æ¥ä¼šæ›´å¥½è€Œè·³æ§½ï¼</p></blockquote><h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><ul><li><p>ç›’å­æ¨¡å‹<br>margin - border - padding - content - padding - border - margin<br>ä¸Šä¸‹ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ä¼šæœ‰marginåˆå¹¶é—®é¢˜</p></li><li><p>å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ åŒºåˆ«<br><a href="http://blog.csdn.net/chen_zw/article/details/8713205" target="_blank" rel="noopener">http://blog.csdn.net/chen_zw/article/details/8713205</a><br><a href="http://segmentfault.com/a/1190000000654770" target="_blank" rel="noopener">http://segmentfault.com/a/1190000000654770</a></p></li></ul><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><ul><li><p>å®ç°ä¸€ä¸ªå‰å·æœ‰å‡ ç§å®ç°æ–¹å¼<br>1.åˆ‡å›¾ 2.å…ˆç”¨ä¸€ä¸ªspanç”»ä¸€ä¸ªé•¿æ–¹å½¢ï¼Œåœ†è§’ï¼Œç„¶åä½¿ç”¨transformå€¾æ–œ 3.CSS3ä¸­ä½¿ç”¨Webfont 4.ä¼ªç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">TODO</span> ä»£ç å®ç°</span><br></pre></td></tr></table></figure></li><li><p>CSSå¸¸ç”¨é€‰æ‹©å™¨<br>IDã€ç±»ã€ä¼ªç±»ã€çˆ¶å­é€‰æ‹©å™¨ç­‰ç­‰</p></li></ul><h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h1><ul><li>åŸå‹é“¾ prototype<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank" rel="noopener">MDN</a></li></ul><p>å®ç°çš„æœ¬è´¨æ˜¯é‡æ–°åŸå‹å¯¹è±¡ã€‚</p><ul><li><p>åŸç”Ÿajaxå†™æ³•<br>XMLHttpRequest, XMLHttpResponse</p></li><li><p>äº‹ä»¶æ¨¡å‹å’Œäº‹ä»¶ä¼ æ’­æœºåˆ¶é—®é¢˜<br>æµè§ˆå™¨ä¸­äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼šé¼ æ ‡äº‹ä»¶ï¼›é”®ç›˜äº‹ä»¶ï¼›HTMLäº‹ä»¶ï¼›<br>æ•è·å’Œå†’æ³¡çš„é¡ºåºåœ¨ä¸åŒæµè§ˆå™¨ä¸­ä¸åŒï¼ŒIEä¸‹äº‹ä»¶æµé‡‡ç”¨çš„æ˜¯å†’æ³¡ï¼ŒåŸºäºDOMæ ‡å‡†å…¼å®¹æµè§ˆå™¨é€šå¸¸é‡‡ç”¨å…ˆæ•è·åå†’æ³¡æ–¹å¼ã€‚</p></li></ul><p><code>addEventListener() &amp; removeEventListener()</code><br>æ‰€æœ‰ DOM èŠ‚ç‚¹éƒ½åŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œéƒ½æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šè¦å¤„ç†çš„äº‹ä»¶åï¼Œä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°ï¼Œä¸€ä¸ªå¸ƒå°”å€¼ã€‚æœ€åè¿™ä¸ªå‚æ•°å¸ƒå°”å€¼ï¼Œ<code>true</code>è¡¨ç¤ºåœ¨æ•è·æ—¶è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œ<code>false</code>è¡¨ç¤ºåœ¨å†’æ³¡æ—¶è°ƒç”¨æ—¶é—´å¤„ç†å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">"click"</span>);</span><br><span class="line">&#125;, flase);</span><br></pre></td></tr></table></figure><ul><li>è·¨åŸŸ JSONP å®ç°åŸç†<br>åŸç†ï¼šå›è°ƒå‡½æ•°<br>JSONP ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå›è°ƒå‡½æ•°å’Œæ•°æ®ã€‚</li></ul><p>For Example:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleResponse</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"You're at IP "</span> + response.ip + <span class="string">", which is in "</span> + response.city);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">script.src = <span class="string">"http://freegeoip.net/json/?callback=handleResponse"</span>;</span><br><span class="line"><span class="built_in">document</span>.body.insertBefore(script, <span class="built_in">document</span>.body.fisrtChild);</span><br></pre></td></tr></table></figure></p><ul><li><p><code>&lt;script&gt;</code>ä¸­deferå’ŒasycåŒºåˆ«å’ŒåŠ è½½é¡ºåº</p><ul><li>asyc: <code>å¼‚æ­¥è„šæœ¬</code>è™½ç„¶ç«‹å³ä¸‹è½½è„šæœ¬ï¼Œä¸åº”è¯¥æ–¹æ¡ˆé¡µé¢ä¸­å…¶ä»–æ“ä½œï¼Œæ¯”å¦‚ä¸‹è½½å…¶ä»–èµ„æºæˆ–ç­‰å¾…åŠ è½½å…¶ä»–è„šæœ¬ã€‚åªå¯¹å¤–éƒ¨è„šæœ¬æœ‰æ•ˆã€‚ä¸èƒ½ä¿è¯æŒ‰ç…§æŒ‡å®šçš„å…ˆåé¡ºåºæ‰§è¡Œï¼Œå»ºè®®å¼‚æ­¥è„šæœ¬ä¸è¦åœ¨åŠ è½½æœŸé—´ä¿®æ”¹ DOMã€‚</li><li>defer: <code>å»¶è¿Ÿè„šæœ¬</code>å¯ä»¥å»¶è¿Ÿåˆ°æ–‡æ¡£å®Œå…¨è¢«è§£æå’Œæ˜¾ç¤ºä¹‹åå†æ‰§è¡Œã€‚åªé’ˆå¯¹å¤–éƒ¨è„šæœ¬æœ‰æ•ˆã€‚åœ¨ç°å®å½“ä¸­ï¼Œå»¶è¿Ÿè„šæœ¬ä¸ä¸€å®šæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œä¸ä¸€å®šä¼šåœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘å‰æ‰§è¡Œï¼Œå› æ­¤æœ€å¥½åªåŒ…å«ä¸€ä¸ªå»¶è¿Ÿè„šæœ¬</li></ul></li><li><p>é—­åŒ…ï¼šæŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°ã€‚</p></li><li><p>ä½œç”¨åŸŸï¼šå½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒæ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸã€‚<br>ç†è§£ï¼šç±»ä¼¼ Java çš„æˆå‘˜å˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = <span class="string">"blue"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> anotherColor = <span class="string">"red"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">swapColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tempColor = anotherColor;</span><br><span class="line">    anotherColor = color;</span><br><span class="line">    color = tempColor;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥è®¿é—® color, anotherColor å’Œ tempColor</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥è®¿é—® color, anotherColor</span></span><br><span class="line">  swapColor();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œåªèƒ½è®¿é—® color</span></span><br><span class="line">changeColor();</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰ç«¯é—®é¢˜æ€»ç»“æ•´ç†ï¼ŒæŒç»­æ›´æ–°å’Œå­¦ä¹ ï¼Œæ‰¾åˆ°æƒ³åšçš„å°±åŠ æ²¹åšä¸ªè¡ŒåŠ¨æ´¾å§ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Front-End" scheme="https://beanlee.github.io/tags/Front-End/"/>
    
  </entry>
  
  <entry>
    <title>OSCæºåˆ›å›å¹´ç»ˆç››å…¸</title>
    <link href="https://beanlee.github.io/2014/11/26/OSC-Party/"/>
    <id>https://beanlee.github.io/2014/11/26/OSC-Party/</id>
    <published>2014-11-25T21:25:50.000Z</published>
    <updated>2018-04-19T16:12:29.787Z</updated>
    
    <content type="html"><![CDATA[<p>å¼€æºä¸­å›½2014å¹´ç»ˆç››å…¸å¤§ä¼šå‚ä¼šç¬”è®°</p><a id="more"></a><h1 id="OSCæºåˆ›ä¼šå¹´ç»ˆç››å…¸"><a href="#OSCæºåˆ›ä¼šå¹´ç»ˆç››å…¸" class="headerlink" title="OSCæºåˆ›ä¼šå¹´ç»ˆç››å…¸"></a>OSCæºåˆ›ä¼šå¹´ç»ˆç››å…¸</h1><h2 id="å¼€æºä¸­å›½çš„å¿—å‘-é©¬è¶Š"><a href="#å¼€æºä¸­å›½çš„å¿—å‘-é©¬è¶Š" class="headerlink" title="å¼€æºä¸­å›½çš„å¿—å‘ - é©¬è¶Š"></a>å¼€æºä¸­å›½çš„å¿—å‘ - é©¬è¶Š</h2><p>Gitï¼ŒSonarï¼ŒTeamâ€¦â€¦JFinal<br>äº’è”ç½‘ä¹‹å­-æ–½ç“¦èŒ¨ï¼Œä¸€åˆ‡çš†å¼€æºï¼Œè¦å‚ä¸å…¶ä¸­ï¼›å¹´è½»äººï¼ŒOSCerâ€œæˆ‘ä»¬å°±æ˜¯æ¢¦æƒ³ï¼â€ï¼›æ„Ÿè°¢é˜¿é‡Œå·´å·´ã€åä¸ºè´¡çŒ®å¼€æºçš„åŠ›é‡</p><h2 id="RDS-é˜¿é‡Œäº‘-æ•°æ®é€šé“æŒ‘æˆ˜ä¸å®ç°-è¤šéœ¸"><a href="#RDS-é˜¿é‡Œäº‘-æ•°æ®é€šé“æŒ‘æˆ˜ä¸å®ç°-è¤šéœ¸" class="headerlink" title="RDS é˜¿é‡Œäº‘ æ•°æ®é€šé“æŒ‘æˆ˜ä¸å®ç° è¤šéœ¸"></a>RDS é˜¿é‡Œäº‘ æ•°æ®é€šé“æŒ‘æˆ˜ä¸å®ç° è¤šéœ¸</h2><p>åŠŸèƒ½</p><ul><li>é«˜å¯ç”¨/å±è”½åç«¯å˜åŒ–/å®‰å…¨ã€æ•°æ®è·¯ç”±ï¼Œå†·çƒ­æ•°æ®åŒºåˆ†ã€æ•°æ®æ“ä½œï¼Œåˆ†åº“åˆ†è¡¨ã€æ”¯æŒå¤šç§æ•°æ®åç«¯ï¼ŒMySQL MSSQL</li></ul><p>çº¦æŸ</p><ul><li>æ™®é€šPCæœåŠ¡å™¨ã€é«˜å¯ç”¨ã€è§„æ¨¡/å¯æ¨ªå‘æ‹“å±•ã€å¯è¿ç»´å¯æ§</li></ul><p>å¯ç”¨æ€§</p><ul><li>LVSå•†ä¸šç‰ˆ SLBv3æµé‡å±‚ â€”- Proxyè´Ÿè½½å‡è¡¡ â€”- Master</li><li>æµé‡å±‚ï¼šVIPæ¼‚ç§»ä¿è¯ç”¨æˆ·ä¸è¦åˆ‡æ¢DNSï¼ŒsessionåŒæ­¥è§£å†³å•æœºdownæœºå½±å“</li><li>Proxyå±‚ï¼šErlang VMä½œä¸ºä¸­é—´ä»¶ã€æ”¯æŒçƒ­å‡çº§ï¼Œä¸ç”¨åˆ‡åˆ†æµé‡</li><li>DBå±‚ï¼šä¸»å¤‡ç»“æ„ã€è·¨æœºæˆ¿/è·¨æœºæ¶ã€ä¸»å¤‡åŒæ­¥/å¼‚æ­¥å¤åˆ¶å‡å°‘å»¶è¿Ÿã€æ•°æ®å®‰å…¨</li></ul><p>æ€§èƒ½ï¼šRTã€ååé‡ã€QPSã€çŸ­é“¾æ¥æ€§èƒ½</p><h2 id="å‰–æå¼€æºæŠ€æœ¯è¶‹åŠ¿-amp-åä¸ºå¼€æºç°çŠ¶"><a href="#å‰–æå¼€æºæŠ€æœ¯è¶‹åŠ¿-amp-åä¸ºå¼€æºç°çŠ¶" class="headerlink" title="å‰–æå¼€æºæŠ€æœ¯è¶‹åŠ¿&amp;åä¸ºå¼€æºç°çŠ¶"></a>å‰–æå¼€æºæŠ€æœ¯è¶‹åŠ¿&amp;åä¸ºå¼€æºç°çŠ¶</h2><ul><li>è¶‹åŠ¿ï¼šäº’è”ç½‘åŒ–ã€å¹³å°çº§ã€æ¨åŠ¨ç¡¬ä»¶ç”µä¿¡ç³»ç»Ÿç­‰å‘å±•ã€ç¤¾åŒºè¿è¥å…¬å¸åŒ–ã€æ ‡å‡†åŒ–</li><li>åä¸ºå¼€æºè€…èƒ½åŠ›ä¸­å¿ƒï¼Œé¼“åŠ±ã€æ”¯æŒ</li><li>ä½¿ç”¨ç­–ç•¥å’ŒåŸåˆ™ï¼šå‚è€ƒè‡ªè¡Œå®ç°ï¼Œæ¶æ„è§£è€¦ã€ç¤¾åŒºåŒæºå‡å°‘ç»´æŠ¤æˆæœ¬</li></ul><h1 id="äº‘è®¡ç®—ä¸“åœº"><a href="#äº‘è®¡ç®—ä¸“åœº" class="headerlink" title="äº‘è®¡ç®—ä¸“åœº"></a>äº‘è®¡ç®—ä¸“åœº</h1><h2 id="å¼€æºåˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨-OpenStack-Swift-ææ˜å®‡microwise"><a href="#å¼€æºåˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨-OpenStack-Swift-ææ˜å®‡microwise" class="headerlink" title="å¼€æºåˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨ OpenStack Swift - ææ˜å®‡microwise"></a>å¼€æºåˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨ OpenStack Swift - ææ˜å®‡microwise</h2><p>OpenStack : A cloud operation system<br>Itâ€™s  a group system. 11 projects so huge, but the biggest user use 3.5 projects  . Install in CentOS 7.<br>OpenStack Swift: RESTfull Web API ç›´æ¥ä»å­˜å‚¨æä¾›RESTæœåŠ¡ï¼Œè§£å†³è®¿é—®æ— ä¸šåŠ¡çš„æ–‡ä»¶çš„éœ€æ±‚<br>Architecture of Swift: å›¾è§CSDN Proxy Serveræ¥æ”¶è¯·æ±‚ â€“ Controller é€šè¿‡hashç­‰ç®—æ³•ä¿è¯è¯·æ±‚å‡åŒ€åˆ†å¸ƒ â€“ å­˜å‚¨å±‚<br>Story Policy: å¯é…ç½®å­˜å‚¨ï¼Œæ¯”å¦‚ä¿å­˜ä½ç½®ï¼Œå¯é æ€§<br>OpenStack &amp; Docker<br>Reading: OpenStack äº‘è®¡ç®—å®æˆ˜æ‰‹å†Œï¼ŒOpenStack ä¼ä¸šäº‘<br>Proxy Server ä¸å­˜åœ¨å•èŠ‚ç‚¹é—®é¢˜ï¼Œproxyæ— çŠ¶æ€</p><h2 id="CoreOS-ä¸å®¹å™¨ç®¡ç†"><a href="#CoreOS-ä¸å®¹å™¨ç®¡ç†" class="headerlink" title="CoreOS ä¸å®¹å™¨ç®¡ç†"></a>CoreOS ä¸å®¹å™¨ç®¡ç†</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¼€æºä¸­å›½2014å¹´ç»ˆç››å…¸å¤§ä¼šå‚ä¼šç¬”è®°&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="https://beanlee.github.io/categories/Note/"/>
    
    
      <category term="note" scheme="https://beanlee.github.io/tags/note/"/>
    
  </entry>
  
  <entry>
    <title>ç§‘å­¦ä¸Šç½‘ä¹‹VPNæ¨èç³»åˆ—</title>
    <link href="https://beanlee.github.io/2014/06/28/How-To-Connect-Internet-With-VPN/"/>
    <id>https://beanlee.github.io/2014/06/28/How-To-Connect-Internet-With-VPN/</id>
    <published>2014-06-27T16:00:01.000Z</published>
    <updated>2018-02-27T04:14:51.744Z</updated>
    
    <content type="html"><![CDATA[<p>â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨â€ ä»Šå¤©ç¬”è€…æ¥å’Œå¤§å®¶ä¸€èµ·åˆ†äº«ï¼Œæœ€è¿‘æŸ¥é˜…èµ„æ–™æ•´ç†åçš„ä¸€äº›å…³äºVPNçš„é‚£ç‚¹äº‹å„¿ã€‚</p><a id="more"></a><p>åˆšåˆšåŠ ç­åˆ°å®¶ï¼Œæ•´ç†ä¸€ä¸‹è¿™ç¯‡æœ€è¿‘åœ¨æŸ¥é˜…èµ„æ–™å…³äºVPNçš„ä¸€äº›å†…å®¹ï¼Œä»¥åŠä¸€äº›ä»˜è´¹VPNçš„ç®€å•ä»‹ç»ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯VPN"><a href="#ä»€ä¹ˆæ˜¯VPN" class="headerlink" title="ä»€ä¹ˆæ˜¯VPN"></a>ä»€ä¹ˆæ˜¯VPN</h3><p>VPN å¯ä»¥é€šè¿‡ç‰¹æ®Šçš„åŠ å¯†é€šè®¯åè®®ï¼Œåœ¨è¿æ¥ Internet ä¸Šä½äºä¸åŒåœ°æ–¹çš„ä¸¤ä¸ªæˆ–å¤šä¸ªä¼ä¸šå†…éƒ¨ç½‘ä¹‹é—´å»ºç«‹ä¸€æ¡ä¸“æœ‰çš„é€šè®¯çº¿è·¯ï¼›å°±å¥½æ¯”æ˜¯æ¶è®¾äº†ä¸€æ¡ä¸“çº¿ï¼Œä½†å®ƒå¹¶ä¸éœ€è¦çœŸæ­£çš„å»é“ºè®¾å…‰ç¼†ä¹‹ç±»çš„ç‰©ç†çº¿è·¯ï¼›å°±åƒå»ç”µä¿¡å±€ç”³è¯·ä¸“çº¿ï¼Œä½†æ˜¯ä¸ç”¨ç»™é“ºè®¾çº¿è·¯çš„è´¹ç”¨ï¼Œä¹Ÿä¸ç”¨è´­ä¹°è·¯ç”±å™¨ç­‰ç¡¬ä»¶è®¾å¤‡ã€‚</p><p>VPN æŠ€æœ¯åŸæ˜¯è·¯ç”±å™¨çš„é‡è¦æŠ€æœ¯ä¹‹ä¸€ï¼Œåœ¨äº¤æ¢æœºã€é˜²ç«å¢™è®¾å¤‡æˆ–å„å¤§æ“ä½œç³»ç»Ÿé‡Œä¹Ÿéƒ½æ”¯æŒ VPN åŠŸèƒ½ï¼ŒVPN çš„æ ¸å¿ƒå°±æ˜¯åˆ©ç”¨å…¬å…±ç½‘ç»œå»ºç«‹è™šæ‹Ÿç§æœ‰ç½‘ã€‚</p><p>é€šä¿—çš„è¯´ï¼Œå¦‚æœä½ æƒ³ä¸è¢«åˆ«äººæ¢æŸ¥åˆ°ä½ çš„ IP åœ°å€ï¼Œå¦‚æœä½ æƒ³è®¿é—®å¤§é‡åŸæœ¬æ— æ³•ç™»å½•çš„å›½å¤–ç½‘ç«™ï¼Œå¦‚æœä½ æƒ³æ›´å®‰å…¨è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œè¯·ä½¿ç”¨ VPNã€‚</p><h3 id="PPTPå’ŒL2TPåŒºåˆ«"><a href="#PPTPå’ŒL2TPåŒºåˆ«" class="headerlink" title="PPTPå’ŒL2TPåŒºåˆ«"></a>PPTPå’ŒL2TPåŒºåˆ«</h3><p>æœ€å¸¸è§æœ€æµè¡Œçš„ VPN åè®®åŒ…å« PPTP åè®®å’Œ L2TP/IPSec åè®®ã€‚å¦‚æœä½ å¸Œæœ›è®¾ç½®ç®€å•ï¼Œå¯¹é€šä¿¡å®‰å…¨æ²¡æœ‰å¤ªå¤§çš„è¦æ±‚ï¼Œé‚£ä¹ˆä½ é…ç½® PPTP è¿æ¥å³å¯ï¼›å¦‚æœä½ çš„ç½‘ç»œé‡Œ PPTP åè®®æœªè¢«å…è®¸ï¼Œæˆ–è€…å¸Œæœ›æ•°æ®é€šä¿¡æ›´å®‰å…¨çš„è¯ï¼Œå°±æ¨èè®¾ç½® L2TP/IPSec è¿æ¥ã€‚åœ¨è®¾ç½®ä¸Šï¼Œæ­¥éª¤åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯ L2TP/IPSec åè®®éœ€è¦è¾“å…¥å…±äº«å¯†é’¥ã€‚</p><ul><li>PPTPï¼ˆPoint to Point Tunneling Protocolï¼‰ç‚¹å¯¹ç‚¹éš§é“åè®®ï¼šæ˜¯ä¸€ç§ä¸»è¦ç”¨äº VPN çš„æ•°æ®é“¾è·¯å±‚ç½‘ç»œåè®®ï¼ŒPPTP çš„åè®®è§„èŒƒæœ¬èº«å¹¶æœªæè¿°åŠ å¯†æˆ–èº«ä»½éªŒè¯çš„ç‰¹æ€§ã€‚</li><li>L2TPï¼ˆLayer Two Tunneling Protocol) ç¬¬äºŒå±‚éš§é“åè®®ï¼šæ˜¯ä¸€ç§æ•°æ®é“¾è·¯å±‚éš§é“åè®®ï¼Œé€šå¸¸ç”¨äºè™šæ‹Ÿä¸“ç”¨ç½‘ã€‚L2TP åè®®è‡ªèº«ä¸å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä½†æ˜¯å¯ä»¥å’ŒåŠ å¯†åè®®æ­é…ä½¿ç”¨ï¼Œä»è€Œå®ç°æ•°æ®çš„åŠ å¯†ä¼ è¾“ã€‚ç»å¸¸ä¸ L2TP åè®®æ­é…çš„åŠ å¯†åè®®æ˜¯ IPsecï¼Œå½“è¿™ä¸¤ä¸ªåè®®æ­é…ä½¿ç”¨æ—¶ï¼Œé€šå¸¸åˆç§° L2TP/IPsecã€‚</li></ul><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ç§‘å­¦ä¸Šç½‘</li><li>é…ç½®æ–¹ä¾¿ï¼Œé…ç½®å¥½ä»¥åï¼Œç›´æ¥è¿æ¥ï¼Œå°±å¯ä»¥ä½¿ç”¨</li><li>å®‰å…¨ï¼Œä¸€æŠŠåŒåˆƒå‰‘ï¼Œå› ä¸ºVPNè¿æ¥ï¼Œæˆ‘ä»¬çš„æ•°æ®åŒ…éƒ½æ˜¯é€šè¿‡ä¸­é—´æœåŠ¡å™¨è½¬å‘ï¼ŒVPNæä¾›äº†å¾ˆå¤šç§åŠ å¯†çš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¥½åœ°ä¿æŠ¤æˆ‘ä»¬çš„éšç§ï¼Œéšè—IPç­‰ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>å—GFWå¹²æ‰°è¾ƒå¤§ï¼Œç”±äºä½¿ç”¨UDPæŠ€æœ¯ï¼Œè¿æ¥å¯èƒ½å—å¹²æ‰°</li><li>æ¯”è¾ƒä¾èµ–æœ¬åœ°çš„ç½‘ç»œç¯å¢ƒ</li><li>ISPç½‘ç»œçš„å¯èƒ½ä¼šé˜»æ­¢VPNçš„è¿æ¥ï¼Œå¯¼è‡´è¿ä¸ä¸Šæˆ–è€…é€Ÿåº¦æ…¢</li><li>VPNæ˜¯ä¿æŒè¿æ¥ï¼Œä¸æ˜¯ç‰¹åˆ«çµæ´»ï¼Œè¦æ–­è¦è¿åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­éš¾å…æœ‰éº»çƒ¦</li><li>å®‰å…¨ï¼Œä¸èƒ½æ’é™¤æˆ‘ä»¬çš„æ•°æ®åŒ…è¢«ä¸­é—´æœåŠ¡å™¨æŠ“åŒ…æˆ–è€…æˆªå–çš„å¯èƒ½ã€‚</li></ul><h2 id="é€‰æ‹©VPN"><a href="#é€‰æ‹©VPN" class="headerlink" title="é€‰æ‹©VPN"></a>é€‰æ‹©VPN</h2><p>å‰é¢ä¸€äº›â€œç§‘æ™®â€çš„æ–‡å­—ç»™å¤§å®¶ç å¥½å­—ä¹‹åï¼Œä¸‹é¢ç¬”è€…åœ¨é€‰è´­VPNçš„æ—¶å€™ä¸»è¦å…³æ³¨ä¸€ä¸‹å‡ ç‚¹ï¼Œåœ¨è¿™é‡Œå’Œå„ä½åˆ†äº«ä¸€ä¸‹ï¼Œå¯èƒ½ä¸å„ä½ä¸åŒï¼Œæ¬¢è¿è¯»è€…æœ‹å‹è®¨è®ºåæ§½ï¼</p><ul><li><strong>ç¨³å®šæ€§</strong>ï¼šè¿™æ˜¯æˆ‘æ¯”è¾ƒé‡è§†ä¸€ç‚¹ï¼Œæ‰€ä»¥æ”¾åœ¨ç¬¬ä¸€ä¸ªï¼ŒVPNçš„è¿æ¥é€Ÿåº¦ä»¥åŠè¿æ¥çš„ç¨³å®šæ€§ï¼Œç›´æ¥å½±å“åˆ°ä½¿ç”¨è€…çš„æ„Ÿå—ï¼Œä¹‹æ‰€ä»¥æ‰¾ä»˜è´¹ç‰ˆVPNï¼Œæœ€é‡è¦çš„å°±æ˜¯æƒ³äº«å—ç¨³å®šçš„è¿æ¥ï¼Œä¸å¸Œæœ›é‡åˆ°ç»å¸¸æ‰çº¿é‡è¿ï¼Œæˆ–è€…ç»å¸¸ä¸å¾—ä¸è¢«åŠ¨åœ°åˆ‡æ¢å¤šä¸ªè¿æ¥ã€‚</li><li><strong>ç»ˆç«¯æ”¯æŒ</strong>ï¼šæˆ‘çš„éœ€æ±‚æ˜¯å¸Œæœ›æ”¯æŒMacã€iPhoneã€iPadè‡³å°‘ä¸‰å°ç»ˆç«¯åŒæ—¶è¿æ¥ï¼Œè¿™æ ·åœ¨å¤šç«¯å°±å¯ä»¥æ— ç¼äº«å—ç½‘ç»œã€‚</li><li><strong>è¿æ¥é€Ÿåº¦</strong>ï¼ˆä¸Šè¡Œ/ä¸‹è¡Œï¼‰ï¼šä¸çŸ¥é“è¯»è€…æœ‹å‹æœ‰æ²¡æœ‰è·Ÿç¬”è€…ä¸€æ ·çš„æ„Ÿå—ï¼Œç½‘ç»œæ…¢å¾—æ—¶å€™ç”µè„‘ä¹Ÿä¼šæœ‰æ…¢å¾—é”™è§‰ã€‚å½“ç„¶äº†ï¼Œâ€œæ…¢â€ä¸€å®šæœ‰å¾ˆå¤šåŸå› ï¼Œä¹Ÿå¯èƒ½æ˜¯é”™è§‰ï¼Œä½†æ˜¯è¿æ¥VPNååŒæ ·æ‹¥æœ‰æ™®é€šè¿æ¥ç›¸åŒæˆ–è€…ä¸ä¼šé™ä½å¾ˆå¤šçš„ç½‘ç»œé€Ÿåº¦ï¼Œæ˜¯éå¸¸é‡è¦çš„ä¸€ç‚¹ï¼Œä¹ŸåŒæ ·æ˜¯ç”³è¯·VPNé€€æ¬¾çš„åŸå› ä¹‹ä¸€ã€‚</li><li><strong>ä»·æ ¼</strong>ï¼ˆæŒ‰é‡ä»˜è´¹/æŒ‰æ—¶ä»˜è´¹ï¼‰ä»¥åŠ<strong>æ”¯ä»˜æ–¹å¼</strong>ï¼šæŒ‰æ—¶ or æŒ‰é‡ï¼Œè¿™ä¸ªå–å†³äºä½¿ç”¨è€…çš„éœ€æ±‚ï¼Œå¦‚æœåƒç¬”è€…ä¸€æ ·æ˜¯æ–°æ‰‹æˆ–è€…æ¢ç§è¯´æ³•æ˜¯é¦–æ¬¡å¸Œæœ›é€šè¿‡ä»˜è´¹VPNçš„æ–¹å¼â€œç§‘å­¦ä¸Šç½‘â€ï¼Œå¶å°”ç™»å½•GoogleæŸ¥é˜…èµ„æ–™ï¼Œè€Œä¸”ä¸ç”¨åˆ·Twitterï¼Œæš‚æ—¶æ²¡æœ‰éƒ¨ç½²åœ¨å›½å¤–æœåŠ¡å™¨ä¸Šçš„ç½‘ç«™éœ€è¦ç»´æŠ¤çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä»·ä½ä¸é«˜ä¸”æµé‡ä¸å¤§çš„æœåŠ¡ï¼›æ”¯ä»˜æ–¹å¼ä¹Ÿè¢«æˆ‘æ”¾åœ¨è¿™é‡Œï¼Œå›½å†…çš„å¾ˆå¤šæœ‹å‹å¯èƒ½æ²¡æœ‰åŒå¸ä¿¡ç”¨å¡ï¼ŒPaypalä»˜æ¬¾éš¾å…æœ‰äº›éº»çƒ¦ï¼ŒæŸ¥äº†å¥½å‡ ä¸ªVPNçš„æœåŠ¡å•†éƒ½å·²ç»æ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾äº†ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</li><li><strong>é…ç½®éš¾æ˜“åº¦ã€å®¢æœå“åº”é€Ÿåº¦</strong>ï¼š</li><li><strong>éšç§å®‰å…¨</strong>ï¼šæ¯•ç«Ÿæˆ‘ä»¬åœ¨é€šè¿‡VPNè¿æ¥æ—¶ï¼Œæœ¬åœ°çš„æ•°æ®åŒ…æ˜¯å‘é€åˆ°è¿œæ–¹æœåŠ¡å™¨å†è·³è½¬çš„ï¼Œè¿™æœŸé—´æ˜¯å¦ä¼šè¢«æŠ“åŒ…ï¼Œçªƒå–èµ„æ–™å°±æ˜¯ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„é—®é¢˜ï¼Œç¬”è€…å»ºè®®ä¸ç”¨åœ¨VPNè¿æ¥æ—¶ä½¿ç”¨ç½‘é“¶ç­‰ï¼Œå³ä½¿VPNå·²ç»å£°æ˜äº†æ•°æ®ä¿¡æ¯å·²ç»åŠ å¯†ï¼Œè¦ä¿æŒè­¦æƒ•ï¼Œä¿æŠ¤éšç§ã€‚</li><li><strong>æœåŠ¡å™¨åœ°ç‚¹</strong>ï¼šè¿™ç‚¹å¯èƒ½ç›®å‰é˜¶æ®µä¸æ˜¯ç¬”è€…æ¯”è¾ƒåœ¨æ„çš„ä¸€ç‚¹ï¼Œæ— è®ºVPNæœåŠ¡å•†æä¾›çš„æ˜¯ç¾å›½ã€æ—¥æœ¬ã€åŠ æ‹¿å¤§ã€å°æ¹¾ç­‰ä½•åœ°çš„æœåŠ¡å™¨ï¼Œå¯¹äºç¬”è€…æ¥è¯´ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œåªè¦å¯ä»¥è¾¾åˆ°ç¨³å®šçš„è¿æ¥å°±å¯ä»¥ã€‚ä½†æ˜¯å¯¹äºä¸€äº›å¯¹æœåŠ¡åœ°æœ‰å¼ºçƒˆéœ€æ±‚çš„æœ‹å‹æ¥è¯´ï¼Œæ¯”å¦‚ä¸€äº›æ¸¸æˆç©å®¶ï¼ŒPS4å’ŒXBOXå¿…é¡»è¦è¿æ¥å½“åœ°çš„æœåŠ¡æ‰èƒ½ç©ï¼Œè¿™æ—¶æœåŠ¡å™¨æ‰€åœ¨çš„åœ°ç‚¹å°±æˆäº†æ¯”è¾ƒé‡è¦çš„è€ƒè™‘å› ç´ ä¹‹ä¸€äº†ã€‚</li></ul><h2 id="ä»˜è´¹VPNæ”¶é›†"><a href="#ä»˜è´¹VPNæ”¶é›†" class="headerlink" title="ä»˜è´¹VPNæ”¶é›†"></a>ä»˜è´¹VPNæ”¶é›†</h2><p>å¾ˆå¹¸è¿åœ¨å¾®åšä¸Šè®¤è¯†ä¸€ä½æœ‹å‹<a href="http://weibo.com/liwei198870" target="_blank" rel="noopener">è†å¬æ½‡æ¹˜é›¨</a>ï¼Œè¯·æ•™äº†ä¸€äº›çŸ¥è¯†ï¼Œä¹Ÿå¾ˆæ„Ÿè°¢ä»–æ¨èäº†å‡ ä¸ªä»˜è´¹VPNç»™æˆ‘ï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±æŸ¥é˜…çš„èµ„æ–™åœ¨ä¸‹é¢ç½—åˆ—ä¸€ä¸‹ï¼Œå…·ä½“æœåŠ¡éœ€è¦ç­‰å„ä½ç”¨æˆ·å…ˆè‡ªå·±è¯•ç”¨ï¼Œç¨åå†æä¾›æˆ‘çš„ä½¿ç”¨æŠ¥å‘Šï¼š</p><ul><li><a href="https://www.pandafan.org/?r=2885" target="_blank" rel="noopener">ç†ŠçŒ«ç¿»æ»š</a> é¡¾åæ€ä¹‰ï¼Œç†ŠçŒ«å¤©æœç‰¹äº§ï¼Œæœ‹å‹æ¨èè¯´æ™ºèƒ½åˆ†æµåšçš„å¾ˆå¥½ï¼Œå°±æ˜¯å›½å†…å’Œå›½å¤–çš„ç½‘ç«™å¯ä»¥è‡ªåŠ¨åŒºåˆ†ï¼Œè¿™æ ·è¿æ¥VPNçš„åŒæ—¶å›½å†…ç½‘ç«™çš„è®¿é—®é€Ÿåº¦å½±å“æœ‰æ•ˆé™ä½ã€‚</li><li><a href="https://www.ytvpn.com/" target="_blank" rel="noopener">äº‘æ¢¯</a>  åœ¨V2EXç¤¾åŒºçœ‹åˆ°æœ‰äººæ¨èè¿‡ï¼Œä¹Ÿæ³¨å†Œäº†ä¸€ä¸‹ï¼ŒåŒå­¦æœ‰éœ€æ±‚æƒ³ä¸‹è½½Google Androidæ–‡æ¡£å’Œæºç ï¼Œäºæ˜¯å°±ä¹°äº†è¿™å®¶çš„æœåŠ¡ï¼Œé€Ÿåº¦è¿˜æ˜¯å¾ˆå¿«çš„ï¼Œæ”¯æŒ3å¤©å†…é€€æ¬¾ã€‚</li><li><a href="https://getqujing.com/zh-CN" target="_blank" rel="noopener">æ›²å¾„</a>  å®˜ç½‘ä»‹ç»æ˜¯ä¸ºäº†å›½å¤–éŸ³ä¹ç±»æµé‡æœåŠ¡ï¼Œæœ‰ä¸€äº›å¤§Vä¹Ÿåœ¨å„è‡ªçš„æ¨æ–‡ä¸­æœ‰ä»‹ç»ï¼Œæƒ³å¿…ä¹Ÿç§¯ç´¯äº†ä¸€äº›äººæ°”ï¼ŒæœåŠ¡åº”è¯¥åšçš„è¿˜æ˜¯ä¸é”™çš„ï¼Œè¦ä¸ç„¶ä¹Ÿä¸ä¼šè¿™ä¹ˆå¤šäººæ¨èã€‚å¯æœˆä»˜æˆ–è€…å­£ä»˜ã€é™æµé‡ï¼Œå…¶ã€å†¬æœˆã€‘å¥—é¤æ¯”è¾ƒé€‚åˆå¤šç»ˆç«¯çš„ç”¨æˆ·ã€‚</li><li><a href="https://theqingyun.co/r/ncmbi3" target="_blank" rel="noopener">è½»äº‘</a>  èµ„è´¹æ¯”è¾ƒåˆç†ï¼Œæ”¯æŒçš„è®¾å¤‡è¾ƒå¤šï¼ŒåŒæ—¶å…è®¸7å°è®¾å¤‡åœ¨çº¿ã€‚</li><li><a href="http://98.126.129.242/index.php" target="_blank" rel="noopener">YesVPN</a>  åŒ…æœˆ10RMBï¼ŒåŒ…å¹´100RMB</li><li><a href="https://www.shayujsq.net/index.php" target="_blank" rel="noopener">é²¨é±¼VPN</a> </li><li>Googleæœç´¢ ä»˜è´¹VPN å…³é”®å­— : )</li></ul><h2 id="VPN-FOR-FREE"><a href="#VPN-FOR-FREE" class="headerlink" title="VPN FOR FREE"></a>VPN FOR FREE</h2><ul><li>Chromeæ’ä»¶ - <a href="http://honx.in/i/U7DdTYKo11MoCLEP" target="_blank" rel="noopener">çº¢æ</a> æµè§ˆå™¨ä¸Šçš„æ’ä»¶ï¼Œä½¿ç”¨è€…ä»…ä»…é€šè¿‡å®‰è£…Chromeæµè§ˆå™¨æ’ä»¶ï¼Œä½¿ç”¨é‚®ç®±æ³¨å†Œç”¨æˆ·ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®Googleã€Facebookå’ŒTwitteräº†ã€‚ç®€å•ä½¿ç”¨ï¼Œç¼ºç‚¹éVIPç‰ˆæœåŠ¡å™¨ä¸æ˜¯ç‰¹åˆ«ç¨³å®šï¼Œç¬”è€…åœ¨æœ€è¿‘3å¤©çš„ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä¸€å¤©ä¸‹åˆåŸºæœ¬æ— æ³•ä½¿ç”¨ï¼ŒæœåŠ¡æ–­æ–­ç»­ç»­ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è´­ä¹°VIPç‰ˆï¼Œç¬”è€…è¿˜æ²¡æœ‰è´­ä¹°ä½“éªŒå°±ä¸ä¾¿åœ¨è¿™é‡Œç»†è¯´ï¼Œå¦‚æœä»…é™æµè§ˆå™¨ç¿»å¢™ï¼ŒæŸ¥çœ‹ç½‘é¡µæˆ–è€…å•çº¿ç¨‹ä¸‹è½½ä¸€äº›å°æ–‡ä»¶çš„è¯ï¼Œè¿™é¢—â€œçº¢æâ€æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li></ul><p>æ–‡ç« è¿˜æ²¡å†™å®Œï¼Œä»Šå¤©çº¢æå…è´¹ç‰ˆå°±æŒ‚äº†ï¼Œä½†æ˜¯çº¢æVIPç‰ˆè¿˜æ˜¯å¾ˆå—æ¬¢è¿çš„ã€‚</p><ul><li>Googleæœç´¢ å…è´¹VPN å…³é”®å­—å³å¯ : )</li></ul><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>åœ¨å®Œæˆè¿™ç¯‡Blogçš„è¿‡ç¨‹ä¸­ï¼ŒæŸ¥é˜…çš„ä¿¡æ¯é€æ¸åƒæ°´æ»´æ³¢çº¹ä¸€æ ·æ•£å¼€ï¼Œä¿¡æ¯é‡è¿‡å¤§ï¼Œè¶Šæ¥è¶Šå®³æ€•ï¼Œè§‰å¾—è¿™é‡Œéœ€è¦åšåŠŸè¯¾çš„ä¸œè¥¿è¿˜æ˜¯å¤ªå¤šï¼Œæœ‰äº›ä¸æ•¢å†™äº†ï¼Œå› æ­¤æ ‡é¢˜ä¹Ÿæ˜¯æ”¹äº†åˆæ”¹ï¼Œç¼©å°èŒƒå›´ã€‚åé¢è¡¥è¡¥è¯¾å†ç»™å„ä½å¸¦æ¥å…¶ä»–ç§‘å­¦ä¸Šç½‘çš„æ–¹å¼ã€‚</p><p>å› ä¸ºç›®å‰å¯¹ç§‘å­¦ä¸Šç½‘éœ€æ±‚ä¸æ˜¯é‚£ä¹ˆå¼ºçƒˆï¼Œå› æ­¤åœ¨å†™å®Œè¿™ç¯‡Blogåï¼Œæˆ‘è§‰å¾—å…ˆä¹°ä¸€ä¸ªç†ŠçŒ«ç¿»æ»šä¹‹å­¦æœ¯ç†ŠçŒ«è¯•ç”¨ä¸€ä¸ªæœˆï¼ˆè¿™å…¶ä¸­ä¹Ÿæœ‰å¾®åšæœ‹å‹æåŠ›æ¨èçš„å› ç´ ï¼‰ã€‚</p><p>å…¶ä»–ç§‘å­¦ä¸Šç½‘æ”¶é›†å¦‚ä¸‹ï¼Œä»¥åæœ‰æœºä¼šåœ¨ç ”ç©¶è·Ÿå¤§å®¶åˆ†äº«ï¼š</p><ul><li><a href="https://eurekavpt.com" target="_blank" rel="noopener">eurekavpt</a></li><li><a href="http://ippotsuko.com/blog/shadowsocks/" target="_blank" rel="noopener">ShadowSocks</a></li><li><a href="https://pcnt.in/" target="_blank" rel="noopener">PowerConnect</a> &amp;&amp; <a href="https://twitter.com/PowerPACNetwork" target="_blank" rel="noopener">å®˜æ–¹ Twitter</a> ä¼šä¸å®šæ—¶æ”¾å‡ºé‚€è¯·ç </li><li>â€¦.</li></ul>]]></content>
    
    <summary type="html">
    
      â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨â€ ä»Šå¤©ç¬”è€…æ¥å’Œå¤§å®¶ä¸€èµ·åˆ†äº«ï¼Œæœ€è¿‘æŸ¥é˜…èµ„æ–™æ•´ç†åçš„ä¸€äº›å…³äºVPNçš„é‚£ç‚¹äº‹å„¿ã€‚
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="VPN" scheme="https://beanlee.github.io/tags/VPN/"/>
    
  </entry>
  
  <entry>
    <title>Mac Tool</title>
    <link href="https://beanlee.github.io/2014/06/19/Mac-Tool-Series-1/"/>
    <id>https://beanlee.github.io/2014/06/19/Mac-Tool-Series-1/</id>
    <published>2014-06-18T16:00:01.000Z</published>
    <updated>2018-02-27T04:14:20.329Z</updated>
    
    <content type="html"><![CDATA[<p>æ¨èçš„ä¸¤æ¬¾è½¯ä»¶ï¼Œå®ƒä»¬æœ‰åŠ©äºæˆ‘æé«˜æ•ˆç‡ï¼Œå› æ­¤æ¥å®Œæˆè¿™ç¯‡æ¨ä»‹æ–‡ã€‚<br>Dash ä¸€æ¬¾ç”¨æ¥é›†æˆå¿«é€ŸæŸ¥é˜…æ–‡æ¡£ï¼›CheatSheet ä¸€æ¬¾ç”¨æ¥æç¤ºå¿«æ·é”®ã€‚</p><a id="more"></a><p><img src="http://ww3.sinaimg.cn/mw690/454c4867jw9ehyt3n7t8tj20g407lq42.jpg" alt="&#39;tools_1&#39;"></p><h1 id="Dash"><a href="#Dash" class="headerlink" title="Dash"></a>Dash</h1><p>ç›¸ä¿¡æ—¥å¸¸å·¥ä½œæˆ–è€…åšä¸ªäººå¼€å‘çš„æœ‹å‹ï¼Œæµè§ˆå™¨çš„æ”¶è—å¤¹ä¸­ä¸€å®šæœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¶è—äº†nä¸ªæŠ€æœ¯ç±»çš„åœ¨çº¿æ–‡æ¡£ä»¥åŠå„ç§ä»£ç ç‰‡æ®µï¼ŒDashå°±æ˜¯è¿™æ ·ä¸€æ¬¾ä¸“æ³¨äºæä¾›å„ç±»APIæ–‡æ¡£å’Œæ”¶è—ä»£ç ç‰‡æ®µçš„å·¥å…·ã€‚</p><h3 id="å€¼å¾—æ¨è"><a href="#å€¼å¾—æ¨è" class="headerlink" title="å€¼å¾—æ¨è"></a>å€¼å¾—æ¨è</h3><ul><li>æ¨èç‚¹1-å†…å®¹ä¸°å¯Œ<br>å…·å¤‡ä¸°å¯Œçš„Docsetsï¼Œå¹¶ä¸”éƒ½æ˜¯æä¾›å®˜æ–¹åŸç‰ˆææ–™ã€‚</li></ul><p><img src="http://ww2.sinaimg.cn/mw690/454c4867jw1emgqaa8qw6j21ki0zw489.jpg" alt="&#39;tools_dash_1&#39;"></p><ul><li>æ¨èç‚¹2-å¿«é€ŸæŸ¥è¯¢<br>Dashæä¾›å¿«é€Ÿçš„æŸ¥è¯¢ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬å¤šæ–‡æ¡£çš„è”åˆæŸ¥è¯¢ï¼Œä»¥åŠåœ¨æŸä¸€ä¸ªDocsetä¸­æŸ¥è¯¢ï¼ŒæŸ¥è¯¢æµç•…åº¦å¾ˆå¥½ã€‚</li></ul><p>å›¾ç‰‡TODO</p><ul><li>ç¼ºç‚¹<br>å”®ä»·æ˜‚è´µï¼Œç›®å‰Dash Full Versionè¦RMB128ï¼Œåœ¨æ·˜å®ä¸Šè´­ä¹°æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼›å¦‚æœå¯ä»¥å¿å—å¶å°”æŸ¥è¯¢ç­‰å¾…8sæ—¶é—´å‡ºç»“æœï¼Œå¯ä»¥ä½¿ç”¨å…è´¹ç‰ˆï¼›ä¸€äº›SDKå’ŒAPIå—é™äºç³»ç»Ÿï¼Œåªæä¾›é“¾æ¥ï¼Œå¦‚Objective-Cç­‰ï¼Œå€¼å¾—é«˜å…´çš„æ˜¯Swiftå¯ä»¥ç›´æ¥æŸ¥è¯¢å¾ˆä¸‹è½½æŸ¥é˜…ã€‚</li></ul><h1 id="CheatSheet"><a href="#CheatSheet" class="headerlink" title="CheatSheet"></a>CheatSheet</h1><p>è¿™æ˜¯ä¸€æ¬¾å¯ä»¥æ˜¾ç¤ºå½“å‰åº”ç”¨æ‰€æœ‰å¿«æ·é”®åˆ—è¡¨çš„è½¯ä»¶ï¼Œä½¿ç”¨è€…åªéœ€è¦æŒ‰ä½Commandå°±èƒ½è§è¯†åˆ°ä»–çš„å¼ºå¤§ä¹‹å¤„ã€‚åœ¨ç¬”è€…è¿˜æ²¡æœ‰Macçš„æ—¶å€™ï¼Œå…³æ³¨<a href="http://www.appinn.com" target="_blank" rel="noopener">å°ä¼—è½¯ä»¶</a>çš„æ—¶å€™çœ‹åˆ°ä»–çš„æ¨èï¼Œäºæ˜¯å°±åœ¨<a href="http://www.cheatsheetapp.com/CheatSheet/" target="_blank" rel="noopener">CheatSheetå®˜ç½‘</a>ä¸‹è½½æ”¶è—äº†è¿™æ¬¾å¯ä»¥æé«˜æ•ˆç‡çš„è½¯ä»¶ã€‚<br>PS.é¡¾åæ€ä¹‰å¿«æ·é”®æ˜¯å¯ä»¥å¸®åŠ©ä½¿ç”¨è€…æé«˜æ•ˆç‡ï¼Œå–„ç”¨ã€ä¹ æƒ¯å¿«æ·é”®ï¼Œä»¥åŠè°ƒæ•´è‡ªå·±æ•°å­—çš„å¿«æ·é”®å¯ä»¥æ›´æœ‰æ•ˆçš„æé«˜è‡ªå·±çš„æ•ˆç‡ï¼Œè¿™æ— ç–‘ä¹Ÿæ˜¯å¸®åŠ©æˆ‘ä»¬è‡ªå·±æé«˜çš„æ–¹å¼ä¹‹ä¸€ã€‚</p>]]></content>
    
    <summary type="html">
    
      Mac OSX ä¸‹ä½³è½¯æ¨è Dash å’Œ CheatSheet
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Tool" scheme="https://beanlee.github.io/tags/Tool/"/>
    
      <category term="Mac" scheme="https://beanlee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Swift Study 1</title>
    <link href="https://beanlee.github.io/2014/06/08/Study-Swift-1/"/>
    <id>https://beanlee.github.io/2014/06/08/Study-Swift-1/</id>
    <published>2014-06-07T16:00:01.000Z</published>
    <updated>2018-02-27T04:14:08.976Z</updated>
    
    <content type="html"><![CDATA[<p>Swift is an important chance to find coding passion back to me. So Do Not Lose It! Come on!</p><a id="more"></a><h2 id="Swift-å­¦ä¹ ç¬”è®°-ä¸€"><a href="#Swift-å­¦ä¹ ç¬”è®°-ä¸€" class="headerlink" title="Swift å­¦ä¹ ç¬”è®° ä¸€"></a>Swift å­¦ä¹ ç¬”è®° ä¸€</h2><p>ä»2014-06-09å¼€å§‹æ¯æ—¥æ›´æ–°ï¼Œç£ä¿ƒè‡ªå·±å­¦ä¹ åšæŒï¼Œä¸€å‘¨ä¸ºä¸€ç¯‡å‘¨æœŸï¼ŒåŠ æ²¹ï¼</p><h3 id="ææ–™æ”¶é›†"><a href="#ææ–™æ”¶é›†" class="headerlink" title="ææ–™æ”¶é›†"></a>ææ–™æ”¶é›†</h3><p><a href="https://itunes.apple.com/us/book/the-swift-programming-language/id881256329?mt=11" target="_blank" rel="noopener">å®˜æ–¹iBookç‰ˆ</a></p><p>IDE Xcode 6 Beta</p><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println</span>(<span class="string">"Hello World!"</span>)</span><br></pre></td></tr></table></figure><h3 id="2014-06-09è®°å½•"><a href="#2014-06-09è®°å½•" class="headerlink" title="2014-06-09è®°å½•"></a>2014-06-09è®°å½•</h3><p>å­¦ä¹ å¸¸é‡(let)ã€å˜é‡(var)å®šä¹‰çš„æ–¹æ³•ï¼Œå­—ç¬¦ä¸²å‚æ•°ä¼ é€’()ï¼ŒSwiftç±»å‹æ¨å¯¼ var numValue = 123, strValue = â€œabcâ€ï¼Œæ•°ç»„å’Œå­—å…¸å®šä¹‰æ–¹å¼ç­‰ç­‰ã€‚</p><p>å‡½æ•°çš„å®šä¹‰funcï¼Œå¦‚:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">(name: String, day: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"Hello <span class="subst">\(name)</span>, Today is <span class="subst">\(day)</span> !"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯å˜å‚æ•°çš„å‡½æ•°å®šä¹‰ï¼Œå¦‚ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumOf</span><span class="params">(numbers: Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        sum += number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line">sumOf()</span><br><span class="line">sumOf(<span class="number">42</span>, <span class="number">597</span>, <span class="number">12</span>)â€</span><br></pre></td></tr></table></figure></p><p>æ­£åœ¨çœ‹æå®¢å­¦é™¢çš„ Weather App çš„æ•™å­¦è§†é¢‘ï¼Œçœ‹æ¥éœ€è¦æ¶è¡¥çš„ä¸€äº›äº¤äº’è¿˜æœ‰å¾ˆå¤šï¼ŒåŠ æ²¹ï¼</p><h3 id="2014-06-10è®°å½•"><a href="#2014-06-10è®°å½•" class="headerlink" title="2014-06-10è®°å½•"></a>2014-06-10è®°å½•</h3><p>çœ‹å®ŒåšWeather Appçš„Demoè§†é¢‘ï¼Œç†Ÿæ‚‰ä¸€ä¸ªå¯ä»¥è§£æJSONçš„å·¥å…·API</p><pre><code>NSJSONSerialization</code></pre><p>é‡æ–°å›å¤´ç»§ç»­çœ‹æ–‡æ¡£ï¼Œæœ€è¿‘åŠ ç­å’Œå‚åŠ Interviewï¼Œé˜…è¯»çš„æ—¶é—´å°‘äº†ï¼Œè¦åšæŒçœ‹ï¼</p><p><a href="http://numbbbbb.github.io/the-swift-programming-language-in-chinese/" target="_blank" rel="noopener">GitBook ä¸­æ–‡ç‰ˆSwiftæ–‡æ¡£</a></p><h4 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h4><p>ä½¿ç”¨ifå’Œswitchæ¥è¿›è¡Œæ¡ä»¶æ“ä½œï¼Œä½¿ç”¨for-inã€forã€whileå’Œdo-whileæ¥è¿›è¡Œå¾ªç¯ã€‚åŒ…è£¹æ¡ä»¶å’Œå¾ªç¯å˜é‡æ‹¬å·å¯ä»¥çœç•¥ï¼Œä½†æ˜¯è¯­å¥ä½“çš„å¤§æ‹¬å·æ˜¯å¿…é¡»çš„ã€‚</p><p>åœ¨ç±»å‹åé¢åŠ ä¸€ä¸ªé—®å·æ¥æ ‡è®°è¿™ä¸ªå˜é‡çš„å€¼æ˜¯å¯é€‰çš„ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> optionalString: <span class="type">String</span>? = <span class="string">"Hello"</span></span><br><span class="line">optionalString == <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> optionalName: <span class="type">String</span>? = <span class="string">"John Appleseed"</span></span><br><span class="line"><span class="keyword">var</span> greeting = <span class="string">"Hello!"</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = optionalName &#123;</span><br><span class="line">    greeting = <span class="string">"Hello, <span class="subst">\(name)</span>"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ifçš„æ¡ä»¶å¦‚æœæ˜¯ nil å°±æ˜¯falseã€‚</p><p>switch caseä¸­ä¸€å®šè¦æœ‰defaultå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿›å…¥è¿™ä¸ªæ¡ä»¶æ“ä½œå¯èƒ½ä¼šæ²¡æœ‰å‡ºå£ã€‚</p><p>å¾ªç¯ä¸­ä½¿ç”¨ .. åˆ›å»ºçš„èŒƒå›´ä¸åŒ…å«ä¸Šç•Œï¼Œå¦‚æœæƒ³åŒ…å«çš„è¯éœ€è¦ä½¿ç”¨ â€¦ ï¼Œå¦‚ï¼ˆ0â€¦10 è¡¨è¾¾ä»0å¼€å§‹åˆ°10ï¼Œä¸”åŒ…æ‹¬10ï¼›0..10 åˆ™è¡¨å•ä»0å¼€å§‹åˆ°10ä½†ä¸åŒ…æ‹¬10ï¼‰</p><h4 id="å‡½æ•°ä¸é—­åŒ…"><a href="#å‡½æ•°ä¸é—­åŒ…" class="headerlink" title="å‡½æ•°ä¸é—­åŒ…"></a>å‡½æ•°ä¸é—­åŒ…</h4><p>å‰é¢åœ¨è§†é¢‘é‡Œé¢çœ‹åˆ°äº†å‡½æ•°çš„å®šä¹‰æ–¹æ³•ï¼Œè¿™é‡Œé€šè¿‡æ–‡æ¡£å†æ•´ç†ä¸€ä¸‹ã€‚</p><p>ä½¿ç”¨funcæ¥å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨åå­—å’Œå‚æ•°æ¥è°ƒç”¨å‡½æ•°ã€‚ä½¿ç”¨-&gt;æ¥æŒ‡å®šå‡½æ•°è¿”å›å€¼ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(name: String, day: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello <span class="subst">\(name)</span>, today is <span class="subst">\(day)</span>."</span></span><br><span class="line">&#125;</span><br><span class="line">greet(<span class="string">"Bob"</span>, <span class="string">"Tuesday"</span>)</span><br></pre></td></tr></table></figure></p><h3 id="2014-06-11"><a href="#2014-06-11" class="headerlink" title="2014-06-11"></a>2014-06-11</h3><p>æšä¸¾ã€é—­åŒ…å®è·µã€‚</p><p>ä»Šå¤©å…¬å¸è¶³çƒèµ›ï¼Œå¤ªç´¯å°±æš‚æ—¶ä¾ç…§è§†é¢‘æ•™ç¨‹åšäº†ä¸ªè¯»å–å¤©æ°”çš„demoï¼Œæ˜å¤©ç»§ç»­ï¼</p><h3 id="2014-06-15"><a href="#2014-06-15" class="headerlink" title="2014-06-15"></a>2014-06-15</h3><p>é‡ä¸Šå…¬å¸åŠ ç­å»¶è¯¯äº†ä¸‰å¤©ï¼Œä¸–ç•Œæ¯å¼€å¹•ç†¬å¤œçœ‹æ¯”èµ›åˆå¯¼è‡´æ™šä¸Šéœ€è¦ç¨å¾®æ—©ä¸€ç‚¹ç¡ï¼Œæœ€è¿‘å­¦ä¹ è®¡åˆ’æœ‰äº›å»¶åï¼Œä»Šå¤©åçœä¸€ä¸‹ï¼Swiftå­¦ä¹ ä»Šå¤©æš‚ç¼“åœä¸€ä¸‹ï¼Œæ•´ç†äº†ä¸€ä¸‹ä¸ªäººResumeï¼ŒåŒæ—¶åœ¨è¿™æœŸé—´äº†è§£Macä¸€ä¸ªå¾ˆæœ‰ç”¨çš„è½¯ä»¶<a href="https://itunes.apple.com/us/app/dash-docs-snippets/id458034879?mt=12" target="_blank" rel="noopener">Dash</a>ï¼ˆæ±‡é›†SDKæ–‡æ¡£å’ŒSheetså¿«é€ŸæŸ¥è¯¢æŸ¥çœ‹å·¥å…·ï¼‰ï¼Œæ¨èç»™åœ¨Macç¯å¢ƒä¸‹åšå¼€å‘çš„å„ä½æœ‹å‹ï¼</p><p>to be continueâ€¦</p>]]></content>
    
    <summary type="html">
    
      Swift is an important chance to find coding passion back to me. So Do Not Lose It! Come on!
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Apple" scheme="https://beanlee.github.io/tags/Apple/"/>
    
      <category term="Swift" scheme="https://beanlee.github.io/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>JavaåŸºç¡€é›†åˆç±»å¤ä¹ </title>
    <link href="https://beanlee.github.io/2014/06/06/Java-Collection-Review/"/>
    <id>https://beanlee.github.io/2014/06/06/Java-Collection-Review/</id>
    <published>2014-06-05T16:00:01.000Z</published>
    <updated>2018-02-27T04:14:02.660Z</updated>
    
    <content type="html"><![CDATA[<p>JavaåŸºç¡€é›†åˆç±»çš„é—®é¢˜ç®€å•æ•´ç†</p><a id="more"></a><h1 id="JAVAåŸºç¡€é›†åˆç±»Review"><a href="#JAVAåŸºç¡€é›†åˆç±»Review" class="headerlink" title="JAVAåŸºç¡€é›†åˆç±»Review"></a>JAVAåŸºç¡€é›†åˆç±»Review</h1><p>##JAVAé›†åˆç±»åˆ†ç±»</p><ul><li>Collectionï¼šé€šå¸¸æ˜¯ä¸€ç»„æœ‰ä¸€å®šè§„å¾‹çš„ç‹¬ç«‹å…ƒç´ ã€‚Listå¿…é¡»æŒ‰ç…§ç‰¹å®šçš„é¡ºåºæŒæœ‰è¿™äº›å…ƒç´ ï¼Œè€ŒSetåˆ™ä¸èƒ½ä¿å­˜é‡å¤çš„å…ƒç´ ã€‚</li><li>Mapï¼šä¸€ç»„ä»¥â€œé”®ï¼ï¼å€¼â€ï¼ˆkey-valueï¼‰å½¢å¼å‡ºç°çš„pairsã€‚</li></ul><h3 id="Collection-Interface"><a href="#Collection-Interface" class="headerlink" title="Collection Interface"></a>Collection Interface</h3><p>Collectionæ˜¯æœ€åŸºæœ¬çš„é›†åˆæ¥å£ï¼Œå®ƒä¸‹é¢çš„å®ç°ç±»åŒ…æ‹¬List(LinkedList, ArrayList,Vector)ã€Setç­‰ã€‚</p><ul><li><p>Listæ¥å£æ˜¯æœ‰åºçš„Collectionï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½èƒ½å¤Ÿè¢«ç”¨æˆ·ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®ï¼Œç±»ä¼¼Javaä¸­çš„æ•°ç»„ã€‚ä¸Setä¸åŒï¼ŒListå…è®¸å­˜åœ¨ç›¸åŒçš„å…ƒç´ ã€‚</p><p>LinkedList:å®ƒæ˜¯æœ‰åºçš„å…è®¸å…ƒç´ ä¸ºnullï¼Œå¹¶ä¸”æä¾›é¢å¤–çš„getï¼Œremoveï¼Œinsertæ–¹æ³•æ¥æ“ä½œLinkedListçš„é¦–æˆ–å°¾éƒ¨ï¼Œç±»ä¼¼é“¾è¡¨çš„ç»“æ„ï¼Œå¯ä»¥ç”¨æ¥å®ç°å †æ ˆï¼ˆStackï¼‰ã€é˜Ÿåˆ—ï¼ˆQueueï¼‰æˆ–è€…åŒå‘é˜Ÿåˆ—ï¼ˆDequeï¼‰ï¼Œå®ƒæ˜¯ä¸åŒæ­¥çš„ã€‚</p><p>ArrayList:å®ƒçš„å†…éƒ¨å®ç°æœºåˆ¶å®é™…ä¸Šä½¿ç”¨çš„æ˜¯Objectæ•°ç»„ï¼Œä¸”ä¸€ä¸ªå¤§å°å¯å˜ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªArrayListåœ¨åˆå§‹åŒ–æ—¶éƒ½æœ‰ä¸€ä¸ªå®¹é‡ï¼Œå¤–éƒ¨çœ‹è¿™ä¸ªå®¹é‡æ˜¯å¯ä»¥æ ¹æ®å…ƒç´ çš„æ·»åŠ è‡ªåŠ¨å¢åŠ ã€‚å½“å®¹é‡ä¸å¤Ÿæ—¶ï¼Œç³»ç»Ÿå°±ä¼šåˆ›å»ºä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ï¼ˆ1.5å€å·¦å³ï¼‰å¹¶ä¸”æŠŠè€çš„æ•°ç»„å®Œå…¨æ‹·è´åˆ°æ–°çš„æ•°ç»„ä¸­ï¼ŒåŒæ—¶è€æ•°ç»„å°±è‡ªåŠ¨è¿›å…¥GCå¾…å¤„ç†çŠ¶æ€ï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚</p><p>ç›¸æ¯”LinkedListï¼ŒArrayListä¸­çš„get(index)çš„æ–¹æ³•é€Ÿåº¦è¾ƒå¿«ï¼Œæ•ˆç‡é«˜ã€‚</p><p>Vector:çº¿ç¨‹åŒæ­¥çš„ArrayListï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å¼€å§‹è¿­ä»£Vectoræ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ¥æ·»åŠ ã€åˆ é™¤ç­‰æ”¹å˜Vectoræ—¶ï¼Œå°±ä¼šæŠ›å‡ºConcurrentModificationExceptionã€‚</p><p>Stack:ç»§æ‰¿è‡ªVectorï¼Œä»åå­—å¯ä»¥çœ‹å‡ºå †æ ˆï¼Œå®ƒå®ç°äº†ä¸€ä¸ªåè¿›å…ˆå‡ºçš„å †æ ˆã€‚</p></li></ul><ul><li>Setæ¥å£æ˜¯ä¸€ç§ä¸å…è®¸é‡å¤çš„Collectionï¼Œå³ä»»æ„çš„ä¸¤ä¸ªå…ƒç´ e1å’Œe2éƒ½æœ‰e1.equals(e2)=falseï¼ŒSetæœ€å¤šæœ‰ä¸€ä¸ªnullå…ƒç´ ã€‚è¿™å…¶ä¸­equalsæ–¹æ³•å°±æ˜¯ä¾é å…ƒç´ çš„hashCodeæ¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œæœ‰æ—¶å¯ä»¥é€šè¿‡é‡å†™ä¸€äº›å¯¹è±¡çš„HashCodeæ–¹æ³•æ¥æ”¹å˜åˆ¤æ–­ç›¸ç­‰çš„åˆ¤æ–­é€»è¾‘ã€‚</li></ul><h3 id="Map-Interface"><a href="#Map-Interface" class="headerlink" title="Map Interface"></a>Map Interface</h3><ul><li><p>HashTable</p><p>HashTableé›†æˆMapæ¥å£ï¼Œå®ç°äº†ä¸€ä¸ªkey-valueæ˜ å°„çš„å“ˆå¸Œè¡¨ã€‚ä»»ä½•éç©ºï¼ˆnon-nullï¼‰çš„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºkeyæˆ–valueã€‚HashTableæ˜¯çº¿ç¨‹åŒæ­¥çš„ã€‚</p><p>ä¸äº†è§£çš„çŸ¥è¯†ç‚¹ï¼šHashtableé€šè¿‡initial capacityå’Œload factorä¸¤ä¸ªå‚æ•°è°ƒæ•´æ€§èƒ½ã€‚é€šå¸¸ç¼ºçœçš„load factor 0.75è¾ƒå¥½åœ°å®ç°äº†æ—¶é—´å’Œç©ºé—´çš„å‡è¡¡ã€‚å¢å¤§load factorå¯ä»¥èŠ‚çœç©ºé—´ä½†ç›¸åº”çš„æŸ¥æ‰¾æ—¶é—´å°†å¢å¤§ï¼Œè¿™ä¼šå½±å“åƒgetå’Œputè¿™æ ·çš„æ“ä½œã€‚</p><p>hashCodeå’Œequalsæ–¹æ³•æ˜¯å¦é‡å†™ç›¸å…³ï¼š</p></li><li><p>HashMap</p><p>HashMapå’ŒHashtableç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºHashMapæ˜¯éåŒæ­¥çš„ï¼Œå¹¶ä¸”å…è®¸nullï¼Œå³null valueå’Œnull keyã€‚ï¼Œä½†æ˜¯å°†HashMapè§†ä¸ºCollectionæ—¶ï¼ˆvalues()æ–¹æ³•å¯è¿”å›Collectionï¼‰ï¼Œå…¶è¿­ä»£å­æ“ä½œæ—¶é—´å¼€é”€å’ŒHashMap çš„å®¹é‡æˆæ¯”ä¾‹ã€‚å› æ­¤ï¼Œå¦‚æœè¿­ä»£æ“ä½œçš„æ€§èƒ½ç›¸å½“é‡è¦çš„è¯ï¼Œä¸è¦å°†HashMapçš„åˆå§‹åŒ–å®¹é‡è®¾å¾—è¿‡é«˜ï¼Œæˆ–è€…load factorè¿‡ä½ã€‚</p></li><li><p>WeakHashMap</p><p>WeakHashMapæ˜¯ä¸€ç§æ”¹è¿›çš„HashMapï¼Œå®ƒå¯¹keyå®è¡Œâ€œå¼±å¼•ç”¨â€ï¼Œå¦‚æœä¸€ä¸ªkeyä¸å†è¢«å¤–éƒ¨æ‰€å¼•ç”¨ï¼Œé‚£ä¹ˆè¯¥keyå¯ä»¥è¢«GCå›æ”¶ã€‚å®é™…å¼€å‘ä¸­è¿˜æ²¡æœ‰ç”¨è¿‡ï¼Œå¯ä»¥å°è¯•ç”¨ä¸€ä¸‹ã€‚</p></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>Listé›†åˆæ˜¯æœ‰åºé›†åˆï¼Œé›†åˆä¸­çš„å…ƒç´ å¯ä»¥é‡å¤ï¼Œè®¿é—®é›†åˆä¸­çš„å…ƒç´ å¯ä»¥æ ¹æ®å…ƒç´ çš„ç´¢å¼•æ¥è®¿é—®ã€‚</li><li>Seté›†åˆæ˜¯æ— åºé›†åˆï¼Œé›†åˆä¸­çš„å…ƒç´ ä¸å¯ä»¥é‡å¤ï¼Œè®¿é—®é›†åˆä¸­çš„å…ƒç´ åªèƒ½æ ¹æ®å…ƒç´ æœ¬èº«æ¥è®¿é—®ï¼ˆä¹Ÿæ˜¯ä¸èƒ½é›†åˆé‡Œå…ƒç´ ä¸å…è®¸é‡å¤çš„åŸå› ï¼‰ã€‚</li><li>Mapé›†åˆä¸­ä¿å­˜Key-valueå¯¹å½¢å¼çš„å…ƒç´ ï¼Œè®¿é—®æ—¶åªèƒ½æ ¹æ®æ¯é¡¹å…ƒç´ çš„keyæ¥è®¿é—®å…¶valueã€‚</li><li>å¦‚æœæ¶‰åŠåˆ°å †æ ˆï¼Œé˜Ÿåˆ—ç­‰æ“ä½œï¼Œåº”è¯¥è€ƒè™‘ç”¨Listï¼Œå¯¹äºéœ€è¦å¿«é€Ÿæ’å…¥ï¼Œåˆ é™¤å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨LinkedListï¼Œå¦‚æœéœ€è¦å¿«é€Ÿéšæœºè®¿é—®å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨ArrayListã€‚</li><li>å¦‚æœç¨‹åºåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸­ï¼Œæˆ–è€…è®¿é—®ä»…ä»…åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿›è¡Œï¼Œè€ƒè™‘éåŒæ­¥çš„ç±»ï¼Œå…¶æ•ˆç‡è¾ƒé«˜ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶æ“ä½œä¸€ä¸ªç±»ï¼Œåº”è¯¥ä½¿ç”¨åŒæ­¥çš„ç±»ã€‚è¦ç‰¹åˆ«æ³¨æ„å¯¹å“ˆå¸Œè¡¨çš„æ“ä½œï¼Œä½œä¸ºkeyçš„å¯¹è±¡è¦æ­£ç¡®å¤å†™equalså’ŒhashCodeæ–¹æ³•ã€‚</li><li>å°½é‡è¿”å›æ¥å£è€Œéå®é™…çš„ç±»å‹ï¼Œå¦‚è¿”å›Listè€ŒéArrayListï¼Œè¿™æ ·å¦‚æœä»¥åéœ€è¦å°†ArrayListæ¢æˆLinkedListæ—¶ï¼Œå®¢æˆ·ç«¯ä»£ç ä¸ç”¨æ”¹å˜ã€‚è¿™å°±æ˜¯é’ˆå¯¹æŠ½è±¡ç¼–ç¨‹ã€‚</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="http://liuzhichao.com/p/652.html" target="_blank" rel="noopener">æŸ³å¿—è¶…Blogä¸­ä¸€ç¯‡æ–‡ç« ã€ŠJavaé›†åˆç±»ã€‹</a></p>]]></content>
    
    <summary type="html">
    
      JavaåŸºç¡€é›†åˆç±»çš„é—®é¢˜ç®€å•æ•´ç†
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://beanlee.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="æ€»ç»“" scheme="https://beanlee.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="Java" scheme="https://beanlee.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰è®¾è®¡æ„Ÿçš„æ•°ç äº§å“æ‰èƒ½æ‰“åŠ¨äººå¿ƒ</title>
    <link href="https://beanlee.github.io/2014/04/12/Misfit-Shine/"/>
    <id>https://beanlee.github.io/2014/04/12/Misfit-Shine/</id>
    <published>2014-04-11T16:00:01.000Z</published>
    <updated>2018-02-27T04:20:54.673Z</updated>
    
    <content type="html"><![CDATA[<p>å¤æ—¥æ¥è¢­ï¼Œç¬”è€…å¯¹æ¯”äº†å‡ æ¬¾è¿åŠ¨æ‰‹ç¯ï¼Œæœ€ç»ˆå…¥æ‰‹Misfit Shineå¸¦æ¥å¼€ç®±å›¾æ–‡å’Œç®€å•å¯¹æ¯”åˆ†äº«</p><a id="more"></a><h3 id="è¿åŠ¨å¿«ä¹"><a href="#è¿åŠ¨å¿«ä¹" class="headerlink" title="è¿åŠ¨å¿«ä¹"></a>è¿åŠ¨å¿«ä¹</h3><p>ç¬”è€…å¾ˆå–œçˆ±æœ‰æ°§è¿åŠ¨ï¼Œåçˆ±è¶³çƒå’Œè·‘æ­¥ï¼Œå°æ—¶å€™å°±ç»å¸¸æŠ±ç€è¶³çƒè·Ÿç€ä¸€å¸®å°ä¼™ä¼´å»è™½ç„¶æ»¡æ˜¯å°˜åœŸçš„è¶³çƒåœºã€‚ï¼ˆPS.è¿™é‡Œåæ§½ä¸€ä¸‹ï¼Œå¾ˆå¤šäººåæ§½å›½è¶³ï¼Œå›½å†…çš„è¶³çƒæ°›å›´ä¸æµ“ï¼Œè¿åŸºç¡€è®¾å¤‡å®Œå–„çš„è¶³çƒåœºéƒ½å¾ˆå°‘ï¼Œå°¤å…¶æ˜¯åœ¨äºŒä¸‰çº¿åŸå¸‚ï¼‰</p><p>å…ˆæ¥å’Œå„ä½åˆ†äº«ä¸€ä¸‹å½“æ—¶è´­ä¹°è¿™æ¬¾è¿åŠ¨æ‰‹ç¯çš„åˆè¡·ï¼Œåº”è¯¥è¯´æ—©åœ¨2012å¹´çš„Google Glassåœ¨å…¨çƒå…´èµ·äº†ç©¿æˆ´å¼æ•°ç è®¾å¤‡çš„çƒ­æ½®ï¼Œè¯¸å¤šå‚å•†éƒ½åœ¨å„è‡ªçš„é¢†åŸŸè·Ÿè¿›ï¼Œè¿™å…¶ä¸­è¿åŠ¨æ£€æµ‹ç±»çš„è¿åŠ¨æ‰‹ç¯ï¼Œç§ç±»é¢‡ä¸ºä¸°å¯Œã€‚ç¬”è€…ä¸€ç›´æ˜¯ä¸ªå¤œè·‘çˆ±å¥½è€…ï¼ŒæœŸåˆå¯¹æ­¤å¹¶æ²¡æœ‰å¤ªå¤§éœ€æ±‚ä¹Ÿå°±æ²¡æœ‰å…³æ³¨ã€‚ç›´åˆ°æ—¶éš”2å¹´åï¼Œæ— æ„é—´åœ¨ç½‘ç»œä¸­çœ‹åˆ°ç™¾åº¦æ——ä¸‹å…¬å¸ä¹Ÿæœ‰ä¸€æ¬¾è¿åŠ¨æ‰‹ç¯ï¼Œå³å°†å‘å¸ƒçš„æ–°é—»æ‰å†æ¬¡è¢«å‹¾èµ·å…´è¶£ï¼Œé€šè¿‡ç½‘ç»œæœç´¢ä¸€äº›èµ„æ–™æŸ¥é˜…äº†è§£ï¼Œè¶Šå‘æ„Ÿè§‰ç©¿æˆ´å¼æ•°ç äº§å“å¯¹ç”Ÿæ´»çš„é‡è¦æ€§è¶Šæ¥è¶Šå¤§ï¼Œå› æ­¤å†³å®šè´­å…¥ï¼Œä»¥æ­¤æ¿€åŠ±è‡ªå·±åŠ å¼ºè¿åŠ¨ï¼Œè¿åŠ¨æœ€å¿«ä¹ï¼</p><h3 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h3><p>æ ¹æ®Shineçš„åå­—è‡ªè¡ŒGoogle :)</p><h3 id="ä¸‰æ¬¾æ‰‹ç¯ç®€å•å¯¹æ¯”"><a href="#ä¸‰æ¬¾æ‰‹ç¯ç®€å•å¯¹æ¯”" class="headerlink" title="ä¸‰æ¬¾æ‰‹ç¯ç®€å•å¯¹æ¯”"></a>ä¸‰æ¬¾æ‰‹ç¯ç®€å•å¯¹æ¯”</h3><p>ç¬”è€…çš„æ•°ç ç¡¬ä»¶æ¶ˆè´¹çº§åˆ«ï¼Œå°šå¤„äºâ€œå±Œä¸â€çº§åˆ«ï¼ŒåŒ…æ‹¬æ¯æ¬¡ä¹°å¾ˆå¤šæ•°ç ç”µå­äº§å“éƒ½è¦ç»è¿‡ä¸€æ®µæ—¶é—´ç ”ç©¶å’Œå¯¹æ¯”ï¼Œçº ç»“è¿‡æ‰ä¼šè´­ä¹°ï¼Œè¿™æ¬¾ä¹ŸåŒæ ·ä¸ä¾‹å¤–ã€‚è¿™é‡Œåªç®€å•è¯´æ˜ä¸€ä¸‹ä¸‰ç§æ™ºèƒ½æ‰‹ç¯çš„å·®å¼‚ã€‚</p><ul><li>Jawbone UP</li><li>Fitbit Flex</li><li>Misfit Shine</li></ul><p><img src="http://ww4.sinaimg.cn/mw690/454c4867gw1efc2f6n55ij20ug0ee41k.jpg" alt="&#39;compare&#39;"></p><h3 id="Some-Pics"><a href="#Some-Pics" class="headerlink" title="Some Pics"></a>Some Pics</h3><p><img src="http://ww3.sinaimg.cn/mw690/454c4867gw1efc2cbmd5lj20qo140wor.jpg" alt="&#39;misfit&#39;"></p><h3 id="Shineä¼˜ç¼ºç‚¹"><a href="#Shineä¼˜ç¼ºç‚¹" class="headerlink" title="Shineä¼˜ç¼ºç‚¹"></a>Shineä¼˜ç¼ºç‚¹</h3><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ç§‘æŠ€æ„Ÿã€è®¾è®¡æ„Ÿåè¶³ï¼Œç¡¬å¸å¤§å°æˆ´åœ¨æ‰‹ä¸Šéå¸¸é…·ï¼Œé€šè¿‡å‡ å¤©çš„ä½¿ç”¨æµ‹è¯•ï¼Œè¿åŠ¨è®°å¿†æ¯”è¾ƒç²¾å‡†ï¼ŒåŒ…æ‹¬ç¡çœ æ¨¡å¼ä¸­è®°å½•æ·±åº¦ç¡çœ çš„æ—¶é•¿ï¼Œç›¸å¯¹æ¯”è¾ƒå‡†ç¡®ã€‚</li><li>åœ¨2013å¹´è·å¾—çº¢ç‚¹è®¾è®¡å¥–ï¼Œå°å°çš„è¿åŠ¨æ£€æµ‹å™¨ï¼Œæˆ´çš„æ—¶é—´é•¿äº†å­˜åœ¨æ„Ÿéå¸¸å°ï¼Œä¸ä¼šå½±å“æ­£å¸¸ç”Ÿæ´»ï¼Œåœ¨æ”¶é›†èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œç¬”è€…çœ‹åˆ°å¾ˆå¤šç½‘ä¸Šçš„æœ‹å‹ç”šè‡³ä¸¢äº†å¥½å‡ å¤©ï¼Œæƒ³èµ·æ¥åŒæ­¥è¿åŠ¨ä¿¡æ¯çš„æ—¶å€™æ‰å‘ç°æ‰¾ä¸åˆ°çš„æƒ…å†µã€‚ï¼ˆè¿™ä¹Ÿå¯èƒ½å˜ç›¸çš„ç®—æ˜¯ä¸€ç§ç¼ºç‚¹å§:Pï¼‰</li><li>Shineæ²¡æœ‰å…·è±¡çš„æ˜¾ç¤ºå™¨æˆ–è€…æ›²é¢å±å¹•ï¼Œè€Œä¸”é‡‡ç”¨é˜²æ°´è®¾è®¡æè´¨éå¸¸å¥½çš„é‡‘å±ï¼Œç”¨æ¿€å…‰èš€åˆ»çš„å°å­”ä¼´éšç€å°å°çš„LEDï¼Œè½»æ‹ä¸¤ä¸‹ï¼Œæ˜¾ç¤ºç›®å‰å®Œæˆäº†å½“å¤©æ—¢å®šç›®æ ‡çš„ç™¾åˆ†æ¯”ï¼Œå’Œå¾ˆé…·çš„ç‚¹æ•°æ—¶é—´ï¼Œåˆçœ‹æœ‰äº›æ‘¸ä¸åˆ°å¤´è„‘ä½†ç¬”è€…ä½¿ç”¨å‡ å¤©ä¸‹æ¥åŸºæœ¬ä¹ æƒ¯å¿«é€Ÿæ—¶é—´æ—¶é—´ï¼›è½»æ‹ä¸‰ä¸‹ï¼Œå°±å¯ä»¥è‡ªåŠ¨åˆ‡æ¢è¿åŠ¨æ¨¡å¼ï¼Œæ¯”å¦‚è·‘æ­¥ã€æ¸¸æ³³ã€è¶³çƒç­‰ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>ç¼ºå°‘å…¶ä»–æ‰‹ç¯ä¸­æ¯”è¾ƒæ–¹ä¾¿å®ç”¨çš„æ™ºèƒ½å”¤é†’é—¹é’Ÿï¼Œé€šè¿‡åœ¨æ‰‹è…•ä¸Šçš„è½»å¾®éœ‡åŠ¨è¾¾åˆ°é—¹é’Ÿä½œç”¨çš„åŠŸèƒ½ï¼Œç›¸ä¿¡ä¸å°‘ä¸Šç­æ—çš„æœ‹å‹æ¯å¤©æ¸…æ™¨éƒ½å¶å°”ä¼šè¢«åˆºè€³çš„é—¹é“ƒå«é†’ï¼Œéå¸¸ä¸çˆ½ï¼PS.å¦‚æœæƒ³æ°¸è¿œä¸å†æƒ³å¬ä¸€é¦–æ­Œï¼Œé‚£å°±æŠŠå®ƒè®¾ç½®æˆé—¹é’Ÿå§ï¼</li><li>ä¸æ‰‹æœºAppåŒæ­¥æ²¡æœ‰å®ç°çœŸæ­£çš„è‡ªåŠ¨åŒæ­¥ï¼Œç”±äºæ–°é²œæ„Ÿï¼Œç¬”è€…ä¼šæ¯å¤©å¤šæ¬¡æ‹¿èµ·æ‰‹æœºç‚¹å¼€Shineçš„Appç‚¹å‡»åŒæ­¥ï¼Œç›¸ä¿¡ä»¥åé¢‘ç‡ä¼šä¸‹é™ï¼Œç›®å‰æ¯å¤©æ—©ä¸Šæ‰“å¼€Appçœ‹è‡ªå·±å‰ä¸€å¤©æ™šä¸Šæ·±åº¦ç¡çœ æ—¶é—´å€’æ˜¯ä¸€ä»¶éå¸¸æœ‰æ„æ€çš„äº‹ã€‚</li><li>Appçš„SNSç‰¹æ€§ï¼Œç›¸æ¯”å›½å†…ç›¸ä¼¼è¿åŠ¨ç±»Appç•¥å·®ï¼Œä½†æ¢ä¸ªæ€è·¯ï¼Œä¹Ÿè®¸Shineå›¢é˜Ÿæ˜¯ä¸ºäº†äººä»¬æ›´åŠ å…³æ³¨è¿åŠ¨ï¼Œä»–ä»¬æ¯”è¾ƒå’Œäº’åŠ¨ä¸åº”è¯¥å–§å®¾å¤ºä¸»ä¹Ÿè¯´ä¸å®šã€‚</li></ul><h3 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h3><p>Misfit Shineå¯¹äºç¬”è€…æ¥è¯´æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œæˆ‘å¯ä»¥æ¥å—å®ƒçš„å…¨éƒ¨ä¼˜ç¼ºç‚¹ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šæŠŠè‡ªå·±çš„æ„è§å’Œä½“éªŒç»“æœé€šè¿‡é‚®ä»¶çš„æ–¹å¼åé¦ˆç»™Misfitçš„å›¢é˜Ÿã€‚ï¼ˆå¤©æ™“å¾—æˆ‘çš„é‚®ä»¶ä¸­çš„è‹±æ–‡ä»–ä»¬èƒ½ä¸èƒ½çœ‹æ‡‚æˆ–è€…æ ¹æœ¬è¢«å¿½è§†æ‰ä¹Ÿè¯´ä¸å®šï¼‰</p><p>åŸæœ¬æƒ³åœ¨è¿™ç¯‡å†™å®Œä¹‹å‰å¯ä»¥æˆ´ç€Shineè¸¢çƒï¼Œçœ‹çœ‹è®°å½•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç¢°å·§æœ¬å‘¨æ²¡æœ‰æœºä¼š</p>]]></content>
    
    <summary type="html">
    
      å¤æ—¥æ¥è¢­ï¼Œç¬”è€…å¯¹æ¯”äº†å‡ æ¬¾è¿åŠ¨æ‰‹ç¯ï¼Œæœ€ç»ˆå…¥æ‰‹Misfit Shineå¸¦æ¥å¼€ç®±å›¾æ–‡å’Œç®€å•å¯¹æ¯”åˆ†äº«
    
    </summary>
    
      <category term="blog" scheme="https://beanlee.github.io/categories/blog/"/>
    
    
      <category term="æ•°ç äº§å“" scheme="https://beanlee.github.io/tags/%E6%95%B0%E7%A0%81%E4%BA%A7%E5%93%81/"/>
    
  </entry>
  
</feed>
